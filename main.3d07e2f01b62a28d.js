"use strict";(self.webpackChunkMyCV_01=self.webpackChunkMyCV_01||[]).push([[179],{2011:(jn,Tt,Q)=>{Q.d(Tt,{Dh:()=>it,GT:()=>lt,cc:()=>Rt,hO:()=>Pt,on:()=>Ie,pX:()=>ut,xv:()=>dt});var p=Q(4650),he=Q(9260),ae=Q(4027);jn=Q.hmd(jn);const Ve=["ngOnDestroy"],ut=(vt,Dt,Ot,kt={})=>new Proxy(vt,{get:(Lt,xt)=>Ot.runOutsideAngular(()=>{var Yt;if(vt[xt])return!(null===(Yt=kt?.spy)||void 0===Yt)&&Yt.get&&kt.spy.get(xt,vt[xt]),vt[xt];if(Ve.indexOf(xt)>-1)return()=>{};const ke=Dt.toPromise().then(et=>{const mt=et&&et[xt];return"function"==typeof mt?mt.bind(et):mt&&mt.then?mt.then(Oe=>Ot.run(()=>Oe)):Ot.run(()=>mt)});return new Proxy(()=>{},{get:(et,mt)=>ke[mt],apply:(et,mt,Oe)=>ke.then(Te=>{var Ye;const He=Te&&Te(...Oe);return!(null===(Ye=kt?.spy)||void 0===Ye)&&Ye.apply&&kt.spy.apply(xt,Oe,He),He})})})}),lt=(vt,Dt)=>{Dt.forEach(Ot=>{Object.getOwnPropertyNames(Ot.prototype||Ot).forEach(kt=>{Object.defineProperty(vt.prototype,kt,Object.getOwnPropertyDescriptor(Ot.prototype||Ot,kt))})})};class Ge{constructor(Dt){return Dt}}const it=new p.OlP("angularfire2.app.options"),dt=new p.OlP("angularfire2.app.name");function Ie(vt,Dt,Ot){const Lt="object"==typeof Ot&&Ot||{};Lt.name=Lt.name||"string"==typeof Ot&&Ot||"[DEFAULT]";const Yt=he.Z.apps.filter(ke=>ke&&ke.name===Lt.name)[0]||Dt.runOutsideAngular(()=>he.Z.initializeApp(vt,Lt));try{JSON.stringify(vt)!==JSON.stringify(Yt.options)&&we("error",`${Yt.name} Firebase App already initialized with different options${jn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ge(Yt)}const we=(vt,...Dt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[vt](...Dt)},Ae={provide:Ge,useFactory:Ie,deps:[it,p.R0b,[new p.FiY,dt]]};let Pt=(()=>{class vt{constructor(Ot){he.Z.registerVersion("angularfire",ae.q4.full,"core"),he.Z.registerVersion("angularfire",ae.q4.full,"app-compat"),he.Z.registerVersion("angular",p.q4F.full,Ot.toString())}static initializeApp(Ot,kt){return{ngModule:vt,providers:[{provide:it,useValue:Ot},{provide:dt,useValue:kt}]}}}return vt.\u0275fac=function(Ot){return new(Ot||vt)(p.LFG(p.Lbi))},vt.\u0275mod=p.oAB({type:vt}),vt.\u0275inj=p.cJS({providers:[Ae]}),vt})();function Rt(vt,Dt,Ot,kt,Lt){const[,xt,Yt]=globalThis.\u0275AngularfireInstanceCache.find(ke=>ke[0]===vt)||[];if(xt)return function sn(vt,Dt){try{return vt.toString()===Dt.toString()}catch{return vt===Dt}}(Lt,Yt)||(rt("error",`${Dt} was already initialized on the ${Ot} Firebase App with different settings.${tn?" You may need to reload as Firebase is not HMR aware.":""}`),rt("warn",{is:Lt,was:Yt})),xt;{const ke=kt();return globalThis.\u0275AngularfireInstanceCache.push([vt,ke,Lt]),ke}}const tn=!!jn.hot,rt=(vt,...Dt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[vt](...Dt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4027:(jn,Tt,Q)=>{Q.d(Tt,{q4:()=>rt,iC:()=>Zn,fc:()=>Vn,HU:()=>jt,vb:()=>Te,JM:()=>Oe,nk:()=>mt,n1:()=>ke,_J:()=>et,u3:()=>Qn});var p=Q(4650),he=Q(259),ae=Q(4880),Ve=Q(751),ut=Q(3008),lt=Q(4408),it=Q(7565);const Ie=new class dt extends it.v{}(class Ge extends lt.o{constructor(Hn,Mn){super(Hn,Mn),this.scheduler=Hn,this.work=Mn}schedule(Hn,Mn=0){return Mn>0?super.schedule(Hn,Mn):(this.delay=Mn,this.state=Hn,this.scheduler.flush(this),this)}execute(Hn,Mn){return Mn>0||this.closed?super.execute(Hn,Mn):this._execute(Hn,Mn)}requestAsyncId(Hn,Mn,vr=0){return null!=vr&&vr>0||null==vr&&this.delay>0?super.requestAsyncId(Hn,Mn,vr):(Hn.flush(this),0)}});var Ae=Q(4986),Pt=Q(9751),Rt=Q(8505),sn=Q(5363),tn=Q(9468);const rt=new p.GfV("7.5.0"),vt="__angularfire_symbol__analyticsIsSupportedValue",Dt="__angularfire_symbol__analyticsIsSupported",Ot="__angularfire_symbol__remoteConfigIsSupportedValue",kt="__angularfire_symbol__remoteConfigIsSupported",Lt="__angularfire_symbol__messagingIsSupportedValue",xt="__angularfire_symbol__messagingIsSupported";globalThis[Dt]||(globalThis[Dt]=(0,ut.Gb)().then(It=>globalThis[vt]=It).catch(()=>globalThis[vt]=!1)),globalThis[xt]||(globalThis[xt]=(0,Ve.Gb)().then(It=>globalThis[Lt]=It).catch(()=>globalThis[Lt]=!1)),globalThis[kt]||(globalThis[kt]=(0,ae.Gb)().then(It=>globalThis[Ot]=It).catch(()=>globalThis[Ot]=!1));const Yt=It=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${It} in the constructor, first ensure that ${It} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${It})\`.`,ke={async:()=>globalThis[xt],sync:()=>{const It=globalThis[Lt];if(void 0===It)throw new Error(Yt("Messaging"));return It}},et={async:()=>globalThis[kt],sync:()=>{const It=globalThis[Ot];if(void 0===It)throw new Error(Yt("RemoteConfig"));return It}},mt={async:()=>globalThis[Dt],sync:()=>{const It=globalThis[vt];if(void 0===It)throw new Error(Yt("Analytics"));return It}};function Oe(It,Hn,Mn){if(Hn){if(1===Hn.length)return Hn[0];const Cr=Hn.filter(Pi=>Pi.app===Mn);if(1===Cr.length)return Cr[0]}return Mn.container.getProvider(It).getImmediate({optional:!0})}const Te=(It,Hn)=>{const Mn=Hn?[Hn]:(0,he.C6)(),vr=[];return Mn.forEach(_r=>{_r.container.getProvider(It).instances.forEach(Pi=>{vr.includes(Pi)||vr.push(Pi)})}),vr};function Ye(){}class He{constructor(Hn,Mn=Ie){this.zone=Hn,this.delegate=Mn}now(){return this.delegate.now()}schedule(Hn,Mn,vr){const _r=this.zone;return this.delegate.schedule(function(Pi){_r.runGuarded(()=>{Hn.apply(this,[Pi])})},Mn,vr)}}class zt{constructor(Hn){this.zone=Hn,this.task=null}call(Hn,Mn){const vr=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ye,{},Ye,Ye)),Mn.pipe((0,Rt.b)({next:vr,complete:vr,error:vr})).subscribe(Hn).add(vr)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let jt=(()=>{class It{constructor(Mn){this.ngZone=Mn,this.outsideAngular=Mn.runOutsideAngular(()=>new He(Zone.current)),this.insideAngular=Mn.run(()=>new He(Zone.current,Ae.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return It.\u0275fac=function(Mn){return new(Mn||It)(p.LFG(p.R0b))},It.\u0275prov=p.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})();function pn(){const It=globalThis.\u0275AngularFireScheduler;if(!It)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return It}function Er(It){return pn().ngZone.runOutsideAngular(()=>It())}function cr(It){return pn().ngZone.run(()=>It())}function Vn(It){return It.pipe((0,sn.Q)(pn().outsideAngular))}function Zn(It){return pn(),function Dr(It){return function(Mn){return(Mn=Mn.lift(new zt(It.ngZone))).pipe((0,tn.R)(It.outsideAngular),(0,sn.Q)(It.insideAngular))}}(pn())(It)}const mi=(It,Hn)=>function(){const vr=arguments;return Hn&&setTimeout(()=>{"scheduled"===Hn.state&&Hn.invoke()},10),cr(()=>It.apply(void 0,vr))},Qn=(It,Hn)=>function(){let Mn;const vr=arguments;for(let Cr=0;Cr<arguments.length;Cr++)"function"==typeof vr[Cr]&&(Hn&&(Mn||(Mn=cr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ye,{},Ye,Ye)))),vr[Cr]=mi(vr[Cr],Mn));const _r=Er(()=>It.apply(this,vr));if(!Hn){if(_r instanceof Pt.y){const Cr=pn();return _r.pipe((0,tn.R)(Cr.outsideAngular),(0,sn.Q)(Cr.insideAngular))}return cr(()=>_r)}return _r instanceof Pt.y?_r.pipe(Zn):_r instanceof Promise?cr(()=>new Promise((Cr,Pi)=>_r.then(Ci=>cr(()=>Cr(Ci)),Ci=>cr(()=>Pi(Ci))))):"function"==typeof _r&&Mn?function(){return setTimeout(()=>{Mn&&"scheduled"===Mn.state&&Mn.invoke()},10),_r.apply(this,arguments)}:cr(()=>_r)}},552:(jn,Tt,Q)=>{Q.d(Tt,{$:()=>Q1,A:()=>we,B:()=>Rt,G:()=>at,H:()=>Bn,J:()=>cc,L:()=>ve,M:()=>Xy,N:()=>_S,P:()=>yP,Q:()=>yS,R:()=>Um,T:()=>vS,U:()=>ih,V:()=>Jy,W:()=>e0,X:()=>Yf,Y:()=>Jf,Z:()=>ah,_:()=>nu,a:()=>uh,a0:()=>c0,a1:()=>ca,a2:()=>Em,a3:()=>$c,a4:()=>Cm,a5:()=>l0,a6:()=>CS,a7:()=>SS,a8:()=>J1,a9:()=>xS,aA:()=>me,aB:()=>cu,aC:()=>la,aD:()=>Tl,aE:()=>Xn,aI:()=>hc,aL:()=>tu,aa:()=>AS,ab:()=>Ks,ac:()=>ch,af:()=>mP,ag:()=>ew,ah:()=>f0,ak:()=>Yu,al:()=>p0,an:()=>RS,ao:()=>sp,ap:()=>mt,aq:()=>un,ar:()=>$t,as:()=>Ot,at:()=>Km,au:()=>Iw,av:()=>Gr,aw:()=>kt,ax:()=>ke,ay:()=>Ch,az:()=>Te,b:()=>Il,c:()=>vh,d:()=>Mo,e:()=>yw,f:()=>US,g:()=>VS,h:()=>jS,i:()=>dw,j:()=>$m,k:()=>k0,l:()=>jm,m:()=>XS,n:()=>ua,o:()=>it,r:()=>_h,s:()=>td,u:()=>_P,v:()=>iw});var p=Q(5861),he=Q(2090),ae=Q(9681),Ve=Q(1877),ut=Q(655),lt=Q(4859);const it={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},we={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Rt=function Ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},sn=function Pt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tn=new he.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vt=new Ve.Yd("@firebase/auth");function Dt(T,...b){vt.logLevel<=Ve.in.ERROR&&vt.error(`Auth (${ae.SDK_VERSION}): ${T}`,...b)}function Ot(T,...b){throw Yt(T,...b)}function kt(T,...b){return Yt(T,...b)}function Lt(T,b,E){const N=Object.assign(Object.assign({},sn()),{[b]:E});return new he.LL("auth","Firebase",N).create(b,{appName:T.name})}function xt(T,b,E){if(!(b instanceof E))throw E.name!==b.constructor.name&&Ot(T,"argument-error"),Lt(T,"argument-error",`Type of ${b.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yt(T,...b){if("string"!=typeof T){const E=b[0],N=[...b.slice(1)];return N[0]&&(N[0].appName=T.name),T._errorFactory.create(E,...N)}return tn.create(T,...b)}function ke(T,b,...E){if(!T)throw Yt(b,...E)}function et(T){const b="INTERNAL ASSERTION FAILED: "+T;throw Dt(b),new Error(b)}function mt(T,b){T||et(b)}const Oe=new Map;function Te(T){mt(T instanceof Function,"Expected a class definition");let b=Oe.get(T);return b?(mt(b instanceof T,"Instance stored in cache mismatched with class"),b):(b=new T,Oe.set(T,b),b)}function zt(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function jt(){return"http:"===pn()||"https:"===pn()}function pn(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class Vn{constructor(b,E){this.shortDelay=b,this.longDelay=E,mt(E>b,"Short delay should be less than long delay!"),this.isMobile=(0,he.uI)()||(0,he.b$)()}get(){return function Er(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(jt()||(0,he.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function On(T,b){mt(T.emulator,"Emulator should always be set here");const{url:E}=T.emulator;return b?`${E}${b.startsWith("/")?b.slice(1):b}`:E}class Zn{static initialize(b,E,N){this.fetchImpl=b,E&&(this.headersImpl=E),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},mi=new Vn(3e4,6e4);function Qn(T,b){return T.tenantId&&!b.tenantId?Object.assign(Object.assign({},b),{tenantId:T.tenantId}):b}function It(T,b,E,N){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,p.Z)(function*(T,b,E,N,H={}){return Mn(T,H,(0,p.Z)(function*(){let oe={},$e={};N&&("GET"===b?$e=N:oe={body:JSON.stringify(N)});const Wt=(0,he.xO)(Object.assign({key:T.config.apiKey},$e)).slice(1),xn=yield T._getAdditionalHeaders();return xn["Content-Type"]="application/json",T.languageCode&&(xn["X-Firebase-Locale"]=T.languageCode),Zn.fetch()(Pi(T,T.config.apiHost,E,Wt),Object.assign({method:b,headers:xn,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function Mn(T,b,E){return vr.apply(this,arguments)}function vr(){return(vr=(0,p.Z)(function*(T,b,E){T._canInitEmulator=!1;const N=Object.assign(Object.assign({},Dr),b);try{const H=new Ci(T),oe=yield Promise.race([E(),H.promise]);H.clearNetworkTimeout();const $e=yield oe.json();if("needConfirmation"in $e)throw Si(T,"account-exists-with-different-credential",$e);if(oe.ok&&!("errorMessage"in $e))return $e;{const Wt=oe.ok?$e.errorMessage:$e.error.message,[xn,nr]=Wt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xn)throw Si(T,"credential-already-in-use",$e);if("EMAIL_EXISTS"===xn)throw Si(T,"email-already-in-use",$e);if("USER_DISABLED"===xn)throw Si(T,"user-disabled",$e);const Fr=N[xn]||xn.toLowerCase().replace(/[_\s]+/g,"-");if(nr)throw Lt(T,Fr,nr);Ot(T,Fr)}}catch(H){if(H instanceof he.ZR)throw H;Ot(T,"network-request-failed")}})).apply(this,arguments)}function _r(T,b,E,N){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,p.Z)(function*(T,b,E,N,H={}){const oe=yield It(T,b,E,N,H);return"mfaPendingCredential"in oe&&Ot(T,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function Pi(T,b,E,N){const H=`${b}${E}?${N}`;return T.config.emulator?On(T.config,H):`${T.config.apiScheme}://${H}`}class Ci{constructor(b){this.auth=b,this.timer=null,this.promise=new Promise((E,N)=>{this.timer=setTimeout(()=>N(kt(this.auth,"network-request-failed")),mi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Si(T,b,E){const N={appName:T.name};E.email&&(N.email=E.email),E.phoneNumber&&(N.phoneNumber=E.phoneNumber);const H=kt(T,b,N);return H.customData._tokenResponse=E,H}function cn(){return(cn=(0,p.Z)(function*(T,b){return It(T,"POST","/v1/accounts:delete",b)})).apply(this,arguments)}function Ke(T,b){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,p.Z)(function*(T,b){return It(T,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function bt(T,b){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,p.Z)(function*(T,b){return It(T,"POST","/v1/accounts:lookup",b)})).apply(this,arguments)}function ur(T){if(T)try{const b=new Date(Number(T));if(!isNaN(b.getTime()))return b.toUTCString()}catch{}}function ri(){return(ri=(0,p.Z)(function*(T,b=!1){const E=(0,he.m9)(T),N=yield E.getIdToken(b),H=an(N);ke(H&&H.exp&&H.auth_time&&H.iat,E.auth,"internal-error");const oe="object"==typeof H.firebase?H.firebase:void 0,$e=oe?.sign_in_provider;return{claims:H,token:N,authTime:ur(hn(H.auth_time)),issuedAtTime:ur(hn(H.iat)),expirationTime:ur(hn(H.exp)),signInProvider:$e||null,signInSecondFactor:oe?.sign_in_second_factor||null}})).apply(this,arguments)}function hn(T){return 1e3*Number(T)}function an(T){const[b,E,N]=T.split(".");if(void 0===b||void 0===E||void 0===N)return Dt("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,he.tV)(E);return H?JSON.parse(H):(Dt("Failed to decode base64 JWT payload"),null)}catch(H){return Dt("Caught error parsing JWT payload as JSON",H?.toString()),null}}function yr(T,b){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,p.Z)(function*(T,b,E=!1){if(E)return b;try{return yield b}catch(N){throw N instanceof he.ZR&&hi(N)&&T.auth.currentUser===T&&(yield T.auth.signOut()),N}})).apply(this,arguments)}function hi({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}class Xi{constructor(b){this.user=b,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(b){var E;if(b){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const H=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(b=!1){var E=this;if(!this.isRunning)return;const N=this.getInterval(b);this.timerId=setTimeout((0,p.Z)(function*(){yield E.iteration()}),N)}iteration(){var b=this;return(0,p.Z)(function*(){try{yield b.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E?.code&&b.schedule(!0))}b.schedule()})()}}class si{constructor(b,E){this.createdAt=b,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=ur(this.lastLoginAt),this.creationTime=ur(this.createdAt)}_copy(b){this.createdAt=b.createdAt,this.lastLoginAt=b.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fi(T){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,p.Z)(function*(T){var b;const E=T.auth,N=yield T.getIdToken(),H=yield yr(T,bt(E,{idToken:N}));ke(H?.users.length,E,"internal-error");const oe=H.users[0];T._notifyReloadListener(oe);const $e=null!==(b=oe.providerUserInfo)&&void 0!==b&&b.length?Ri(oe.providerUserInfo):[],Wt=As(T.providerData,$e),Fr=!!T.isAnonymous&&!(T.email&&oe.passwordHash||Wt?.length),as={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:Wt,metadata:new si(oe.createdAt,oe.lastLoginAt),isAnonymous:Fr};Object.assign(T,as)})).apply(this,arguments)}function fr(){return(fr=(0,p.Z)(function*(T){const b=(0,he.m9)(T);yield fi(b),yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)})).apply(this,arguments)}function As(T,b){return[...T.filter(N=>!b.some(H=>H.providerId===N.providerId)),...b]}function Ri(T){return T.map(b=>{var{providerId:E}=b,N=(0,ut._T)(b,["providerId"]);return{providerId:E,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}function St(){return(St=(0,p.Z)(function*(T,b){const E=yield Mn(T,{},(0,p.Z)(function*(){const N=(0,he.xO)({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:H,apiKey:oe}=T.config,$e=Pi(T,H,"/v1/token",`key=${oe}`),Wt=yield T._getAdditionalHeaders();return Wt["Content-Type"]="application/x-www-form-urlencoded",Zn.fetch()($e,{method:"POST",headers:Wt,body:N})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class fn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(b){ke(b.idToken,"internal-error"),ke(typeof b.idToken<"u","internal-error"),ke(typeof b.refreshToken<"u","internal-error");const E="expiresIn"in b&&typeof b.expiresIn<"u"?Number(b.expiresIn):function Ln(T){const b=an(T);return ke(b,"internal-error"),ke(typeof b.exp<"u","internal-error"),ke(typeof b.iat<"u","internal-error"),Number(b.exp)-Number(b.iat)}(b.idToken);this.updateTokensAndExpiration(b.idToken,b.refreshToken,E)}getToken(b,E=!1){var N=this;return(0,p.Z)(function*(){return ke(!N.accessToken||N.refreshToken,b,"user-token-expired"),E||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(b,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(b,E){var N=this;return(0,p.Z)(function*(){const{accessToken:H,refreshToken:oe,expiresIn:$e}=yield function Qt(T,b){return St.apply(this,arguments)}(b,E);N.updateTokensAndExpiration(H,oe,Number($e))})()}updateTokensAndExpiration(b,E,N){this.refreshToken=E||null,this.accessToken=b||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(b,E){const{refreshToken:N,accessToken:H,expirationTime:oe}=E,$e=new fn;return N&&(ke("string"==typeof N,"internal-error",{appName:b}),$e.refreshToken=N),H&&(ke("string"==typeof H,"internal-error",{appName:b}),$e.accessToken=H),oe&&(ke("number"==typeof oe,"internal-error",{appName:b}),$e.expirationTime=oe),$e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(b){this.accessToken=b.accessToken,this.refreshToken=b.refreshToken,this.expirationTime=b.expirationTime}_clone(){return Object.assign(new fn,this.toJSON())}_performRefresh(){return et("not implemented")}}function qn(T,b){ke("string"==typeof T||typeof T>"u","internal-error",{appName:b})}class sr{constructor(b){var{uid:E,auth:N,stsTokenManager:H}=b,oe=(0,ut._T)(b,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=N,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new si(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(b){var E=this;return(0,p.Z)(function*(){const N=yield yr(E,E.stsTokenManager.getToken(E.auth,b));return ke(N,E.auth,"internal-error"),E.accessToken!==N&&(E.accessToken=N,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),N})()}getIdTokenResult(b){return function jr(T){return ri.apply(this,arguments)}(this,b)}reload(){return function ys(T){return fr.apply(this,arguments)}(this)}_assign(b){this!==b&&(ke(this.uid===b.uid,this.auth,"internal-error"),this.displayName=b.displayName,this.photoURL=b.photoURL,this.email=b.email,this.emailVerified=b.emailVerified,this.phoneNumber=b.phoneNumber,this.isAnonymous=b.isAnonymous,this.tenantId=b.tenantId,this.providerData=b.providerData.map(E=>Object.assign({},E)),this.metadata._copy(b.metadata),this.stsTokenManager._assign(b.stsTokenManager))}_clone(b){return new sr(Object.assign(Object.assign({},this),{auth:b,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(b){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=b,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(b){this.reloadListener?this.reloadListener(b):this.reloadUserInfo=b}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(b,E=!1){var N=this;return(0,p.Z)(function*(){let H=!1;b.idToken&&b.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(b),H=!0),E&&(yield fi(N)),yield N.auth._persistUserIfCurrent(N),H&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var b=this;return(0,p.Z)(function*(){const E=yield b.getIdToken();return yield yr(b,function zi(T,b){return cn.apply(this,arguments)}(b.auth,{idToken:E})),b.stsTokenManager.clearRefreshToken(),b.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(b=>Object.assign({},b)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(b,E){var N,H,oe,$e,Wt,xn,nr,Fr;const as=null!==(N=E.displayName)&&void 0!==N?N:void 0,_c=null!==(H=E.email)&&void 0!==H?H:void 0,uu=null!==(oe=E.phoneNumber)&&void 0!==oe?oe:void 0,Ym=null!==($e=E.photoURL)&&void 0!==$e?$e:void 0,Xm=null!==(Wt=E.tenantId)&&void 0!==Wt?Wt:void 0,Ip=null!==(xn=E._redirectEventId)&&void 0!==xn?xn:void 0,Pw=null!==(nr=E.createdAt)&&void 0!==nr?nr:void 0,B0=null!==(Fr=E.lastLoginAt)&&void 0!==Fr?Fr:void 0,{uid:U0,emailVerified:Sh,isAnonymous:Rw,providerData:j0,stsTokenManager:Qm}=E;ke(U0&&Qm,b,"internal-error");const V0=fn.fromJSON(this.name,Qm);ke("string"==typeof U0,b,"internal-error"),qn(as,b.name),qn(_c,b.name),ke("boolean"==typeof Sh,b,"internal-error"),ke("boolean"==typeof Rw,b,"internal-error"),qn(uu,b.name),qn(Ym,b.name),qn(Xm,b.name),qn(Ip,b.name),qn(Pw,b.name),qn(B0,b.name);const Jm=new sr({uid:U0,auth:b,email:_c,emailVerified:Sh,displayName:as,isAnonymous:Rw,photoURL:Ym,phoneNumber:uu,tenantId:Xm,stsTokenManager:V0,createdAt:Pw,lastLoginAt:B0});return j0&&Array.isArray(j0)&&(Jm.providerData=j0.map(NP=>Object.assign({},NP))),Ip&&(Jm._redirectEventId=Ip),Jm}static _fromIdTokenResponse(b,E,N=!1){return(0,p.Z)(function*(){const H=new fn;H.updateFromServerResponse(E);const oe=new sr({uid:E.localId,auth:b,stsTokenManager:H,isAnonymous:N});return yield fi(oe),oe})()}}const ve=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(E,N){var H=this;return(0,p.Z)(function*(){H.storage[E]=N})()}_get(E){var N=this;return(0,p.Z)(function*(){const H=N.storage[E];return void 0===H?null:H})()}_remove(E){var N=this;return(0,p.Z)(function*(){delete N.storage[E]})()}_addListener(E,N){}_removeListener(E,N){}}return T.type="NONE",T})();function me(T,b,E){return`firebase:${T}:${b}:${E}`}class J{constructor(b,E,N){this.persistence=b,this.auth=E,this.userKey=N;const{config:H,name:oe}=this.auth;this.fullUserKey=me(this.userKey,H.apiKey,oe),this.fullPersistenceKey=me("persistence",H.apiKey,oe),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(b){return this.persistence._set(this.fullUserKey,b.toJSON())}getCurrentUser(){var b=this;return(0,p.Z)(function*(){const E=yield b.persistence._get(b.fullUserKey);return E?sr._fromJSON(b.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(b){var E=this;return(0,p.Z)(function*(){if(E.persistence===b)return;const N=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=b,N?E.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(b,E,N="authUser"){return(0,p.Z)(function*(){if(!E.length)return new J(Te(ve),b,N);const H=(yield Promise.all(E.map(function(){var nr=(0,p.Z)(function*(Fr){if(yield Fr._isAvailable())return Fr});return function(Fr){return nr.apply(this,arguments)}}()))).filter(nr=>nr);let oe=H[0]||Te(ve);const $e=me(N,b.config.apiKey,b.name);let Wt=null;for(const nr of E)try{const Fr=yield nr._get($e);if(Fr){const as=sr._fromJSON(b,Fr);nr!==oe&&(Wt=as),oe=nr;break}}catch{}const xn=H.filter(nr=>nr._shouldAllowMigration);return oe._shouldAllowMigration&&xn.length?(oe=xn[0],Wt&&(yield oe._set($e,Wt.toJSON())),yield Promise.all(E.map(function(){var nr=(0,p.Z)(function*(Fr){if(Fr!==oe)try{yield Fr._remove($e)}catch{}});return function(Fr){return nr.apply(this,arguments)}}())),new J(oe,b,N)):new J(oe,b,N)})()}}function K(T){const b=T.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";if(tt(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(j(b))return"Firefox";if(b.includes("silk/"))return"Silk";if(Bt(b))return"Blackberry";if(gn(b))return"Webos";if(ee(b))return"Safari";if((b.includes("chrome/")||Ce(b))&&!b.includes("edge/"))return"Chrome";if($t(b))return"Android";{const N=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===N?.length)return N[1]}return"Other"}function j(T=(0,he.z$)()){return/firefox\//i.test(T)}function ee(T=(0,he.z$)()){const b=T.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}function Ce(T=(0,he.z$)()){return/crios\//i.test(T)}function tt(T=(0,he.z$)()){return/iemobile/i.test(T)}function $t(T=(0,he.z$)()){return/android/i.test(T)}function Bt(T=(0,he.z$)()){return/blackberry/i.test(T)}function gn(T=(0,he.z$)()){return/webos/i.test(T)}function un(T=(0,he.z$)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function Gr(T=(0,he.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}function _i(T=(0,he.z$)()){return un(T)||$t(T)||gn(T)||Bt(T)||/windows phone/i.test(T)||tt(T)}function st(T,b=[]){let E;switch(T){case"Browser":E=K((0,he.z$)());break;case"Worker":E=`${K((0,he.z$)())}-${T}`;break;default:E=T}const N=b.length?b.join(","):"FirebaseCore-web";return`${E}/JsCore/${ae.SDK_VERSION}/${N}`}class wn{constructor(b){this.auth=b,this.queue=[]}pushCallback(b,E){const N=oe=>new Promise(($e,Wt)=>{try{$e(b(oe))}catch(xn){Wt(xn)}});N.onAbort=E,this.queue.push(N);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(b){var E=this;return(0,p.Z)(function*(){if(E.auth.currentUser===b)return;const N=[];try{for(const H of E.queue)yield H(b),H.onAbort&&N.push(H.onAbort)}catch(H){N.reverse();for(const oe of N)try{oe()}catch{}throw E.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}class Pn{constructor(b,E,N){this.app=b,this.heartbeatServiceProvider=E,this.config=N,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xe(this),this.idTokenSubscription=new xe(this),this.beforeStateQueue=new wn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=b.name,this.clientVersion=N.sdkClientVersion}_initializeWithPersistence(b,E){var N=this;return E&&(this._popupRedirectResolver=Te(E)),this._initializationPromise=this.queue((0,p.Z)(function*(){var H,oe;if(!N._deleted&&(N.persistenceManager=yield J.create(N,b),!N._deleted)){if(null!==(H=N._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield N._popupRedirectResolver._initialize(N)}catch{}yield N.initializeCurrentUser(E),N.lastNotifiedUid=(null===(oe=N.currentUser)||void 0===oe?void 0:oe.uid)||null,!N._deleted&&(N._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var b=this;return(0,p.Z)(function*(){if(b._deleted)return;const E=yield b.assertedPersistence.getCurrentUser();if(b.currentUser||E){if(b.currentUser&&E&&b.currentUser.uid===E.uid)return b._currentUser._assign(E),void(yield b.currentUser.getIdToken());yield b._updateCurrentUser(E,!0)}})()}initializeCurrentUser(b){var E=this;return(0,p.Z)(function*(){var N;const H=yield E.assertedPersistence.getCurrentUser();let oe=H,$e=!1;if(b&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const Wt=null===(N=E.redirectUser)||void 0===N?void 0:N._redirectEventId,xn=oe?._redirectEventId,nr=yield E.tryRedirectSignIn(b);(!Wt||Wt===xn)&&nr?.user&&(oe=nr.user,$e=!0)}if(!oe)return E.directlySetCurrentUser(null);if(!oe._redirectEventId){if($e)try{yield E.beforeStateQueue.runMiddleware(oe)}catch(Wt){oe=H,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(Wt))}return oe?E.reloadAndSetCurrentUserOrClear(oe):E.directlySetCurrentUser(null)}return ke(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===oe._redirectEventId?E.directlySetCurrentUser(oe):E.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(b){var E=this;return(0,p.Z)(function*(){let N=null;try{N=yield E._popupRedirectResolver._completeRedirectFn(E,b,!0)}catch{yield E._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(b){var E=this;return(0,p.Z)(function*(){try{yield fi(b)}catch(N){if("auth/network-request-failed"!==N?.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(b)})()}useDeviceLanguage(){this.languageCode=function cr(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var b=this;return(0,p.Z)(function*(){b._deleted=!0})()}updateCurrentUser(b){var E=this;return(0,p.Z)(function*(){const N=b?(0,he.m9)(b):null;return N&&ke(N.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(N&&N._clone(E))})()}_updateCurrentUser(b,E=!1){var N=this;return(0,p.Z)(function*(){if(!N._deleted)return b&&ke(N.tenantId===b.tenantId,N,"tenant-id-mismatch"),E||(yield N.beforeStateQueue.runMiddleware(b)),N.queue((0,p.Z)(function*(){yield N.directlySetCurrentUser(b),N.notifyAuthListeners()}))})()}signOut(){var b=this;return(0,p.Z)(function*(){return yield b.beforeStateQueue.runMiddleware(null),(b.redirectPersistenceManager||b._popupRedirectResolver)&&(yield b._setRedirectUser(null)),b._updateCurrentUser(null,!0)})()}setPersistence(b){var E=this;return this.queue((0,p.Z)(function*(){yield E.assertedPersistence.setPersistence(Te(b))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(b){this._errorFactory=new he.LL("auth","Firebase",b())}onAuthStateChanged(b,E,N){return this.registerStateListener(this.authStateSubscription,b,E,N)}beforeAuthStateChanged(b,E){return this.beforeStateQueue.pushCallback(b,E)}onIdTokenChanged(b,E,N){return this.registerStateListener(this.idTokenSubscription,b,E,N)}toJSON(){var b;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(b=this._currentUser)||void 0===b?void 0:b.toJSON()}}_setRedirectUser(b,E){var N=this;return(0,p.Z)(function*(){const H=yield N.getOrInitRedirectPersistenceManager(E);return null===b?H.removeCurrentUser():H.setCurrentUser(b)})()}getOrInitRedirectPersistenceManager(b){var E=this;return(0,p.Z)(function*(){if(!E.redirectPersistenceManager){const N=b&&Te(b)||E._popupRedirectResolver;ke(N,E,"argument-error"),E.redirectPersistenceManager=yield J.create(E,[Te(N._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(b){var E=this;return(0,p.Z)(function*(){var N,H;return E._isInitialized&&(yield E.queue((0,p.Z)(function*(){}))),(null===(N=E._currentUser)||void 0===N?void 0:N._redirectEventId)===b?E._currentUser:(null===(H=E.redirectUser)||void 0===H?void 0:H._redirectEventId)===b?E.redirectUser:null})()}_persistUserIfCurrent(b){var E=this;return(0,p.Z)(function*(){if(b===E.currentUser)return E.queue((0,p.Z)(function*(){return E.directlySetCurrentUser(b)}))})()}_notifyListenersIfCurrent(b){b===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var b,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(E=null===(b=this.currentUser)||void 0===b?void 0:b.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(b,E,N,H){if(this._deleted)return()=>{};const oe="function"==typeof E?E:E.next.bind(E),$e=this._isInitialized?Promise.resolve():this._initializationPromise;return ke($e,this,"internal-error"),$e.then(()=>oe(this.currentUser)),"function"==typeof E?b.addObserver(E,N,H):b.addObserver(E)}directlySetCurrentUser(b){var E=this;return(0,p.Z)(function*(){E.currentUser&&E.currentUser!==b&&E._currentUser._stopProactiveRefresh(),b&&E.isProactiveRefreshEnabled&&b._startProactiveRefresh(),E.currentUser=b,b?yield E.assertedPersistence.setCurrentUser(b):yield E.assertedPersistence.removeCurrentUser()})()}queue(b){return this.operations=this.operations.then(b,b),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(b){!b||this.frameworks.includes(b)||(this.frameworks.push(b),this.frameworks.sort(),this.clientVersion=st(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var b=this;return(0,p.Z)(function*(){var E;const N={"X-Client-Version":b.clientVersion};b.app.options.appId&&(N["X-Firebase-gmpid"]=b.app.options.appId);const H=yield null===(E=b.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();return H&&(N["X-Firebase-Client"]=H),N})()}}function Xn(T){return(0,he.m9)(T)}class xe{constructor(b){this.auth=b,this.observer=null,this.addObserver=(0,he.ne)(E=>this.observer=E)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function at(T,b,E){const N=Xn(T);ke(N._canInitEmulator,N,"emulator-config-failed"),ke(/^https?:\/\//.test(b),N,"invalid-emulator-scheme");const H=!!E?.disableWarnings,oe=Zt(b),{host:$e,port:Wt}=function Gn(T){const b=Zt(T),E=/(\/\/)?([^?#/]+)/.exec(T.substr(b.length));if(!E)return{host:"",port:null};const N=E[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(N);if(H){const oe=H[1];return{host:oe,port:yi(N.substr(oe.length+1))}}{const[oe,$e]=N.split(":");return{host:oe,port:yi($e)}}}(b);N.config.emulator={url:`${oe}//${$e}${null===Wt?"":`:${Wt}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:$e,port:Wt,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function Kn(){function T(){const b=document.createElement("p"),E=b.style;b.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",b.classList.add("firebase-emulator-warning"),document.body.appendChild(b)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}function Zt(T){const b=T.indexOf(":");return b<0?"":T.substr(0,b+1)}function yi(T){if(!T)return null;const b=Number(T);return isNaN(b)?null:b}class Bn{constructor(b,E){this.providerId=b,this.signInMethod=E}toJSON(){return et("not implemented")}_getIdTokenResponse(b){return et("not implemented")}_linkToIdToken(b,E){return et("not implemented")}_getReauthenticationResolver(b){return et("not implemented")}}function vi(T,b){return So.apply(this,arguments)}function So(){return(So=(0,p.Z)(function*(T,b){return It(T,"POST","/v1/accounts:resetPassword",Qn(T,b))})).apply(this,arguments)}function ki(T,b){return xo.apply(this,arguments)}function xo(){return(xo=(0,p.Z)(function*(T,b){return It(T,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function An(T,b){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,p.Z)(function*(T,b){return It(T,"POST","/v1/accounts:update",Qn(T,b))})).apply(this,arguments)}function sa(){return(sa=(0,p.Z)(function*(T,b){return _r(T,"POST","/v1/accounts:signInWithPassword",Qn(T,b))})).apply(this,arguments)}function xa(T,b){return js.apply(this,arguments)}function js(){return(js=(0,p.Z)(function*(T,b){return It(T,"POST","/v1/accounts:sendOobCode",Qn(T,b))})).apply(this,arguments)}function qu(T,b){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,p.Z)(function*(T,b){return xa(T,b)})).apply(this,arguments)}function Hf(T,b){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,p.Z)(function*(T,b){return xa(T,b)})).apply(this,arguments)}function Nr(T,b){return eu.apply(this,arguments)}function eu(){return(eu=(0,p.Z)(function*(T,b){return xa(T,b)})).apply(this,arguments)}function th(T,b){return $f.apply(this,arguments)}function $f(){return($f=(0,p.Z)(function*(T,b){return xa(T,b)})).apply(this,arguments)}function Vs(){return(Vs=(0,p.Z)(function*(T,b){return _r(T,"POST","/v1/accounts:signInWithEmailLink",Qn(T,b))})).apply(this,arguments)}function wl(){return(wl=(0,p.Z)(function*(T,b){return _r(T,"POST","/v1/accounts:signInWithEmailLink",Qn(T,b))})).apply(this,arguments)}class $o extends Bn{constructor(b,E,N,H=null){super("password",N),this._email=b,this._password=E,this._tenantId=H}static _fromEmailAndPassword(b,E){return new $o(b,E,"password")}static _fromEmailAndCode(b,E,N=null){return new $o(b,E,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(b){const E="string"==typeof b?JSON.parse(b):b;if(E?.email&&E?.password){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(b){var E=this;return(0,p.Z)(function*(){switch(E.signInMethod){case"password":return function os(T,b){return sa.apply(this,arguments)}(b,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function nh(T,b){return Vs.apply(this,arguments)}(b,{email:E._email,oobCode:E._password});default:Ot(b,"internal-error")}})()}_linkToIdToken(b,E){var N=this;return(0,p.Z)(function*(){switch(N.signInMethod){case"password":return ki(b,{idToken:E,returnSecureToken:!0,email:N._email,password:N._password});case"emailLink":return function rh(T,b){return wl.apply(this,arguments)}(b,{idToken:E,email:N._email,oobCode:N._password});default:Ot(b,"internal-error")}})()}_getReauthenticationResolver(b){return this._getIdTokenResponse(b)}}function Aa(T,b){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,p.Z)(function*(T,b){return _r(T,"POST","/v1/accounts:signInWithIdp",Qn(T,b))})).apply(this,arguments)}class cc extends Bn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(b){const E=new cc(b.providerId,b.signInMethod);return b.idToken||b.accessToken?(b.idToken&&(E.idToken=b.idToken),b.accessToken&&(E.accessToken=b.accessToken),b.nonce&&!b.pendingToken&&(E.nonce=b.nonce),b.pendingToken&&(E.pendingToken=b.pendingToken)):b.oauthToken&&b.oauthTokenSecret?(E.accessToken=b.oauthToken,E.secret=b.oauthTokenSecret):Ot("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(b){const E="string"==typeof b?JSON.parse(b):b,{providerId:N,signInMethod:H}=E,oe=(0,ut._T)(E,["providerId","signInMethod"]);if(!N||!H)return null;const $e=new cc(N,H);return $e.idToken=oe.idToken||void 0,$e.accessToken=oe.accessToken||void 0,$e.secret=oe.secret,$e.nonce=oe.nonce,$e.pendingToken=oe.pendingToken||null,$e}_getIdTokenResponse(b){return Aa(b,this.buildRequest())}_linkToIdToken(b,E){const N=this.buildRequest();return N.idToken=E,Aa(b,N)}_getReauthenticationResolver(b){const E=this.buildRequest();return E.autoCreate=!1,Aa(b,E)}buildRequest(){const b={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)b.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),b.postBody=(0,he.xO)(E)}return b}}function Wf(T,b){return qf.apply(this,arguments)}function qf(){return(qf=(0,p.Z)(function*(T,b){return It(T,"POST","/v1/accounts:sendVerificationCode",Qn(T,b))})).apply(this,arguments)}function Gu(){return(Gu=(0,p.Z)(function*(T,b){return _r(T,"POST","/v1/accounts:signInWithPhoneNumber",Qn(T,b))})).apply(this,arguments)}function ao(){return(ao=(0,p.Z)(function*(T,b){const E=yield _r(T,"POST","/v1/accounts:signInWithPhoneNumber",Qn(T,b));if(E.temporaryProof)throw Si(T,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const mm={USER_NOT_FOUND:"user-not-found"};function aa(){return(aa=(0,p.Z)(function*(T,b){return _r(T,"POST","/v1/accounts:signInWithPhoneNumber",Qn(T,Object.assign(Object.assign({},b),{operation:"REAUTH"})),mm)})).apply(this,arguments)}class zc extends Bn{constructor(b){super("phone","phone"),this.params=b}static _fromVerification(b,E){return new zc({verificationId:b,verificationCode:E})}static _fromTokenResponse(b,E){return new zc({phoneNumber:b,temporaryProof:E})}_getIdTokenResponse(b){return function Gf(T,b){return Gu.apply(this,arguments)}(b,this._makeVerificationRequest())}_linkToIdToken(b,E){return function Ku(T,b){return ao.apply(this,arguments)}(b,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(b){return function oa(T,b){return aa.apply(this,arguments)}(b,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:b,phoneNumber:E,verificationId:N,verificationCode:H}=this.params;return b&&E?{temporaryProof:b,phoneNumber:E}:{sessionInfo:N,code:H}}toJSON(){const b={providerId:this.providerId};return this.params.phoneNumber&&(b.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(b.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(b.verificationCode=this.params.verificationCode),this.params.verificationId&&(b.verificationId=this.params.verificationId),b}static fromJSON(b){"string"==typeof b&&(b=JSON.parse(b));const{verificationId:E,verificationCode:N,phoneNumber:H,temporaryProof:oe}=b;return N||E||H||oe?new zc({verificationId:E,verificationCode:N,phoneNumber:H,temporaryProof:oe}):null}}class Ao{constructor(b){var E,N,H,oe,$e,Wt;const xn=(0,he.zd)((0,he.pd)(b)),nr=null!==(E=xn.apiKey)&&void 0!==E?E:null,Fr=null!==(N=xn.oobCode)&&void 0!==N?N:null,as=function Kf(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=xn.mode)&&void 0!==H?H:null);ke(nr&&Fr&&as,"argument-error"),this.apiKey=nr,this.operation=as,this.code=Fr,this.continueUrl=null!==(oe=xn.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==($e=xn.languageCode)&&void 0!==$e?$e:null,this.tenantId=null!==(Wt=xn.tenantId)&&void 0!==Wt?Wt:null}static parseLink(b){const E=function Zf(T){const b=(0,he.zd)((0,he.pd)(T)).link,E=b?(0,he.zd)((0,he.pd)(b)).deep_link_id:null,N=(0,he.zd)((0,he.pd)(T)).deep_link_id;return(N?(0,he.zd)((0,he.pd)(N)).link:null)||N||E||b||T}(b);try{return new Ao(E)}catch{return null}}}let Xy=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(E,N){return $o._fromEmailAndPassword(E,N)}static credentialWithLink(E,N){const H=Ao.parseLink(N);return ke(H,"argument-error"),$o._fromEmailAndCode(E,H.code,H.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class Hc{constructor(b){this.providerId=b,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(b){this.defaultLanguageCode=b}setCustomParameters(b){return this.customParameters=b,this}getCustomParameters(){return this.customParameters}}class Zu extends Hc{constructor(){super(...arguments),this.scopes=[]}addScope(b){return this.scopes.includes(b)||this.scopes.push(b),this}getScopes(){return[...this.scopes]}}class ih extends Zu{static credentialFromJSON(b){const E="string"==typeof b?JSON.parse(b):b;return ke("providerId"in E&&"signInMethod"in E,"argument-error"),cc._fromParams(E)}credential(b){return this._credential(Object.assign(Object.assign({},b),{nonce:b.rawNonce}))}_credential(b){return ke(b.idToken||b.accessToken,"argument-error"),cc._fromParams(Object.assign(Object.assign({},b),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(b){return ih.oauthCredentialFromTaggedObject(b)}static credentialFromError(b){return ih.oauthCredentialFromTaggedObject(b.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:E,oauthAccessToken:N,oauthTokenSecret:H,pendingToken:oe,nonce:$e,providerId:Wt}=b;if(!N&&!H&&!E&&!oe||!Wt)return null;try{return new ih(Wt)._credential({idToken:E,accessToken:N,nonce:$e,pendingToken:oe})}catch{return null}}}let _S=(()=>{class T extends Zu{constructor(){super("facebook.com")}static credential(E){return cc._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return T.credentialFromTaggedObject(E)}static credentialFromError(E){return T.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return T.credential(E.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),yS=(()=>{class T extends Zu{constructor(){super("google.com"),this.addScope("profile")}static credential(E,N){return cc._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:N})}static credentialFromResult(E){return T.credentialFromTaggedObject(E)}static credentialFromError(E){return T.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:N,oauthAccessToken:H}=E;if(!N&&!H)return null;try{return T.credential(N,H)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),vS=(()=>{class T extends Zu{constructor(){super("github.com")}static credential(E){return cc._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return T.credentialFromTaggedObject(E)}static credentialFromError(E){return T.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return T.credential(E.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class tu extends Bn{constructor(b,E){super(b,b),this.pendingToken=E}_getIdTokenResponse(b){return Aa(b,this.buildRequest())}_linkToIdToken(b,E){const N=this.buildRequest();return N.idToken=E,Aa(b,N)}_getReauthenticationResolver(b){const E=this.buildRequest();return E.autoCreate=!1,Aa(b,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(b){const E="string"==typeof b?JSON.parse(b):b,{providerId:N,signInMethod:H,pendingToken:oe}=E;return N&&H&&oe&&N===H?new tu(N,oe):null}static _create(b,E){return new tu(b,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Jy extends Hc{constructor(b){ke(b.startsWith("saml."),"argument-error"),super(b)}static credentialFromResult(b){return Jy.samlCredentialFromTaggedObject(b)}static credentialFromError(b){return Jy.samlCredentialFromTaggedObject(b.customData||{})}static credentialFromJSON(b){const E=tu.fromJSON(b);return ke(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{pendingToken:E,providerId:N}=b;if(!E||!N)return null;try{return tu._create(N,E)}catch{return null}}}let e0=(()=>{class T extends Zu{constructor(){super("twitter.com")}static credential(E,N){return cc._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:N})}static credentialFromResult(E){return T.credentialFromTaggedObject(E)}static credentialFromError(E){return T.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:N,oauthTokenSecret:H}=E;if(!N||!H)return null;try{return T.credential(N,H)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function t0(T,b){return n0.apply(this,arguments)}function n0(){return(n0=(0,p.Z)(function*(T,b){return _r(T,"POST","/v1/accounts:signUp",Qn(T,b))})).apply(this,arguments)}class za{constructor(b){this.user=b.user,this.providerId=b.providerId,this._tokenResponse=b._tokenResponse,this.operationType=b.operationType}static _fromIdTokenResponse(b,E,N,H=!1){return(0,p.Z)(function*(){const oe=yield sr._fromIdTokenResponse(b,N,H),$e=Y1(N);return new za({user:oe,providerId:$e,_tokenResponse:N,operationType:E})})()}static _forOperation(b,E,N){return(0,p.Z)(function*(){yield b._updateTokensIfNecessary(N,!0);const H=Y1(N);return new za({user:b,providerId:H,_tokenResponse:N,operationType:E})})()}}function Y1(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function Yf(T){return sh.apply(this,arguments)}function sh(){return(sh=(0,p.Z)(function*(T){var b;const E=Xn(T);if(yield E._initializationPromise,null!==(b=E.currentUser)&&void 0!==b&&b.isAnonymous)return new za({user:E.currentUser,providerId:null,operationType:"signIn"});const N=yield t0(E,{returnSecureToken:!0}),H=yield za._fromIdTokenResponse(E,"signIn",N,!0);return yield E._updateCurrentUser(H.user),H})).apply(this,arguments)}class r0 extends he.ZR{constructor(b,E,N,H){var oe;super(E.code,E.message),this.operationType=N,this.user=H,Object.setPrototypeOf(this,r0.prototype),this.customData={appName:b.name,tenantId:null!==(oe=b.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:E.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(b,E,N,H){return new r0(b,E,N,H)}}function wS(T,b,E,N){return("reauthenticate"===b?E._getReauthenticationResolver(T):E._getIdTokenResponse(T)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?r0._fromErrorAndOperation(T,oe,b,N):oe})}function ES(T){return new Set(T.map(({providerId:b})=>b).filter(b=>!!b))}function Yu(T,b){return s0.apply(this,arguments)}function s0(){return(s0=(0,p.Z)(function*(T,b){const E=(0,he.m9)(T);yield _m(!0,E,b);const{providerUserInfo:N}=yield Ke(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[b]}),H=ES(N||[]);return E.providerData=E.providerData.filter(oe=>H.has(oe.providerId)),H.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function Xu(T,b){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,p.Z)(function*(T,b,E=!1){const N=yield yr(T,b._linkToIdToken(T.auth,yield T.getIdToken()),E);return za._forOperation(T,"link",N)})).apply(this,arguments)}function _m(T,b,E){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,p.Z)(function*(T,b,E){yield fi(b);const H=!1===T?"provider-already-linked":"no-such-provider";ke(ES(b.providerData).has(E)===T,b.auth,H)})).apply(this,arguments)}function o0(T,b){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,p.Z)(function*(T,b,E=!1){const{auth:N}=T,H="reauthenticate";try{const oe=yield yr(T,wS(N,H,b,T),E);ke(oe.idToken,N,"internal-error");const $e=an(oe.idToken);ke($e,N,"internal-error");const{sub:Wt}=$e;return ke(T.uid===Wt,N,"user-mismatch"),za._forOperation(T,H,oe)}catch(oe){throw"auth/user-not-found"===oe?.code&&Ot(N,"user-mismatch"),oe}})).apply(this,arguments)}function X1(T,b){return oh.apply(this,arguments)}function oh(){return(oh=(0,p.Z)(function*(T,b,E=!1){const N="signIn",H=yield wS(T,N,b),oe=yield za._fromIdTokenResponse(T,N,H);return E||(yield T._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function Jf(T,b){return qo.apply(this,arguments)}function qo(){return(qo=(0,p.Z)(function*(T,b){return X1(Xn(T),b)})).apply(this,arguments)}function ah(T,b){return ym.apply(this,arguments)}function ym(){return(ym=(0,p.Z)(function*(T,b){const E=(0,he.m9)(T);return yield _m(!1,E,b.providerId),Xu(E,b)})).apply(this,arguments)}function nu(T,b){return vm.apply(this,arguments)}function vm(){return(vm=(0,p.Z)(function*(T,b){return o0((0,he.m9)(T),b)})).apply(this,arguments)}function IS(T,b){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,p.Z)(function*(T,b){return _r(T,"POST","/v1/accounts:signInWithCustomToken",Qn(T,b))})).apply(this,arguments)}function Q1(T,b){return a0.apply(this,arguments)}function a0(){return(a0=(0,p.Z)(function*(T,b){const E=Xn(T),N=yield IS(E,{token:b,returnSecureToken:!0}),H=yield za._fromIdTokenResponse(E,"signIn",N);return yield E._updateCurrentUser(H.user),H})).apply(this,arguments)}class ru{constructor(b,E){this.factorId=b,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(b,E){return"phoneInfo"in E?To._fromServerResponse(b,E):Ot(b,"internal-error")}}class To extends ru{constructor(b){super("phone",b),this.phoneNumber=b.phoneInfo}static _fromServerResponse(b,E){return new To(E)}}function bm(T,b,E){var N;ke((null===(N=E.url)||void 0===N?void 0:N.length)>0,T,"invalid-continue-uri"),ke(typeof E.dynamicLinkDomain>"u"||E.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),b.continueUrl=E.url,b.dynamicLinkDomain=E.dynamicLinkDomain,b.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(ke(E.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),b.iOSBundleId=E.iOS.bundleId),E.android&&(ke(E.android.packageName.length>0,T,"missing-android-pkg-name"),b.androidInstallApp=E.android.installApp,b.androidMinimumVersionCode=E.android.minimumVersion,b.androidPackageName=E.android.packageName)}function c0(T,b,E){return El.apply(this,arguments)}function El(){return(El=(0,p.Z)(function*(T,b,E){const N=(0,he.m9)(T),H={requestType:"PASSWORD_RESET",email:b};E&&bm(N,H,E),yield Hf(N,H)})).apply(this,arguments)}function ca(T,b,E){return wm.apply(this,arguments)}function wm(){return(wm=(0,p.Z)(function*(T,b,E){yield vi((0,he.m9)(T),{oobCode:b,newPassword:E})})).apply(this,arguments)}function Em(T,b){return Im.apply(this,arguments)}function Im(){return(Im=(0,p.Z)(function*(T,b){yield An((0,he.m9)(T),{oobCode:b})})).apply(this,arguments)}function $c(T,b){return ep.apply(this,arguments)}function ep(){return(ep=(0,p.Z)(function*(T,b){const E=(0,he.m9)(T),N=yield vi(E,{oobCode:b}),H=N.requestType;switch(ke(H,E,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(N.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(N.mfaInfo,E,"internal-error");default:ke(N.email,E,"internal-error")}let oe=null;return N.mfaInfo&&(oe=ru._fromServerResponse(Xn(E),N.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===N.requestType?N.newEmail:N.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===N.requestType?N.email:N.newEmail)||null,multiFactorInfo:oe},operation:H}})).apply(this,arguments)}function Cm(T,b){return br.apply(this,arguments)}function br(){return(br=(0,p.Z)(function*(T,b){const{data:E}=yield $c((0,he.m9)(T),b);return E.email})).apply(this,arguments)}function l0(T,b,E){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,p.Z)(function*(T,b,E){const N=Xn(T),H=yield t0(N,{returnSecureToken:!0,email:b,password:E}),oe=yield za._fromIdTokenResponse(N,"signIn",H);return yield N._updateCurrentUser(oe.user),oe})).apply(this,arguments)}function CS(T,b,E){return Jf((0,he.m9)(T),Xy.credential(b,E))}function SS(T,b,E){return u0.apply(this,arguments)}function u0(){return(u0=(0,p.Z)(function*(T,b,E){const N=(0,he.m9)(T),H={requestType:"EMAIL_SIGNIN",email:b};ke(E.handleCodeInApp,N,"argument-error"),E&&bm(N,H,E),yield Nr(N,H)})).apply(this,arguments)}function J1(T,b){return"EMAIL_SIGNIN"===Ao.parseLink(b)?.operation}function xS(T,b,E){return d0.apply(this,arguments)}function d0(){return(d0=(0,p.Z)(function*(T,b,E){const N=(0,he.m9)(T),H=Xy.credentialWithLink(b,E||zt());return ke(H._tenantId===(N.tenantId||null),N,"tenant-id-mismatch"),Jf(N,H)})).apply(this,arguments)}function Ht(T,b){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,p.Z)(function*(T,b){return It(T,"POST","/v1/accounts:createAuthUri",Qn(T,b))})).apply(this,arguments)}function AS(T,b){return h0.apply(this,arguments)}function h0(){return(h0=(0,p.Z)(function*(T,b){const N={identifier:b,continueUri:jt()?zt():"http://localhost"},{signinMethods:H}=yield Ht((0,he.m9)(T),N);return H||[]})).apply(this,arguments)}function Ks(T,b){return tp.apply(this,arguments)}function tp(){return(tp=(0,p.Z)(function*(T,b){const E=(0,he.m9)(T),H={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};b&&bm(E.auth,H,b);const{email:oe}=yield qu(E.auth,H);oe!==T.email&&(yield T.reload())})).apply(this,arguments)}function ch(T,b,E){return Go.apply(this,arguments)}function Go(){return(Go=(0,p.Z)(function*(T,b,E){const N=(0,he.m9)(T),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:b};E&&bm(N.auth,oe,E);const{email:$e}=yield th(N.auth,oe);$e!==T.email&&(yield T.reload())})).apply(this,arguments)}function iu(T,b){return np.apply(this,arguments)}function np(){return(np=(0,p.Z)(function*(T,b){return It(T,"POST","/v1/accounts:update",b)})).apply(this,arguments)}function mP(T,b){return rp.apply(this,arguments)}function rp(){return(rp=(0,p.Z)(function*(T,{displayName:b,photoURL:E}){if(void 0===b&&void 0===E)return;const N=(0,he.m9)(T),oe={idToken:yield N.getIdToken(),displayName:b,photoUrl:E,returnSecureToken:!0},$e=yield yr(N,iu(N.auth,oe));N.displayName=$e.displayName||null,N.photoURL=$e.photoUrl||null;const Wt=N.providerData.find(({providerId:xn})=>"password"===xn);Wt&&(Wt.displayName=N.displayName,Wt.photoURL=N.photoURL),yield N._updateTokensIfNecessary($e)})).apply(this,arguments)}function ew(T,b){return co((0,he.m9)(T),b,null)}function f0(T,b){return co((0,he.m9)(T),null,b)}function co(T,b,E){return lc.apply(this,arguments)}function lc(){return(lc=(0,p.Z)(function*(T,b,E){const{auth:N}=T,oe={idToken:yield T.getIdToken(),returnSecureToken:!0};b&&(oe.email=b),E&&(oe.password=E);const $e=yield yr(T,ki(N,oe));yield T._updateTokensIfNecessary($e,!0)})).apply(this,arguments)}class uc{constructor(b,E,N={}){this.isNewUser=b,this.providerId=E,this.profile=N}}class Wc extends uc{constructor(b,E,N,H){super(b,E,N),this.username=H}}class TS extends uc{constructor(b,E){super(b,"facebook.com",E)}}class nw extends Wc{constructor(b,E){super(b,"github.com",E,"string"==typeof E?.login?E?.login:null)}}class DS extends uc{constructor(b,E){super(b,"google.com",E)}}class MS extends Wc{constructor(b,E,N){super(b,"twitter.com",E,N)}}function p0(T){const{user:b,_tokenResponse:E}=T;return b.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function tw(T){var b,E;if(!T)return null;const{providerId:N}=T,H=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},oe=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!N&&T?.idToken){const $e=null===(E=null===(b=an(T.idToken))||void 0===b?void 0:b.firebase)||void 0===E?void 0:E.sign_in_provider;if($e)return new uc(oe,"anonymous"!==$e&&"custom"!==$e?$e:null)}if(!N)return null;switch(N){case"facebook.com":return new TS(oe,H);case"github.com":return new nw(oe,H);case"google.com":return new DS(oe,H);case"twitter.com":return new MS(oe,H,T.screenName||null);case"custom":case"anonymous":return new uc(oe,null);default:return new uc(oe,N,H)}}(E)}function iw(T,b,E,N){return(0,he.m9)(T).onAuthStateChanged(b,E,N)}class su{constructor(b,E,N){this.type=b,this.credential=E,this.auth=N}static _fromIdtoken(b,E){return new su("enroll",b,E)}static _fromMfaPendingCredential(b){return new su("signin",b)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(b){var E,N;if(b?.multiFactorSession){if(null!==(E=b.multiFactorSession)&&void 0!==E&&E.pendingCredential)return su._fromMfaPendingCredential(b.multiFactorSession.pendingCredential);if(null!==(N=b.multiFactorSession)&&void 0!==N&&N.idToken)return su._fromIdtoken(b.multiFactorSession.idToken)}return null}}class ip{constructor(b,E,N){this.session=b,this.hints=E,this.signInResolver=N}static _fromError(b,E){const N=Xn(b),H=E.customData._serverResponse,oe=(H.mfaInfo||[]).map(Wt=>ru._fromServerResponse(N,Wt));ke(H.mfaPendingCredential,N,"internal-error");const $e=su._fromMfaPendingCredential(H.mfaPendingCredential);return new ip($e,oe,function(){var Wt=(0,p.Z)(function*(xn){const nr=yield xn._process(N,$e);delete H.mfaInfo,delete H.mfaPendingCredential;const Fr=Object.assign(Object.assign({},H),{idToken:nr.idToken,refreshToken:nr.refreshToken});switch(E.operationType){case"signIn":const as=yield za._fromIdTokenResponse(N,E.operationType,Fr);return yield N._updateCurrentUser(as.user),as;case"reauthenticate":return ke(E.user,N,"internal-error"),za._forOperation(E.user,E.operationType,Fr);default:Ot(N,"internal-error")}});return function(xn){return Wt.apply(this,arguments)}}())}resolveSignIn(b){var E=this;return(0,p.Z)(function*(){return E.signInResolver(b)})()}}function RS(T,b){var E;const N=(0,he.m9)(T),H=b;return ke(b.customData.operationType,N,"argument-error"),ke(null===(E=H.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,N,"argument-error"),ip._fromError(N,H)}function kS(T,b){return It(T,"POST","/v2/accounts/mfaEnrollment:start",Qn(T,b))}class xi{constructor(b){this.user=b,this.enrolledFactors=[],b._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(N=>ru._fromServerResponse(b.auth,N)))})}static _fromUser(b){return new xi(b)}getSession(){var b=this;return(0,p.Z)(function*(){return su._fromIdtoken(yield b.user.getIdToken(),b.user.auth)})()}enroll(b,E){var N=this;return(0,p.Z)(function*(){const H=b,oe=yield N.getSession(),$e=yield yr(N.user,H._process(N.user.auth,oe,E));return yield N.user._updateTokensIfNecessary($e),N.user.reload()})()}unenroll(b){var E=this;return(0,p.Z)(function*(){const N="string"==typeof b?b:b.uid,H=yield E.user.getIdToken(),oe=yield yr(E.user,function qc(T,b){return It(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Qn(T,b))}(E.user.auth,{idToken:H,mfaEnrollmentId:N}));E.enrolledFactors=E.enrolledFactors.filter(({uid:$e})=>$e!==N),yield E.user._updateTokensIfNecessary(oe);try{yield E.user.reload()}catch($e){if("auth/user-token-expired"!==$e?.code)throw $e}})()}}const xm=new WeakMap;function sp(T){const b=(0,he.m9)(T);return xm.has(b)||xm.set(b,xi._fromUser(b)),xm.get(b)}const op="__sak";class Am{constructor(b,E){this.storageRetriever=b,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(op,"1"),this.storage.removeItem(op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(b,E){return this.storage.setItem(b,JSON.stringify(E)),Promise.resolve()}_get(b){const E=this.storage.getItem(b);return Promise.resolve(E?JSON.parse(E):null)}_remove(b){return this.storage.removeItem(b),Promise.resolve()}get storage(){return this.storageRetriever()}}const Il=(()=>{class T extends Am{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,N)=>this.onStorageEvent(E,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function aw(){const T=(0,he.z$)();return ee(T)||un(T)}()&&function Le(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_i(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const N of Object.keys(this.listeners)){const H=this.storage.getItem(N),oe=this.localCache[N];H!==oe&&E(N,oe,H)}}onStorageEvent(E,N=!1){if(!E.key)return void this.forAllChangedKeys((Wt,xn,nr)=>{this.notifyListeners(Wt,nr)});const H=E.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Wt=this.storage.getItem(H);if(E.newValue!==Wt)null!==E.newValue?this.storage.setItem(H,E.newValue):this.storage.removeItem(H);else if(this.localCache[H]===E.newValue&&!N)return}const oe=()=>{const Wt=this.storage.getItem(H);!N&&this.localCache[H]===Wt||this.notifyListeners(H,Wt)},$e=this.storage.getItem(H);!function or(){return(0,he.w1)()&&10===document.documentMode}()||$e===E.newValue||E.newValue===E.oldValue?oe():setTimeout(oe,10)}notifyListeners(E,N){this.localCache[E]=N;const H=this.listeners[E];if(H)for(const oe of Array.from(H))oe(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,N,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:N,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(N)}_removeListener(E,N){this.listeners[E]&&(this.listeners[E].delete(N),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,N){var H=()=>super._set,oe=this;return(0,p.Z)(function*(){yield H().call(oe,E,N),oe.localCache[E]=JSON.stringify(N)})()}_get(E){var N=()=>super._get,H=this;return(0,p.Z)(function*(){const oe=yield N().call(H,E);return H.localCache[E]=JSON.stringify(oe),oe})()}_remove(E){var N=()=>super._remove,H=this;return(0,p.Z)(function*(){yield N().call(H,E),delete H.localCache[E]})()}}return T.type="LOCAL",T})(),uh=(()=>{class T extends Am{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,N){}_removeListener(E,N){}}return T.type="SESSION",T})();let dc=(()=>{class T{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const N=this.receivers.find(oe=>oe.isListeningto(E));if(N)return N;const H=new T(E);return this.receivers.push(H),H}isListeningto(E){return this.eventTarget===E}handleEvent(E){var N=this;return(0,p.Z)(function*(){const H=E,{eventId:oe,eventType:$e,data:Wt}=H.data,xn=N.handlersMap[$e];if(!xn?.size)return;H.ports[0].postMessage({status:"ack",eventId:oe,eventType:$e});const nr=Array.from(xn).map(function(){var as=(0,p.Z)(function*(_c){return _c(H.origin,Wt)});return function(_c){return as.apply(this,arguments)}}()),Fr=yield function _0(T){return Promise.all(T.map(function(){var b=(0,p.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(N){return{fulfilled:!1,reason:N}}});return function(E){return b.apply(this,arguments)}}()))}(nr);H.ports[0].postMessage({status:"done",eventId:oe,eventType:$e,response:Fr})})()}_subscribe(E,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(N)}_unsubscribe(E,N){this.handlersMap[E]&&N&&this.handlersMap[E].delete(N),(!N||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function hc(T="",b=10){let E="";for(let N=0;N<b;N++)E+=Math.floor(10*Math.random());return T+E}class Dm{constructor(b){this.target=b,this.handlers=new Set}removeMessageHandler(b){b.messageChannel&&(b.messageChannel.port1.removeEventListener("message",b.onMessage),b.messageChannel.port1.close()),this.handlers.delete(b)}_send(b,E,N=50){var H=this;return(0,p.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let $e,Wt;return new Promise((xn,nr)=>{const Fr=hc("",20);oe.port1.start();const as=setTimeout(()=>{nr(new Error("unsupported_event"))},N);Wt={messageChannel:oe,onMessage(_c){const uu=_c;if(uu.data.eventId===Fr)switch(uu.data.status){case"ack":clearTimeout(as),$e=setTimeout(()=>{nr(new Error("timeout"))},3e3);break;case"done":clearTimeout($e),xn(uu.data.response);break;default:clearTimeout(as),clearTimeout($e),nr(new Error("invalid_response"))}}},H.handlers.add(Wt),oe.port1.addEventListener("message",Wt.onMessage),H.target.postMessage({eventType:b,eventId:Fr,data:E},[oe.port2])}).finally(()=>{Wt&&H.removeMessageHandler(Wt)})})()}}function vs(){return window}function Ju(){return typeof vs().WorkerGlobalScope<"u"&&"function"==typeof vs().importScripts}function Mm(){return(Mm=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ou="firebaseLocalStorageDb",lp="firebaseLocalStorage",Cl="fbase_key";class Sl{constructor(b){this.request=b}toPromise(){return new Promise((b,E)=>{this.request.addEventListener("success",()=>{b(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function dh(T,b){return T.transaction([lp],b?"readwrite":"readonly").objectStore(lp)}function up(){const T=indexedDB.open(ou,1);return new Promise((b,E)=>{T.addEventListener("error",()=>{E(T.error)}),T.addEventListener("upgradeneeded",()=>{const N=T.result;try{N.createObjectStore(lp,{keyPath:Cl})}catch(H){E(H)}}),T.addEventListener("success",(0,p.Z)(function*(){const N=T.result;N.objectStoreNames.contains(lp)?b(N):(N.close(),yield function hh(){const T=indexedDB.deleteDatabase(ou);return new Sl(T).toPromise()}(),b(yield up()))}))})}function fh(T,b,E){return ph.apply(this,arguments)}function ph(){return(ph=(0,p.Z)(function*(T,b,E){const N=dh(T,!0).put({[Cl]:b,value:E});return new Sl(N).toPromise()})).apply(this,arguments)}function Pm(){return(Pm=(0,p.Z)(function*(T,b){const E=dh(T,!1).get(b),N=yield new Sl(E).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function Rm(T,b){const E=dh(T,!0).delete(b);return new Sl(E).toPromise()}const dw=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,p.Z)(function*(){return E.db||(E.db=yield up()),E.db})()}_withRetries(E){var N=this;return(0,p.Z)(function*(){let H=0;for(;;)try{const oe=yield N._openDb();return yield E(oe)}catch(oe){if(H++>3)throw oe;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,p.Z)(function*(){return Ju()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,p.Z)(function*(){E.receiver=dc._getInstance(function LS(){return Ju()?self:null}()),E.receiver._subscribe("keyChanged",function(){var N=(0,p.Z)(function*(H,oe){return{keyProcessed:(yield E._poll()).includes(oe.key)}});return function(H,oe){return N.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var N=(0,p.Z)(function*(H,oe){return["keyChanged"]});return function(H,oe){return N.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,p.Z)(function*(){var N,H;if(E.activeServiceWorker=yield function lw(){return Mm.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new Dm(E.activeServiceWorker);const oe=yield E.sender._send("ping",{},800);!oe||(null===(N=oe[0])||void 0===N?void 0:N.fulfilled)&&(null===(H=oe[0])||void 0===H?void 0:H.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var N=this;return(0,p.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function OS(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:E},N.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const E=yield up();return yield fh(E,op,"1"),yield Rm(E,op),!0}catch{}return!1})()}_withPendingWrite(E){var N=this;return(0,p.Z)(function*(){N.pendingWrites++;try{yield E()}finally{N.pendingWrites--}})()}_set(E,N){var H=this;return(0,p.Z)(function*(){return H._withPendingWrite((0,p.Z)(function*(){return yield H._withRetries(oe=>fh(oe,E,N)),H.localCache[E]=N,H.notifyServiceWorker(E)}))})()}_get(E){var N=this;return(0,p.Z)(function*(){const H=yield N._withRetries(oe=>function dp(T,b){return Pm.apply(this,arguments)}(oe,E));return N.localCache[E]=H,H})()}_remove(E){var N=this;return(0,p.Z)(function*(){return N._withPendingWrite((0,p.Z)(function*(){return yield N._withRetries(H=>Rm(H,E)),delete N.localCache[E],N.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,p.Z)(function*(){const N=yield E._withRetries($e=>{const Wt=dh($e,!1).getAll();return new Sl(Wt).toPromise()});if(!N)return[];if(0!==E.pendingWrites)return[];const H=[],oe=new Set;for(const{fbase_key:$e,value:Wt}of N)oe.add($e),JSON.stringify(E.localCache[$e])!==JSON.stringify(Wt)&&(E.notifyListeners($e,Wt),H.push($e));for(const $e of Object.keys(E.localCache))E.localCache[$e]&&!oe.has($e)&&(E.notifyListeners($e,null),H.push($e));return H})()}notifyListeners(E,N){this.localCache[E]=N;const H=this.listeners[E];if(H)for(const oe of Array.from(H))oe(N)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(N)}_removeListener(E,N){this.listeners[E]&&(this.listeners[E].delete(N),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})();function km(T,b){return It(T,"POST","/v2/accounts/mfaSignIn:start",Qn(T,b))}function gh(){return(gh=(0,p.Z)(function*(T){return(yield It(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function v0(T){return new Promise((b,E)=>{const N=document.createElement("script");N.setAttribute("src",T),N.onload=b,N.onerror=H=>{const oe=kt("internal-error");oe.customData=H,E(oe)},N.type="text/javascript",N.charset="UTF-8",function Om(){var T,b;return null!==(b=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==b?b:document}().appendChild(N)})}function fp(T){return`__${T}${Math.floor(1e6*Math.random())}`}const ed=1e12;class w0{constructor(b){this.auth=b,this.counter=ed,this._widgets=new Map}render(b,E){const N=this.counter;return this._widgets.set(N,new pp(b,this.auth.name,E||{})),this.counter++,N}reset(b){var E;const N=b||ed;null===(E=this._widgets.get(N))||void 0===E||E.delete(),this._widgets.delete(N)}getResponse(b){var E;return(null===(E=this._widgets.get(b||ed))||void 0===E?void 0:E.getResponse())||""}execute(b){var E=this;return(0,p.Z)(function*(){var N;return null===(N=E._widgets.get(b||ed))||void 0===N||N.execute(),""})()}}class pp{constructor(b,E,N){this.params=N,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof b?document.getElementById(b):b;ke(H,"argument-error",{appName:E}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function mh(T){const b=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let N=0;N<T;N++)b.push(E.charAt(Math.floor(Math.random()*E.length)));return b.join("")}(50);const{callback:b,"expired-callback":E}=this.params;if(b)try{b(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fm=fp("rcb"),fw=new Vn(3e4,6e4);class xl{constructor(){var b;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(b=vs().grecaptcha)||void 0===b||!b.render)}load(b,E=""){return ke(function pw(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(E),b,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(vs().grecaptcha):new Promise((N,H)=>{const oe=vs().setTimeout(()=>{H(kt(b,"network-request-failed"))},fw.get());vs()[Fm]=()=>{vs().clearTimeout(oe),delete vs()[Fm];const Wt=vs().grecaptcha;if(!Wt)return void H(kt(b,"internal-error"));const xn=Wt.render;Wt.render=(nr,Fr)=>{const as=xn(nr,Fr);return this.counter++,as},this.hostLanguage=E,N(Wt)},v0(`https://www.google.com/recaptcha/api.js??${(0,he.xO)({onload:Fm,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(oe),H(kt(b,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(b){var E;return!(null===(E=vs().grecaptcha)||void 0===E||!E.render)&&(b===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class I0{load(b){return(0,p.Z)(function*(){return new w0(b)})()}clearedOneInstance(){}}const Bm="recaptcha",FS={theme:"light",type:"image"};class Um{constructor(b,E=Object.assign({},FS),N){this.parameters=E,this.type=Bm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xn(N),this.isInvisible="invisible"===this.parameters.size,ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof b?document.getElementById(b):b;ke(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new I0:new xl,this.validateStartingState()}verify(){var b=this;return(0,p.Z)(function*(){b.assertNotDestroyed();const E=yield b.render(),N=b.getAssertedRecaptcha();return N.getResponse(E)||new Promise(oe=>{const $e=Wt=>{!Wt||(b.tokenChangeListeners.delete($e),oe(Wt))};b.tokenChangeListeners.add($e),b.isInvisible&&N.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(b){return Promise.reject(b)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(b=>{throw this.renderPromise=null,b})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(b=>{this.container.removeChild(b)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(b){return E=>{if(this.tokenChangeListeners.forEach(N=>N(E)),"function"==typeof b)b(E);else if("string"==typeof b){const N=vs()[b];"function"==typeof N&&N(E)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var b=this;return(0,p.Z)(function*(){if(yield b.init(),!b.widgetId){let E=b.container;if(!b.isInvisible){const N=document.createElement("div");E.appendChild(N),E=N}b.widgetId=b.getAssertedRecaptcha().render(E,b.parameters)}return b.widgetId})()}init(){var b=this;return(0,p.Z)(function*(){ke(jt()&&!Ju(),b.auth,"internal-error"),yield function fc(){let T=null;return new Promise(b=>{"complete"!==document.readyState?(T=()=>b(),window.addEventListener("load",T)):b()}).catch(b=>{throw T&&window.removeEventListener("load",T),b})}(),b.recaptcha=yield b._recaptchaLoader.load(b.auth,b.auth.languageCode||void 0);const E=yield function hw(T){return gh.apply(this,arguments)}(b.auth);ke(E,b.auth,"internal-error"),b.parameters.sitekey=E})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Al{constructor(b,E){this.verificationId=b,this.onConfirmation=E}confirm(b){const E=zc._fromVerification(this.verificationId,b);return this.onConfirmation(E)}}function td(T,b,E){return pc.apply(this,arguments)}function pc(){return(pc=(0,p.Z)(function*(T,b,E){const N=Xn(T),H=yield mp(N,b,(0,he.m9)(E));return new Al(H,oe=>Jf(N,oe))})).apply(this,arguments)}function jm(T,b,E){return gp.apply(this,arguments)}function gp(){return(gp=(0,p.Z)(function*(T,b,E){const N=(0,he.m9)(T);yield _m(!1,N,"phone");const H=yield mp(N.auth,b,(0,he.m9)(E));return new Al(H,oe=>ah(N,oe))})).apply(this,arguments)}function _h(T,b,E){return gw.apply(this,arguments)}function gw(){return(gw=(0,p.Z)(function*(T,b,E){const N=(0,he.m9)(T),H=yield mp(N.auth,b,(0,he.m9)(E));return new Al(H,oe=>nu(N,oe))})).apply(this,arguments)}function mp(T,b,E){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,p.Z)(function*(T,b,E){var N;const H=yield E.verify();try{let oe;if(ke("string"==typeof H,T,"argument-error"),ke(E.type===Bm,T,"argument-error"),oe="string"==typeof b?{phoneNumber:b}:b,"session"in oe){const $e=oe.session;if("phoneNumber"in oe)return ke("enroll"===$e.type,T,"internal-error"),(yield kS(T,{idToken:$e.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{ke("signin"===$e.type,T,"internal-error");const Wt=(null===(N=oe.multiFactorHint)||void 0===N?void 0:N.uid)||oe.multiFactorUid;return ke(Wt,T,"missing-multi-factor-info"),(yield km(T,{mfaPendingCredential:$e.credential,mfaEnrollmentId:Wt,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$e}=yield Wf(T,{phoneNumber:oe.phoneNumber,recaptchaToken:H});return $e}}finally{E._reset()}})).apply(this,arguments)}function _P(T,b){return mw.apply(this,arguments)}function mw(){return(mw=(0,p.Z)(function*(T,b){yield Xu((0,he.m9)(T),b)})).apply(this,arguments)}let yP=(()=>{class T{constructor(E){this.providerId=T.PROVIDER_ID,this.auth=Xn(E)}verifyPhoneNumber(E,N){return mp(this.auth,E,(0,he.m9)(N))}static credential(E,N){return zc._fromVerification(E,N)}static credentialFromResult(E){return T.credentialFromTaggedObject(E)}static credentialFromError(E){return T.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:N,temporaryProof:H}=E;return N&&H?zc._fromTokenResponse(N,H):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function yh(T,b){return b?Te(b):(ke(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class C0 extends Bn{constructor(b){super("custom","custom"),this.params=b}_getIdTokenResponse(b){return Aa(b,this._buildIdpRequest())}_linkToIdToken(b,E){return Aa(b,this._buildIdpRequest(E))}_getReauthenticationResolver(b){return Aa(b,this._buildIdpRequest())}_buildIdpRequest(b){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return b&&(E.idToken=b),E}}function vP(T){return X1(T.auth,new C0(T),T.bypassAuthState)}function bP(T){const{auth:b,user:E}=T;return ke(E,b,"internal-error"),o0(E,new C0(T),T.bypassAuthState)}function _p(T){return _w.apply(this,arguments)}function _w(){return(_w=(0,p.Z)(function*(T){const{auth:b,user:E}=T;return ke(E,b,"internal-error"),Xu(E,new C0(T),T.bypassAuthState)})).apply(this,arguments)}class BS{constructor(b,E,N,H,oe=!1){this.auth=b,this.resolver=N,this.user=H,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var b=this;return new Promise(function(){var E=(0,p.Z)(function*(N,H){b.pendingPromise={resolve:N,reject:H};try{b.eventManager=yield b.resolver._initialize(b.auth),yield b.onExecution(),b.eventManager.registerConsumer(b)}catch(oe){b.reject(oe)}});return function(N,H){return E.apply(this,arguments)}}())}onAuthEvent(b){var E=this;return(0,p.Z)(function*(){const{urlResponse:N,sessionId:H,postBody:oe,tenantId:$e,error:Wt,type:xn}=b;if(Wt)return void E.reject(Wt);const nr={auth:E.auth,requestUri:N,sessionId:H,tenantId:$e||void 0,postBody:oe||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(xn)(nr))}catch(Fr){E.reject(Fr)}})()}onError(b){this.reject(b)}getIdpTask(b){switch(b){case"signInViaPopup":case"signInViaRedirect":return vP;case"linkViaPopup":case"linkViaRedirect":return _p;case"reauthViaPopup":case"reauthViaRedirect":return bP;default:Ot(this.auth,"internal-error")}}resolve(b){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(b),this.unregisterAndCleanUp()}reject(b){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(b),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zs=new Vn(2e3,1e4);function vh(T,b,E){return au.apply(this,arguments)}function au(){return(au=(0,p.Z)(function*(T,b,E){const N=Xn(T);xt(T,b,Hc);const H=yh(N,E);return new Vm(N,"signInViaPopup",b,H).executeNotNull()})).apply(this,arguments)}function yw(T,b,E){return S0.apply(this,arguments)}function S0(){return(S0=(0,p.Z)(function*(T,b,E){const N=(0,he.m9)(T);xt(N.auth,b,Hc);const H=yh(N.auth,E);return new Vm(N.auth,"reauthViaPopup",b,H,N).executeNotNull()})).apply(this,arguments)}function Mo(T,b,E){return gc.apply(this,arguments)}function gc(){return(gc=(0,p.Z)(function*(T,b,E){const N=(0,he.m9)(T);xt(N.auth,b,Hc);const H=yh(N.auth,E);return new Vm(N.auth,"linkViaPopup",b,H,N).executeNotNull()})).apply(this,arguments)}let Vm=(()=>{class T extends BS{constructor(E,N,H,oe,$e){super(E,N,oe,$e),this.provider=H,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var E=this;return(0,p.Z)(function*(){const N=yield E.execute();return ke(N,E.auth,"internal-error"),N})()}onExecution(){var E=this;return(0,p.Z)(function*(){mt(1===E.filter.length,"Popup operations only handle one event");const N=hc();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],N),E.authWindow.associatedEvent=N,E.resolver._originValidation(E.auth).catch(H=>{E.reject(H)}),E.resolver._isIframeWebStorageSupported(E.auth,H=>{H||E.reject(kt(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(kt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const E=()=>{var N,H;this.pollId=null!==(H=null===(N=this.authWindow)||void 0===N?void 0:N.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(kt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,Zs.get())};E()}}return T.currentPopupAction=null,T})();const mc=new Map;class vw extends BS{constructor(b,E,N=!1){super(b,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,N),this.eventId=null}execute(){var b=()=>super.execute,E=this;return(0,p.Z)(function*(){let N=mc.get(E.auth._key());if(!N){try{const oe=(yield function bh(T,b){return zm.apply(this,arguments)}(E.resolver,E.auth))?yield b().call(E):null;N=()=>Promise.resolve(oe)}catch(H){N=()=>Promise.reject(H)}mc.set(E.auth._key(),N)}return E.bypassAuthState||mc.set(E.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(b){var E=()=>super.onAuthEvent,N=this;return(0,p.Z)(function*(){if("signInViaRedirect"===b.type)return E().call(N,b);if("unknown"!==b.type){if(b.eventId){const H=yield N.auth._redirectUserForId(b.eventId);if(H)return N.user=H,E().call(N,b);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function zm(){return(zm=(0,p.Z)(function*(T,b){const E=Kc(b),N=Hm(T);if(!(yield N._isAvailable()))return!1;const H="true"===(yield N._get(E));return yield N._remove(E),H})).apply(this,arguments)}function yp(T,b){return wh.apply(this,arguments)}function wh(){return(wh=(0,p.Z)(function*(T,b){return Hm(T)._set(Kc(b),"true")})).apply(this,arguments)}function Tl(){mc.clear()}function la(T,b){mc.set(T._key(),b)}function Hm(T){return Te(T._redirectPersistence)}function Kc(T){return me("pendingRedirect",T.config.apiKey,T.name)}function US(T,b,E){return function bw(T,b,E){return x0.apply(this,arguments)}(T,b,E)}function x0(){return(x0=(0,p.Z)(function*(T,b,E){const N=Xn(T);xt(T,b,Hc);const H=yh(N,E);return yield yp(H,N),H._openRedirect(N,b,"signInViaRedirect")})).apply(this,arguments)}function jS(T,b,E){return function ww(T,b,E){return A0.apply(this,arguments)}(T,b,E)}function A0(){return(A0=(0,p.Z)(function*(T,b,E){const N=(0,he.m9)(T);xt(N.auth,b,Hc);const H=yh(N.auth,E);yield yp(H,N.auth);const oe=yield Ih(N);return H._openRedirect(N.auth,b,"reauthViaRedirect",oe)})).apply(this,arguments)}function VS(T,b,E){return function zS(T,b,E){return vp.apply(this,arguments)}(T,b,E)}function vp(){return(vp=(0,p.Z)(function*(T,b,E){const N=(0,he.m9)(T);xt(N.auth,b,Hc);const H=yh(N.auth,E);yield _m(!1,N,b.providerId),yield yp(H,N.auth);const oe=yield Ih(N);return H._openRedirect(N.auth,b,"linkViaRedirect",oe)})).apply(this,arguments)}function $m(T,b){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,p.Z)(function*(T,b){return yield Xn(T)._initializationPromise,cu(T,b,!1)})).apply(this,arguments)}function cu(T,b){return bp.apply(this,arguments)}function bp(){return(bp=(0,p.Z)(function*(T,b,E=!1){const N=Xn(T),H=yh(N,b),$e=yield new vw(N,H,E).execute();return $e&&!E&&(delete $e.user._redirectEventId,yield N._persistUserIfCurrent($e.user),yield N._setRedirectUser(null,b)),$e})).apply(this,arguments)}function Ih(T){return T0.apply(this,arguments)}function T0(){return(T0=(0,p.Z)(function*(T){const b=hc(`${T.uid}:::`);return T._redirectEventId=b,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),b})).apply(this,arguments)}class Ch{constructor(b){this.auth=b,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(b){this.consumers.add(b),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,b)&&(this.sendToConsumer(this.queuedRedirectEvent,b),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(b){this.consumers.delete(b)}onEvent(b){if(this.hasEventBeenHandled(b))return!1;let E=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(b,N)&&(E=!0,this.sendToConsumer(b,N),this.saveEventToCache(b))}),this.hasHandledPotentialRedirect||!function HS(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D0(T);default:return!1}}(b)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=b,E=!0)),E}sendToConsumer(b,E){var N;if(b.error&&!D0(b)){const H=(null===(N=b.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";E.onError(kt(this.auth,H))}else E.onAuthEvent(b)}isEventForConsumer(b,E){const N=null===E.eventId||!!b.eventId&&b.eventId===E.eventId;return E.filter.includes(b.type)&&N}hasEventBeenHandled(b){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wp(b))}saveEventToCache(b){this.cachedEventUids.add(wp(b)),this.lastProcessedEventTime=Date.now()}}function wp(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(b=>b).join("-")}function D0({type:T,error:b}){return"unknown"===T&&"auth/no-auth-event"===b?.code}function Iw(T){return lu.apply(this,arguments)}function lu(){return(lu=(0,p.Z)(function*(T,b={}){return It(T,"GET","/v1/projects",b)})).apply(this,arguments)}const Ep=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$S=/^https?/;function Wm(){return(Wm=(0,p.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:b}=yield Iw(T);for(const E of b)try{if(WS(E))return}catch{}Ot(T,"unauthorized-domain")})).apply(this,arguments)}function WS(T){const b=zt(),{protocol:E,hostname:N}=new URL(b);if(T.startsWith("chrome-extension://")){const $e=new URL(T);return""===$e.hostname&&""===N?"chrome-extension:"===E&&T.replace("chrome-extension://","")===b.replace("chrome-extension://",""):"chrome-extension:"===E&&$e.hostname===N}if(!$S.test(E))return!1;if(Ep.test(T))return N===T;const H=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(N)}const EP=new Vn(3e4,6e4);function Cw(){const T=vs().___jsl;if(T?.H)for(const b of Object.keys(T.H))if(T.H[b].r=T.H[b].r||[],T.H[b].L=T.H[b].L||[],T.H[b].r=[...T.H[b].L],T.CP)for(let E=0;E<T.CP.length;E++)T.CP[E]=null}let qm=null;function Gm(T){return qm=qm||function qS(T){return new Promise((b,E)=>{var N,H,oe;function $e(){Cw(),gapi.load("gapi.iframes",{callback:()=>{b(gapi.iframes.getContext())},ontimeout:()=>{Cw(),E(kt(T,"network-request-failed"))},timeout:EP.get()})}if(null!==(H=null===(N=vs().gapi)||void 0===N?void 0:N.iframes)&&void 0!==H&&H.Iframe)b(gapi.iframes.getContext());else{if(null===(oe=vs().gapi)||void 0===oe||!oe.load){const Wt=fp("iframefcb");return vs()[Wt]=()=>{gapi.load?$e():E(kt(T,"network-request-failed"))},v0(`https://apis.google.com/js/api.js?onload=${Wt}`).catch(xn=>E(xn))}$e()}}).catch(b=>{throw qm=null,b})}(T),qm}const Sw=new Vn(5e3,15e3),IP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Aw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CP(T){const b=T.config;ke(b.authDomain,T,"auth-domain-config-required");const E=b.emulator?On(b,"emulator/auth/iframe"):`https://${T.config.authDomain}/__/auth/iframe`,N={apiKey:b.apiKey,appName:T.name,v:ae.SDK_VERSION},H=Aw.get(T.config.apiHost);H&&(N.eid=H);const oe=T._getFrameworks();return oe.length&&(N.fw=oe.join(",")),`${E}?${(0,he.xO)(N).slice(1)}`}function M0(){return M0=(0,p.Z)(function*(T){const b=yield Gm(T),E=vs().gapi;return ke(E,T,"internal-error"),b.open({where:document.body,url:CP(T),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IP,dontclear:!0},N=>new Promise(function(){var H=(0,p.Z)(function*(oe,$e){yield N.restyle({setHideOnLeave:!1});const Wt=kt(T,"network-request-failed"),xn=vs().setTimeout(()=>{$e(Wt)},Sw.get());function nr(){vs().clearTimeout(xn),oe(N)}N.ping(nr).then(nr,()=>{$e(Wt)})});return function(oe,$e){return H.apply(this,arguments)}}()))}),M0.apply(this,arguments)}const N0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ZS{constructor(b){this.window=b,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Km(T,b,E,N,H,oe){ke(T.config.authDomain,T,"auth-domain-config-required"),ke(T.config.apiKey,T,"invalid-api-key");const $e={apiKey:T.config.apiKey,appName:T.name,authType:E,redirectUrl:N,v:ae.SDK_VERSION,eventId:H};if(b instanceof Hc){b.setDefaultLanguage(T.languageCode),$e.providerId=b.providerId||"",(0,he.xb)(b.getCustomParameters())||($e.customParameters=JSON.stringify(b.getCustomParameters()));for(const[xn,nr]of Object.entries(oe||{}))$e[xn]=nr}if(b instanceof Zu){const xn=b.getScopes().filter(nr=>""!==nr);xn.length>0&&($e.scopes=xn.join(","))}T.tenantId&&($e.tid=T.tenantId);const Wt=$e;for(const xn of Object.keys(Wt))void 0===Wt[xn]&&delete Wt[xn];return`${function R0({config:T}){return T.emulator?On(T,"emulator/auth/handler"):`https://${T.authDomain}/__/auth/handler`}(T)}?${(0,he.xO)(Wt).slice(1)}`}const Zm="webStorageSupport",k0=class Tw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uh,this._completeRedirectFn=cu,this._overrideRedirectResult=la}_openPopup(b,E,N,H){var oe=this;return(0,p.Z)(function*(){var $e;mt(null===($e=oe.eventManagers[b._key()])||void 0===$e?void 0:$e.manager,"_initialize() not called before _openPopup()");const Wt=Km(b,E,N,zt(),H);return function TP(T,b,E,N=500,H=600){const oe=Math.max((window.screen.availHeight-H)/2,0).toString(),$e=Math.max((window.screen.availWidth-N)/2,0).toString();let Wt="";const xn=Object.assign(Object.assign({},N0),{width:N.toString(),height:H.toString(),top:oe,left:$e}),nr=(0,he.z$)().toLowerCase();E&&(Wt=Ce(nr)?"_blank":E),j(nr)&&(b=b||"http://localhost",xn.scrollbars="yes");const Fr=Object.entries(xn).reduce((_c,[uu,Ym])=>`${_c}${uu}=${Ym},`,"");if(function pi(T=(0,he.z$)()){var b;return un(T)&&!(null===(b=window.navigator)||void 0===b||!b.standalone)}(nr)&&"_self"!==Wt)return function DP(T,b){const E=document.createElement("a");E.href=T,E.target=b;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(N)}(b||"",Wt),new ZS(null);const as=window.open(b||"",Wt,Fr);ke(as,T,"popup-blocked");try{as.focus()}catch{}return new ZS(as)}(b,Wt,hc())})()}_openRedirect(b,E,N,H){var oe=this;return(0,p.Z)(function*(){return yield oe._originValidation(b),function cp(T){vs().location.href=T}(Km(b,E,N,zt(),H)),new Promise(()=>{})})()}_initialize(b){const E=b._key();if(this.eventManagers[E]){const{manager:H,promise:oe}=this.eventManagers[E];return H?Promise.resolve(H):(mt(oe,"If manager is not set, promise should be"),oe)}const N=this.initAndGetManager(b);return this.eventManagers[E]={promise:N},N.catch(()=>{delete this.eventManagers[E]}),N}initAndGetManager(b){var E=this;return(0,p.Z)(function*(){const N=yield function KS(T){return M0.apply(this,arguments)}(b),H=new Ch(b);return N.register("authEvent",oe=>(ke(oe?.authEvent,b,"invalid-auth-event"),{status:H.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[b._key()]={manager:H},E.iframes[b._key()]=N,H})()}_isIframeWebStorageSupported(b,E){this.iframes[b._key()].send(Zm,{type:Zm},H=>{var oe;const $e=null===(oe=H?.[0])||void 0===oe?void 0:oe[Zm];void 0!==$e&&E(!!$e),Ot(b,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(b){const E=b._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function wP(T){return Wm.apply(this,arguments)}(b)),this.originValidationPromises[E]}get _shouldInitProactively(){return _i()||ee()||un()}};class Zc{constructor(b){this.factorId=b}_process(b,E,N){switch(E.type){case"enroll":return this._finalizeEnroll(b,E.credential,N);case"signin":return this._finalizeSignIn(b,E.credential);default:return et("unexpected MultiFactorSessionType")}}}class O0 extends Zc{constructor(b){super("phone"),this.credential=b}static _fromCredential(b){return new O0(b)}_finalizeEnroll(b,E,N){return function Do(T,b){return It(T,"POST","/v2/accounts/mfaEnrollment:finalize",Qn(T,b))}(b,{idToken:E,displayName:N,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(b,E){return function hp(T,b){return It(T,"POST","/v2/accounts/mfaSignIn:finalize",Qn(T,b))}(b,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let XS=(()=>{class T{constructor(){}static assertion(E){return O0._fromCredential(E)}}return T.FACTOR_ID="phone",T})();var Dw="@firebase/auth";class F0{constructor(b){this.auth=b,this.internalListeners=new Map}getUid(){var b;return this.assertAuthConfigured(),(null===(b=this.auth.currentUser)||void 0===b?void 0:b.uid)||null}getToken(b){var E=this;return(0,p.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(b)}:null})()}addAuthTokenListener(b){if(this.assertAuthConfigured(),this.internalListeners.has(b))return;const E=this.auth.onIdTokenChanged(N=>{b(N?.stsTokenManager.accessToken||null)});this.internalListeners.set(b,E),this.updateProactiveRefresh()}removeAuthTokenListener(b){this.assertAuthConfigured();const E=this.internalListeners.get(b);!E||(this.internalListeners.delete(b),E(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Mw=(0,he.Pz)("authIdTokenMaxAge")||300;let Nw=null;const tx=T=>function(){var b=(0,p.Z)(function*(E){const N=E&&(yield E.getIdTokenResult()),H=N&&((new Date).getTime()-Date.parse(N.issuedAtTime))/1e3;if(H&&H>Mw)return;const oe=N?.token;Nw!==oe&&(Nw=oe,yield fetch(T,{method:oe?"POST":"DELETE",headers:oe?{Authorization:`Bearer ${oe}`}:{}}))});return function(E){return b.apply(this,arguments)}}();function ua(T=(0,ae.getApp)()){const b=(0,ae._getProvider)(T,"auth");if(b.isInitialized())return b.getImmediate();const E=function Ye(T,b){const E=(0,ae._getProvider)(T,"auth");if(E.isInitialized()){const H=E.getImmediate(),oe=E.getOptions();if((0,he.vZ)(oe,b??{}))return H;Ot(H,"already-initialized")}return E.initialize({options:b})}(T,{popupRedirectResolver:k0,persistence:[dw,Il,uh]}),N=(0,he.Pz)("authTokenSyncURL");if(N){const oe=tx(N);(function m0(T,b,E){(0,he.m9)(T).beforeAuthStateChanged(b,E)})(E,oe,()=>oe(E.currentUser)),function g0(T,b,E,N){(0,he.m9)(T).onIdTokenChanged(b,E,N)}(E,$e=>oe($e))}const H=(0,he.q4)("auth");return H&&at(E,`http://${H}`),E}!function JS(T){(0,ae._registerComponent)(new lt.wA("auth",(b,{options:E})=>{const N=b.getProvider("app").getImmediate(),H=b.getProvider("heartbeat"),{apiKey:oe,authDomain:$e}=N.options;return((Wt,xn)=>{ke(oe&&!oe.includes(":"),"invalid-api-key",{appName:Wt.name}),ke(!$e?.includes(":"),"argument-error",{appName:Wt.name});const nr={apiKey:oe,authDomain:$e,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:st(T)},Fr=new Pn(Wt,xn,nr);return function He(T,b){const E=b?.persistence||[],N=(Array.isArray(E)?E:[E]).map(Te);b?.errorMap&&T._updateErrorMap(b.errorMap),T._initializeWithPersistence(N,b?.popupRedirectResolver)}(Fr,E),Fr})(N,H)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((b,E,N)=>{b.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new lt.wA("auth-internal",b=>{const E=Xn(b.getProvider("auth").getImmediate());return new F0(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Dw,"0.21.0",function QS(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(T)),(0,ae.registerVersion)(Dw,"0.21.0","esm2017")}("Browser")},2090:(jn,Tt,Q)=>{Q.d(Tt,{$s:()=>fn,BH:()=>cr,DV:()=>Si,Dv:()=>Hr,G6:()=>xt,GJ:()=>Pi,L:()=>it,LL:()=>Dr,P0:()=>jt,Pz:()=>Er,Sg:()=>Vn,UG:()=>sn,UI:()=>cn,US:()=>lt,Wj:()=>si,Wl:()=>Hn,Yr:()=>Lt,ZB:()=>we,ZR:()=>Zn,aH:()=>pn,b$:()=>vt,cI:()=>It,dS:()=>Yn,eu:()=>ke,g5:()=>ae,gK:()=>hi,gQ:()=>jr,h$:()=>Ge,hl:()=>Yt,hu:()=>he,jU:()=>tn,lb:()=>fi,m9:()=>Mr,ne:()=>ri,p$:()=>Ie,pd:()=>rr,q4:()=>zt,r3:()=>Ci,ru:()=>rt,tV:()=>dt,uI:()=>Rt,ug:()=>ys,vZ:()=>Ke,w1:()=>Ot,w9:()=>Cr,xO:()=>Nn,xb:()=>zi,z$:()=>Pt,zI:()=>et,zd:()=>ur});const he=function(ve,me){if(!ve)throw ae(me)},ae=function(ve){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ve)},Ve=function(ve){const me=[];let J=0;for(let K=0;K<ve.length;K++){let j=ve.charCodeAt(K);j<128?me[J++]=j:j<2048?(me[J++]=j>>6|192,me[J++]=63&j|128):55296==(64512&j)&&K+1<ve.length&&56320==(64512&ve.charCodeAt(K+1))?(j=65536+((1023&j)<<10)+(1023&ve.charCodeAt(++K)),me[J++]=j>>18|240,me[J++]=j>>12&63|128,me[J++]=j>>6&63|128,me[J++]=63&j|128):(me[J++]=j>>12|224,me[J++]=j>>6&63|128,me[J++]=63&j|128)}return me},lt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ve,me){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=me?this.byteToCharMapWebSafe_:this.byteToCharMap_,K=[];for(let j=0;j<ve.length;j+=3){const ee=ve[j],Ce=j+1<ve.length,tt=Ce?ve[j+1]:0,$t=j+2<ve.length,Bt=$t?ve[j+2]:0;let Gr=(15&tt)<<2|Bt>>6,pi=63&Bt;$t||(pi=64,Ce||(Gr=64)),K.push(J[ee>>2],J[(3&ee)<<4|tt>>4],J[Gr],J[pi])}return K.join("")},encodeString(ve,me){return this.HAS_NATIVE_SUPPORT&&!me?btoa(ve):this.encodeByteArray(Ve(ve),me)},decodeString(ve,me){return this.HAS_NATIVE_SUPPORT&&!me?atob(ve):function(ve){const me=[];let J=0,K=0;for(;J<ve.length;){const j=ve[J++];if(j<128)me[K++]=String.fromCharCode(j);else if(j>191&&j<224){const ee=ve[J++];me[K++]=String.fromCharCode((31&j)<<6|63&ee)}else if(j>239&&j<365){const $t=((7&j)<<18|(63&ve[J++])<<12|(63&ve[J++])<<6|63&ve[J++])-65536;me[K++]=String.fromCharCode(55296+($t>>10)),me[K++]=String.fromCharCode(56320+(1023&$t))}else{const ee=ve[J++],Ce=ve[J++];me[K++]=String.fromCharCode((15&j)<<12|(63&ee)<<6|63&Ce)}}return me.join("")}(this.decodeStringToByteArray(ve,me))},decodeStringToByteArray(ve,me){this.init_();const J=me?this.charToByteMapWebSafe_:this.charToByteMap_,K=[];for(let j=0;j<ve.length;){const ee=J[ve.charAt(j++)],tt=j<ve.length?J[ve.charAt(j)]:0;++j;const Bt=j<ve.length?J[ve.charAt(j)]:64;++j;const un=j<ve.length?J[ve.charAt(j)]:64;if(++j,null==ee||null==tt||null==Bt||null==un)throw Error();K.push(ee<<2|tt>>4),64!==Bt&&(K.push(tt<<4&240|Bt>>2),64!==un&&K.push(Bt<<6&192|un))}return K},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}},Ge=function(ve){const me=Ve(ve);return lt.encodeByteArray(me,!0)},it=function(ve){return Ge(ve).replace(/\./g,"")},dt=function(ve){try{return lt.decodeString(ve,!0)}catch(me){console.error("base64Decode failed: ",me)}return null};function Ie(ve){return we(void 0,ve)}function we(ve,me){if(!(me instanceof Object))return me;switch(me.constructor){case Date:return new Date(me.getTime());case Object:void 0===ve&&(ve={});break;case Array:ve=[];break;default:return me}for(const J in me)!me.hasOwnProperty(J)||!Ae(J)||(ve[J]=we(ve[J],me[J]));return ve}function Ae(ve){return"__proto__"!==ve}function Pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Rt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function sn(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tn(){return"object"==typeof self&&self.self===self}function rt(){const ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id}function vt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ot(){const ve=Pt();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0}function Lt(){return!1}function xt(){return!sn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yt(){try{return"object"==typeof indexedDB}catch{return!1}}function ke(){return new Promise((ve,me)=>{try{let J=!0;const K="validate-browser-context-for-indexeddb-analytics-module",j=self.indexedDB.open(K);j.onsuccess=()=>{j.result.close(),J||self.indexedDB.deleteDatabase(K),ve(!0)},j.onupgradeneeded=()=>{J=!1},j.onerror=()=>{var ee;me((null===(ee=j.error)||void 0===ee?void 0:ee.message)||"")}}catch(J){me(J)}})}function et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const He=()=>{try{return function mt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ve=process.env.__FIREBASE_DEFAULTS__;return ve?JSON.parse(ve):void 0})()||(()=>{if(typeof document>"u")return;let ve;try{ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const me=ve&&dt(ve[1]);return me&&JSON.parse(me)})()}catch(ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ve}`)}},zt=ve=>{var me,J;return null===(J=null===(me=He())||void 0===me?void 0:me.emulatorHosts)||void 0===J?void 0:J[ve]},jt=ve=>{const me=zt(ve);if(!me)return;const J=me.lastIndexOf(":");if(J<=0||J+1===me.length)throw new Error(`Invalid host ${me} with no separate hostname and port!`);const K=parseInt(me.substring(J+1),10);return"["===me[0]?[me.substring(1,J-1),K]:[me.substring(0,J),K]},pn=()=>{var ve;return null===(ve=He())||void 0===ve?void 0:ve.config},Er=ve=>{var me;return null===(me=He())||void 0===me?void 0:me[`_${ve}`]};class cr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((me,J)=>{this.resolve=me,this.reject=J})}wrapCallback(me){return(J,K)=>{J?this.reject(J):this.resolve(K),"function"==typeof me&&(this.promise.catch(()=>{}),1===me.length?me(J):me(J,K))}}}function Vn(ve,me){if(ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const K=me||"demo-project",j=ve.iat||0,ee=ve.sub||ve.user_id;if(!ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ce=Object.assign({iss:`https://securetoken.google.com/${K}`,aud:K,iat:j,exp:j+3600,auth_time:j,sub:ee,user_id:ee,firebase:{sign_in_provider:"custom",identities:{}}},ve);return[it(JSON.stringify({alg:"none",type:"JWT"})),it(JSON.stringify(Ce)),""].join(".")}class Zn extends Error{constructor(me,J,K){super(J),this.code=me,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dr.prototype.create)}}class Dr{constructor(me,J,K){this.service=me,this.serviceName=J,this.errors=K}create(me,...J){const K=J[0]||{},j=`${this.service}/${me}`,ee=this.errors[me],Ce=ee?function mi(ve,me){return ve.replace(Qn,(J,K)=>{const j=me[K];return null!=j?String(j):`<${K}?>`})}(ee,K):"Error";return new Zn(j,`${this.serviceName}: ${Ce} (${j}).`,K)}}const Qn=/\{\$([^}]+)}/g;function It(ve){return JSON.parse(ve)}function Hn(ve){return JSON.stringify(ve)}const Mn=function(ve){let me={},J={},K={},j="";try{const ee=ve.split(".");me=It(dt(ee[0])||""),J=It(dt(ee[1])||""),j=ee[2],K=J.d||{},delete J.d}catch{}return{header:me,claims:J,data:K,signature:j}},Cr=function(ve){const J=Mn(ve).claims;return!!J&&"object"==typeof J&&J.hasOwnProperty("iat")},Pi=function(ve){const me=Mn(ve).claims;return"object"==typeof me&&!0===me.admin};function Ci(ve,me){return Object.prototype.hasOwnProperty.call(ve,me)}function Si(ve,me){if(Object.prototype.hasOwnProperty.call(ve,me))return ve[me]}function zi(ve){for(const me in ve)if(Object.prototype.hasOwnProperty.call(ve,me))return!1;return!0}function cn(ve,me,J){const K={};for(const j in ve)Object.prototype.hasOwnProperty.call(ve,j)&&(K[j]=me.call(J,ve[j],j,ve));return K}function Ke(ve,me){if(ve===me)return!0;const J=Object.keys(ve),K=Object.keys(me);for(const j of J){if(!K.includes(j))return!1;const ee=ve[j],Ce=me[j];if(Nt(ee)&&Nt(Ce)){if(!Ke(ee,Ce))return!1}else if(ee!==Ce)return!1}for(const j of K)if(!J.includes(j))return!1;return!0}function Nt(ve){return null!==ve&&"object"==typeof ve}function Nn(ve){const me=[];for(const[J,K]of Object.entries(ve))Array.isArray(K)?K.forEach(j=>{me.push(encodeURIComponent(J)+"="+encodeURIComponent(j))}):me.push(encodeURIComponent(J)+"="+encodeURIComponent(K));return me.length?"&"+me.join("&"):""}function ur(ve){const me={};return ve.replace(/^\?/,"").split("&").forEach(K=>{if(K){const[j,ee]=K.split("=");me[decodeURIComponent(j)]=decodeURIComponent(ee)}}),me}function rr(ve){const me=ve.indexOf("?");if(!me)return"";const J=ve.indexOf("#",me);return ve.substring(me,J>0?J:void 0)}class jr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let me=1;me<this.blockSize;++me)this.pad_[me]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(me,J){J||(J=0);const K=this.W_;if("string"==typeof me)for(let un=0;un<16;un++)K[un]=me.charCodeAt(J)<<24|me.charCodeAt(J+1)<<16|me.charCodeAt(J+2)<<8|me.charCodeAt(J+3),J+=4;else for(let un=0;un<16;un++)K[un]=me[J]<<24|me[J+1]<<16|me[J+2]<<8|me[J+3],J+=4;for(let un=16;un<80;un++){const Gr=K[un-3]^K[un-8]^K[un-14]^K[un-16];K[un]=4294967295&(Gr<<1|Gr>>>31)}let Bt,gn,j=this.chain_[0],ee=this.chain_[1],Ce=this.chain_[2],tt=this.chain_[3],$t=this.chain_[4];for(let un=0;un<80;un++){un<40?un<20?(Bt=tt^ee&(Ce^tt),gn=1518500249):(Bt=ee^Ce^tt,gn=1859775393):un<60?(Bt=ee&Ce|tt&(ee|Ce),gn=2400959708):(Bt=ee^Ce^tt,gn=3395469782);const Gr=(j<<5|j>>>27)+Bt+$t+gn+K[un]&4294967295;$t=tt,tt=Ce,Ce=4294967295&(ee<<30|ee>>>2),ee=j,j=Gr}this.chain_[0]=this.chain_[0]+j&4294967295,this.chain_[1]=this.chain_[1]+ee&4294967295,this.chain_[2]=this.chain_[2]+Ce&4294967295,this.chain_[3]=this.chain_[3]+tt&4294967295,this.chain_[4]=this.chain_[4]+$t&4294967295}update(me,J){if(null==me)return;void 0===J&&(J=me.length);const K=J-this.blockSize;let j=0;const ee=this.buf_;let Ce=this.inbuf_;for(;j<J;){if(0===Ce)for(;j<=K;)this.compress_(me,j),j+=this.blockSize;if("string"==typeof me){for(;j<J;)if(ee[Ce]=me.charCodeAt(j),++Ce,++j,Ce===this.blockSize){this.compress_(ee),Ce=0;break}}else for(;j<J;)if(ee[Ce]=me[j],++Ce,++j,Ce===this.blockSize){this.compress_(ee),Ce=0;break}}this.inbuf_=Ce,this.total_+=J}digest(){const me=[];let J=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let j=this.blockSize-1;j>=56;j--)this.buf_[j]=255&J,J/=256;this.compress_(this.buf_);let K=0;for(let j=0;j<5;j++)for(let ee=24;ee>=0;ee-=8)me[K]=this.chain_[j]>>ee&255,++K;return me}}function ri(ve,me){const J=new hn(ve,me);return J.subscribe.bind(J)}class hn{constructor(me,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{me(this)}).catch(K=>{this.error(K)})}next(me){this.forEachObserver(J=>{J.next(me)})}error(me){this.forEachObserver(J=>{J.error(me)}),this.close(me)}complete(){this.forEachObserver(me=>{me.complete()}),this.close()}subscribe(me,J,K){let j;if(void 0===me&&void 0===J&&void 0===K)throw new Error("Missing Observer.");j=function Ln(ve,me){if("object"!=typeof ve||null===ve)return!1;for(const J of me)if(J in ve&&"function"==typeof ve[J])return!0;return!1}(me,["next","error","complete"])?me:{next:me,error:J,complete:K},void 0===j.next&&(j.next=yr),void 0===j.error&&(j.error=yr),void 0===j.complete&&(j.complete=yr);const ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch{}}),this.observers.push(j),ee}unsubscribeOne(me){void 0===this.observers||void 0===this.observers[me]||(delete this.observers[me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(me){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,me)}sendOne(me,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[me])try{J(this.observers[me])}catch(K){typeof console<"u"&&console.error&&console.error(K)}})}close(me){this.finalized||(this.finalized=!0,void 0!==me&&(this.finalError=me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yr(){}const Hr=function(ve,me,J,K){let j;if(K<me?j="at least "+me:K>J&&(j=0===J?"none":"no more than "+J),j)throw new Error(ve+" failed: Was called with "+K+(1===K?" argument.":" arguments.")+" Expects "+j+".")};function hi(ve,me){return`${ve} failed: ${me} argument `}function si(ve,me,J,K){if((!K||J)&&"function"!=typeof J)throw new Error(hi(ve,me)+"must be a valid function.")}function fi(ve,me,J,K){if((!K||J)&&("object"!=typeof J||null===J))throw new Error(hi(ve,me)+"must be a valid context object.")}const Yn=function(ve){const me=[];let J=0;for(let K=0;K<ve.length;K++){let j=ve.charCodeAt(K);if(j>=55296&&j<=56319){const ee=j-55296;K++,he(K<ve.length,"Surrogate pair missing trail surrogate."),j=65536+(ee<<10)+(ve.charCodeAt(K)-56320)}j<128?me[J++]=j:j<2048?(me[J++]=j>>6|192,me[J++]=63&j|128):j<65536?(me[J++]=j>>12|224,me[J++]=j>>6&63|128,me[J++]=63&j|128):(me[J++]=j>>18|240,me[J++]=j>>12&63|128,me[J++]=j>>6&63|128,me[J++]=63&j|128)}return me},ys=function(ve){let me=0;for(let J=0;J<ve.length;J++){const K=ve.charCodeAt(J);K<128?me++:K<2048?me+=2:K>=55296&&K<=56319?(me+=4,J++):me+=3}return me};function fn(ve,me=1e3,J=2){const K=me*Math.pow(J,ve),j=Math.round(.5*K*(Math.random()-.5)*2);return Math.min(144e5,K+j)}function Mr(ve){return ve&&ve._delegate?ve._delegate:ve}},1894:(jn,Tt,Q)=>{var p=Q(4650);let he=null;function ae(){return he}class lt{}const Ge=new p.OlP("DocumentToken");let it=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return function dt(){return(0,p.LFG)(we)}()},providedIn:"platform"}),n})(),we=(()=>{class n extends it{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ae().getBaseHref(this._doc)}onPopState(t){const r=ae().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ae().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Ae()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Ae()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Ge))},n.\u0275prov=p.Yz7({token:n,factory:function(){return function Pt(){return new we((0,p.LFG)(Ge))}()},providedIn:"platform"}),n})();function Ae(){return!!window.history.pushState}function Rt(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function sn(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function tn(n){return n&&"?"!==n[0]?"?"+n:n}let rt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(Dt)},providedIn:"root"}),n})();const vt=new p.OlP("appBaseHref");let Dt=(()=>{class n extends rt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(Ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Rt(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+tn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+tn(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+tn(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(it),p.LFG(vt,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kt=(()=>{class n{constructor(t){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=sn(Yt(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+tn(r))}normalize(t){return n.stripTrailingSlash(function xt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Yt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=tn,n.joinWithSlash=Rt,n.stripTrailingSlash=sn,n.\u0275fac=function(t){return new(t||n)(p.LFG(rt))},n.\u0275prov=p.Yz7({token:n,factory:function(){return function Lt(){return new kt((0,p.LFG)(rt))}()},providedIn:"root"}),n})();function Yt(n){return n.replace(/\/index.html$/,"")}function ki(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let xo=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class sa{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xa=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new sa(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const c=r.get(s);r.move(c,o),js(c,i)}});for(let i=0,s=r.length;i<s;i++){const c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{js(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function js(n,e){n.context.$implicit=e.item}let Hi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Hf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Jl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Jl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Hf{constructor(){this.$implicit=null,this.ngIf=null}}function Jl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,p.AaK)(e)}'.`)}let mm=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw function Wo(n,e){return new p.vHH(2100,!1)}();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=p.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),n})(),e0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();const t0="browser";function Yf(n){return n===t0}function sh(n){return"server"===n}class Qf{}class Do extends lt{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class qc extends Do{static makeCurrent(){!function ut(n){he||(he=n)}(new qc)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function xm(){return xi=xi||document.querySelector("base"),xi?xi.getAttribute("href"):null}();return null==t?null:function op(n){sp=sp||document.createElement("a"),sp.setAttribute("href",n);const e=sp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){xi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ki(document.cookie,e)}}let sp,xi=null;const Am=new p.OlP("TRANSITION_ID"),cw=[{provide:p.ip1,useFactory:function aw(n,e,t){return()=>{t.get(p.CZH).donePromise.then(()=>{const r=ae(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Am,Ge,p.zs3],multi:!0}];let Tm=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Il=new p.OlP("EventManagerPlugins");let lh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Il),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class uh{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=ae().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let _0=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),dc=(()=>{class n extends _0{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(hc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(hc))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Ge))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function hc(n){ae().remove(n)}const Dm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vs=/%COMP%/g;function ou(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ou(n,i,t):(i=i.replace(vs,n),t.push(i))}return t}function Nm(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Cl=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Sl(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case p.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new fh(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case p.ifc.ShadowDom:return new ph(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ou(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(lh),p.LFG(dc),p.LFG(p.AFp))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class Sl{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Dm[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(up(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(up(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Dm[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Dm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(p.JOm.DashCase|p.JOm.Important)?e.style.setProperty(t,r,i&p.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&p.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Nm(r)):this.eventManager.addEventListener(e,t,Nm(r))}}function up(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class fh extends Sl{constructor(e,t,r,i){super(e),this.component=r;const s=ou(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function OS(n){return"_ngcontent-%COMP%".replace(vs,n)}(i+"-"+r.id),this.hostAttr=function LS(n){return"_nghost-%COMP%".replace(vs,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ph extends Sl{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ou(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const c=document.createElement("style");c.textContent=s[o],this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let dp=(()=>{class n extends uh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Ge))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Pm=["alt","control","meta","shift"],Rm={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y0={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let uw=(()=>{class n extends uh{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ae().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),Pm.forEach(h=>{const g=r.indexOf(h);g>-1&&(r.splice(g,1),o+=h+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=Rm[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Pm.forEach(o=>{o!==i&&(0,y0[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Ge))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const b0=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:t0},{provide:p.g9A,useValue:function gh(){qc.makeCurrent()},multi:!0},{provide:Ge,useFactory:function v0(){return(0,p.RDi)(document),document},deps:[]}]),Lm=new p.OlP(""),ed=[{provide:p.rWj,useClass:class ap{addToWindow(e){p.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},p.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(r=>{const i=p.dqk.getAllAngularTestabilities();let s=i.length,o=!1;const c=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(c)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ae().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],w0=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function Om(){return new p.qLn},deps:[]},{provide:Il,useClass:dp,multi:!0,deps:[Ge,p.R0b,p.Lbi]},{provide:Il,useClass:uw,multi:!0,deps:[Ge]},{provide:Cl,useClass:Cl,deps:[lh,dc,p.AFp]},{provide:p.FYo,useExisting:Cl},{provide:_0,useExisting:dc},{provide:dc,useClass:dc,deps:[Ge]},{provide:lh,useClass:lh,deps:[Il,p.R0b]},{provide:Qf,useClass:Tm,deps:[]},[]];let Mo,pp=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:p.AFp,useValue:t.appId},{provide:Am,useExisting:p.AFp},cw]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Lm,12))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[...w0,...ed],imports:[e0,p.hGG]}),n})(),xl=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Ge))},n.\u0275prov=p.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function E0(){return new xl((0,p.LFG)(Ge))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;try{Mo=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Mo=!1}let gc=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Yf(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Mo)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.Lbi))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function t_(n,e=0){return function z0(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Ow(n){return Array.isArray(n)?n:[n]}var Ta=Q(7579),Ko=Q(9751);const{isArray:dx}=Array,{getPrototypeOf:zP,prototype:HP,keys:$P}=Object;function Lw(n){if(1===n.length){const e=n[0];if(dx(e))return{args:e,keys:null};if(function hx(n){return n&&"object"==typeof n&&zP(n)===HP}(e)){const t=$P(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Li=Q(8996),nd=Q(4671),In=Q(4004);const{isArray:WP}=Array;function GP(n){return(0,In.U)(e=>function qP(n,e){return WP(e)?n(...e):n(e)}(n,e))}var xh=Q(7669);function H0(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var bs=Q(5403),fx=Q(9672);function Sp(...n){const e=(0,xh.yG)(n),t=(0,xh.jO)(n),{args:r,keys:i}=Lw(n);if(0===r.length)return(0,Li.D)([],e);const s=new Ko.y(function Fw(n,e,t=nd.y){return r=>{Bw(e,()=>{const{length:i}=n,s=new Array(i);let o=i,c=i;for(let u=0;u<i;u++)Bw(e,()=>{const h=(0,Li.D)(n[u],e);let g=!1;h.subscribe((0,bs.x)(r,_=>{s[u]=_,g||(g=!0,c--),c||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>H0(i,o):nd.y));return t?s.pipe(GP(t)):s}function Bw(n,e,t){n?(0,fx.f)(t,n,e):e()}var $0=Q(8189);function yc(...n){return function px(){return(0,$0.J)(1)}()((0,Li.D)(n,(0,xh.yG)(n)))}var Ah=Q(515),Ys=Q(4482);function du(n){return n<=0?()=>Ah.E:(0,Ys.e)((e,t)=>{let r=0;e.subscribe((0,bs.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function vc(n,e){return(0,Ys.e)((t,r)=>{let i=0;t.subscribe((0,bs.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}var Yc=Q(4986);function Th(n,e=Yc.z){return(0,Ys.e)((t,r)=>{let i=null,s=null,o=null;const c=()=>{if(i){i.unsubscribe(),i=null;const h=s;s=null,r.next(h)}};function u(){const h=o+n,g=e.now();if(g<h)return i=this.schedule(void 0,h-g),void r.add(i);c()}t.subscribe((0,bs.x)(r,h=>{s=h,o=e.now(),i||(i=e.schedule(u,n),r.add(i))},()=>{c(),r.complete()},void 0,()=>{s=i=null}))})}function xp(...n){const e=(0,xh.yG)(n);return(0,Ys.e)((t,r)=>{(e?yc(n,t,e):yc(n,t)).subscribe(r)})}var Dh=Q(8421),gx=Q(5032);function ZP(n){return(0,Ys.e)((e,t)=>{(0,Dh.Xf)(n).subscribe((0,bs.x)(t,()=>t.complete(),gx.Z)),!t.closed&&e.subscribe(t)})}const mx=new Set;let Mh,YP=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):QP}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function XP(n){if(!mx.has(n))try{Mh||(Mh=document.createElement("style"),Mh.setAttribute("type","text/css"),document.head.appendChild(Mh)),Mh.sheet&&(Mh.sheet.insertRule(`@media ${n} {body{ }}`,0),mx.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(gc))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QP(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let JP=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ta.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return n_(Ow(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=Sp(n_(Ow(t)).map(o=>this._registerQuery(o).observable));return s=yc(s.pipe(du(1)),s.pipe(function KP(n){return vc((e,t)=>n<=t)}(1),Th(0))),s.pipe((0,In.U)(o=>{const c={matches:!1,breakpoints:{}};return o.forEach(({matches:u,query:h})=>{c.matches=c.matches||u,c.breakpoints[h]=u}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Ko.y(o=>{const c=u=>this._zone.run(()=>o.next(u));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(xp(r),(0,In.U)(({matches:o})=>({query:t,matches:o})),ZP(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(YP),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function n_(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const Sx="cdk-high-contrast-black-on-white",q0="cdk-high-contrast-white-on-black",Dp="cdk-high-contrast-active";let Nh=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,p.f3M)(JP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Dp,Sx,q0),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(Dp,Sx):2===r&&t.add(Dp,q0)}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(gc),p.LFG(Ge))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ax=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();const wR=new p.OlP("mat-sanity-checks",{providedIn:"root",factory:function s_(){return!0}});let Ph=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function ww(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Nh),p.LFG(wR,8),p.LFG(Ge))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[Ax,Ax]}),n})();function Mx(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}const Fx=new p.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),k8=Mx(class{constructor(n){this._elementRef=n}},"primary");let Bx=(()=>{class n extends k8{constructor(t,r,i,s,o){super(t),this._ngZone=r,this._changeDetectorRef=i,this._animationMode=s,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new p.vpe,this._mode="determinate",this._transitionendHandler=c=>{0===this.animationEnd.observers.length||!c.target||!c.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===s,o&&(o.color&&(this.color=this.defaultColor=o.color),this.mode=o.mode||this.mode)}get value(){return this._value}set value(t){this._value=Gw(t_(t)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=Gw(t_(t)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.SBq),p.Y36(p.R0b),p.Y36(p.sBO),p.Y36(p.QbO,8),p.Y36(Fx,8))},n.\u0275cmp=p.Xpm({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(t,r){2&t&&(p.uIk("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),p.ekj("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[p.qOj],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(t,r){1&t&&(p.TgZ(0,"div",0),p._UZ(1,"div",1)(2,"div",2),p.qZA(),p.TgZ(3,"div",3),p._UZ(4,"span",4),p.qZA(),p.TgZ(5,"div",5),p._UZ(6,"span",4),p.qZA()),2&t&&(p.xp6(1),p.Udp("flex-basis",r._getBufferBarFlexBasis()),p.xp6(2),p.Udp("transform",r._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half, 83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full, 200.611057%))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter, 37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half, 84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full, 160.277782%))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(-10px)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg, -83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg, -200.611057%))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg, -37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg, -84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg, -160.277782%))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;width:100%;height:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;width:100%;height:100%}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color, #6200ee)}.mdc-linear-progress__buffer-dots{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E\")}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6}.mdc-linear-progress{height:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height, 4px)}.mat-mdc-progress-bar{display:block}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0}),n})();function Gw(n,e=0,t=100){return Math.max(e,Math.min(t,n))}let Rh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[Ph]}),n})(),j8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[e0,Ph]}),n})(),Rp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[Ph,e0,Ph]}),n})();var kp=(()=>{return(n=kp||(kp={}))[n.TECHNOLOGIES=0]="TECHNOLOGIES",kp;var n})();function Fi(n){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}var Ui=Uint8Array,Hs=Uint16Array,$a=Uint32Array,sd=new Ui([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Dl=new Ui([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),kh=new Ui([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a_=function(n,e){for(var t=new Hs(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];var i=new $a(t[30]);for(r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},Xw=a_(sd,2),c_=Xw[0],Op=Xw[1];c_[28]=258,Op[258]=28;for(var Z0=a_(Dl,0),Qw=Z0[0],l_=Z0[1],u_=new Hs(32768),cs=0;cs<32768;++cs){var hu=(43690&cs)>>>1|(21845&cs)<<1;u_[cs]=((65280&(hu=(61680&(hu=(52428&hu)>>>2|(13107&hu)<<2))>>>4|(3855&hu)<<4))>>>8|(255&hu)<<8)>>>1}var bc=function(n,e,t){for(var r=n.length,i=0,s=new Hs(e);i<r;++i)++s[n[i]-1];var c,o=new Hs(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;if(t){c=new Hs(1<<e);var u=15-e;for(i=0;i<r;++i)if(n[i])for(var h=i<<4|n[i],g=e-n[i],_=o[n[i]-1]++<<g,I=_|(1<<g)-1;_<=I;++_)c[u_[_]>>>u]=h}else for(c=new Hs(r),i=0;i<r;++i)c[i]=u_[o[n[i]-1]++]>>>15-n[i];return c},Ml=new Ui(288);for(cs=0;cs<144;++cs)Ml[cs]=8;for(cs=144;cs<256;++cs)Ml[cs]=9;for(cs=256;cs<280;++cs)Ml[cs]=7;for(cs=280;cs<288;++cs)Ml[cs]=8;var Oh=new Ui(32);for(cs=0;cs<32;++cs)Oh[cs]=5;var qx=bc(Ml,9,0),Gx=bc(Ml,9,1),Da=bc(Oh,5,0),Jw=bc(Oh,5,1),Y0=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Qc=function(n,e,t){var r=e/8>>0;return(n[r]|n[r+1]<<8)>>>(7&e)&t},Lp=function(n,e){var t=e/8>>0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>>(7&e)},Fp=function(n){return(n/8>>0)+(7&n&&1)},Lh=function(n,e,t){(null==e||e<0)&&(e=0),(null==t||t>n.length)&&(t=n.length);var r=new(n instanceof Hs?Hs:n instanceof $a?$a:Ui)(t-e);return r.set(n.subarray(e,t)),r},Nl=function(n,e,t){var r=e/8>>0;n[r]|=t<<=7&e,n[r+1]|=t>>>8},Fh=function(n,e,t){var r=e/8>>0;n[r]|=t<<=7&e,n[r+1]|=t>>>8,n[r+2]|=t>>>16},Q0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return[new Ui(0),0];if(1==i){var o=new Ui(t[0].s+1);return o[t[0].s]=1,[o,1]}t.sort(function(ce,ye){return ce.f-ye.f}),t.push({s:-1,f:25001});var c=t[0],u=t[1],h=0,g=1,_=2;for(t[0]={s:-1,f:c.f+u.f,l:c,r:u};g!=i-1;)c=t[t[h].f<t[_].f?h++:_++],u=t[h!=g&&t[h].f<t[_].f?h++:_++],t[g++]={s:-1,f:c.f+u.f,l:c,r:u};var I=s[0].s;for(r=1;r<i;++r)s[r].s>I&&(I=s[r].s);var w=new Hs(I+1),x=J0(t[g-1],w,0);if(x>e){r=0;var R=0,O=x-e,L=1<<O;for(s.sort(function(ye,pe){return w[pe.s]-w[ye.s]||ye.f-pe.f});r<i;++r){var U=s[r].s;if(!(w[U]>e))break;R+=L-(1<<x-w[U]),w[U]=e}for(R>>>=O;R>0;){var Y=s[r].s;w[Y]<e?R-=1<<e-w[Y]++-1:++r}for(;r>=0&&R;--r){var te=s[r].s;w[te]==e&&(--w[te],++R)}x=e}return[new Ui(w),x]},J0=function(n,e,t){return-1==n.s?Math.max(J0(n.l,e,t+1),J0(n.r,e,t+1)):e[n.s]=t},d_=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Hs(++e),r=0,i=n[0],s=1,o=function(u){t[r++]=u},c=1;c<=e;++c)if(n[c]==i&&c!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[c]}return[t.subarray(0,r),e]},Bp=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},h_=function(n,e,t){var r=t.length,i=Fp(e+2);n[i]=255&r,n[i+1]=r>>>8,n[i+2]=255^n[i],n[i+3]=255^n[i+1];for(var s=0;s<r;++s)n[i+s+4]=t[s];return 8*(i+4+r)},eE=function(n,e,t,r,i,s,o,c,u,h,g){Nl(e,g++,t),++i[256];for(var _=Q0(i,15),I=_[0],w=_[1],x=Q0(s,15),R=x[0],O=x[1],L=d_(I),U=L[0],Y=L[1],te=d_(R),ce=te[0],ye=te[1],pe=new Hs(19),le=0;le<U.length;++le)pe[31&U[le]]++;for(le=0;le<ce.length;++le)pe[31&ce[le]]++;for(var Be=Q0(pe,7),nt=Be[0],se=Be[1],ie=19;ie>4&&!nt[kh[ie-1]];--ie);var Ze,ht,Xe,Mt,Se=h+5<<3,Ee=Bp(i,Ml)+Bp(s,Oh)+o,ze=Bp(i,I)+Bp(s,R)+o+14+3*ie+Bp(pe,nt)+(2*pe[16]+3*pe[17]+7*pe[18]);if(Se<=Ee&&Se<=ze)return h_(e,g,n.subarray(u,u+h));if(Nl(e,g,1+(ze<Ee)),g+=2,ze<Ee){Ze=bc(I,w,0),ht=I,Xe=bc(R,O,0),Mt=R;var Et=bc(nt,se,0);for(Nl(e,g,Y-257),Nl(e,g+5,ye-1),Nl(e,g+10,ie-4),g+=14,le=0;le<ie;++le)Nl(e,g+3*le,nt[kh[le]]);g+=3*ie;for(var bn=[U,ce],q=0;q<2;++q){var fe=bn[q];for(le=0;le<fe.length;++le)Nl(e,g,Et[_e=31&fe[le]]),g+=nt[_e],_e>15&&(Nl(e,g,fe[le]>>>5&127),g+=fe[le]>>>12)}}else Ze=qx,ht=Ml,Xe=Da,Mt=Oh;for(le=0;le<c;++le)if(r[le]>255){var _e;Fh(e,g,Ze[257+(_e=r[le]>>>18&31)]),g+=ht[_e+257],_e>7&&(Nl(e,g,r[le]>>>23&31),g+=sd[_e]);var Ne=31&r[le];Fh(e,g,Xe[Ne]),g+=Mt[Ne],Ne>3&&(Fh(e,g,r[le]>>>5&8191),g+=Dl[Ne])}else Fh(e,g,Ze[r[le]]),g+=ht[r[le]];return Fh(e,g,Ze[256]),g+ht[256]},Kx=new $a([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Zx=new Ui(0),f_=function(n,e,t,r,i){return function(n,e,t,r,i,s){var o=n.length,c=new Ui(r+o+5*(1+Math.floor(o/7e3))+i),u=c.subarray(r,c.length-i),h=0;if(!e||o<8)for(var g=0;g<=o;g+=65535){var _=g+65535;_<o?h=h_(u,h,n.subarray(g,_)):(u[g]=s,h=h_(u,h,n.subarray(g,o)))}else{for(var I=Kx[e-1],w=I>>>13,x=8191&I,R=(1<<t)-1,O=new Hs(32768),L=new Hs(R+1),U=Math.ceil(t/3),Y=2*U,te=function(Ir){return(n[Ir]^n[Ir+1]<<U^n[Ir+2]<<Y)&R},ce=new $a(25e3),ye=new Hs(288),pe=new Hs(32),le=0,Be=0,nt=(g=0,0),se=0,ie=0;g<o;++g){var Se=te(g),Ee=32767&g,ze=L[Se];if(O[Ee]=ze,L[Se]=Ee,se<=g){var Ze=o-g;if((le>7e3||nt>24576)&&Ze>423){h=eE(n,u,0,ce,ye,pe,Be,nt,ie,g-ie,h),nt=le=Be=0,ie=g;for(var ht=0;ht<286;++ht)ye[ht]=0;for(ht=0;ht<30;++ht)pe[ht]=0}var Xe=2,Mt=0,Et=x,bn=Ee-ze&32767;if(Ze>2&&Se==te(g-bn))for(var q=Math.min(w,Ze)-1,fe=Math.min(32767,g),_e=Math.min(258,Ze);bn<=fe&&--Et&&Ee!=ze;){if(n[g+Xe]==n[g+Xe-bn]){for(var Ne=0;Ne<_e&&n[g+Ne]==n[g+Ne-bn];++Ne);if(Ne>Xe){if(Xe=Ne,Mt=bn,Ne>q)break;var je=Math.min(bn,Ne-2),ot=0;for(ht=0;ht<je;++ht){var ft=g-bn+ht+32768&32767,ln=ft-O[ft]+32768&32767;ln>ot&&(ot=ln,ze=ft)}}}bn+=(Ee=ze)-(ze=O[Ee])+32768&32767}if(Mt){ce[nt++]=268435456|Op[Xe]<<18|l_[Mt];var on=31&Op[Xe],Rn=31&l_[Mt];Be+=sd[on]+Dl[Rn],++ye[257+on],++pe[Rn],se=g+Xe,++le}else ce[nt++]=n[g],++ye[n[g]]}}h=eE(n,u,s,ce,ye,pe,Be,nt,ie,g-ie,h),s||(h=h_(u,h,Zx))}return Lh(c,0,r+Fp(h)+i)}(n,e.level??6,null==e.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):12+e.mem,t,r,!i)};function m_(n,e){void 0===e&&(e={});var t=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length,o=0;o!=s;){for(var c=Math.min(o+5552,s);o<c;++o)i+=r+=t[o];r%=65521,i%=65521}n=r,e=i},d:function(){return(n>>>8<<16|(255&e)<<8|e>>>8)+2*((255&n)<<23)}}}();t.p(n);var r=f_(n,e,2,4);return function(n,e){var t=e.level,r=0==t?0:t<6?1:9==t?3:2;n[0]=120,n[1]=r<<6|(r?32-2*r:1)}(r,e),function(n,e,t){for(;t;++e)n[e]=t,t>>>=8}(r,r.length-4,t.d()),r}function cv(n,e){return function(n,e,t){var r=n.length,i=!e||t,s=!t||t.i;t||(t={}),e||(e=new Ui(3*r));var o=function(je){var ot=e.length;if(je>ot){var ft=new Ui(Math.max(2*ot,je));ft.set(e),e=ft}},c=t.f||0,u=t.p||0,h=t.b||0,g=t.l,_=t.d,I=t.m,w=t.n,x=8*r;do{if(!g){t.f=c=Qc(n,u,1);var R=Qc(n,u+1,3);if(u+=3,!R){var L=n[(O=Fp(u)+4)-4]|n[O-3]<<8,U=O+L;if(U>r){if(s)throw"unexpected EOF";break}i&&o(h+L),e.set(n.subarray(O,U),h),t.b=h+=L,t.p=u=8*U;continue}if(1==R)g=Gx,_=Jw,I=9,w=5;else{if(2!=R)throw"invalid block type";var Y=Qc(n,u,31)+257,te=Qc(n,u+10,15)+4,ce=Y+Qc(n,u+5,31)+1;u+=14;for(var ye=new Ui(ce),pe=new Ui(19),le=0;le<te;++le)pe[kh[le]]=Qc(n,u+3*le,7);u+=3*te;var Be=Y0(pe),nt=(1<<Be)-1;if(!s&&u+ce*(Be+7)>x)break;var se=bc(pe,Be,1);for(le=0;le<ce;){var O,ie=se[Qc(n,u,nt)];if(u+=15&ie,(O=ie>>>4)<16)ye[le++]=O;else{var Se=0,Ee=0;for(16==O?(Ee=3+Qc(n,u,3),u+=2,Se=ye[le-1]):17==O?(Ee=3+Qc(n,u,7),u+=3):18==O&&(Ee=11+Qc(n,u,127),u+=7);Ee--;)ye[le++]=Se}}var ze=ye.subarray(0,Y),Ze=ye.subarray(Y);I=Y0(ze),w=Y0(Ze),g=bc(ze,I,1),_=bc(Ze,w,1)}if(u>x)throw"unexpected EOF"}i&&o(h+131072);for(var ht=(1<<I)-1,Xe=(1<<w)-1,Mt=I+w+18;s||u+Mt<x;){var Et=(Se=g[Lp(n,u)&ht])>>>4;if((u+=15&Se)>x)throw"unexpected EOF";if(!Se)throw"invalid length/literal";if(Et<256)e[h++]=Et;else{if(256==Et){g=null;break}var bn=Et-254;Et>264&&(bn=Qc(n,u,(1<<(q=sd[le=Et-257]))-1)+c_[le],u+=q);var fe=_[Lp(n,u)&Xe],_e=fe>>>4;if(!fe)throw"invalid distance";if(u+=15&fe,Ze=Qw[_e],_e>3){var q=Dl[_e];Ze+=Lp(n,u)&(1<<q)-1,u+=q}if(u>x)throw"unexpected EOF";i&&o(h+131072);for(var Ne=h+bn;h<Ne;h+=4)e[h]=e[h-Ze],e[h+1]=e[h+1-Ze],e[h+2]=e[h+2-Ze],e[h+3]=e[h+3-Ze];h=Ne}}t.l=g,t.p=u,t.b=h,g&&(c=1,t.m=I,t.d=_,t.n=w)}while(!c);return h==e.length?e:Lh(e,0,h)}((function(n){if(8!=(15&n[0])||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(32&n[1])throw"invalid zlib data: preset dictionaries not supported"}(n),n.subarray(2,-4)),e)}var pr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function od(){pr.console&&"function"==typeof pr.console.log&&pr.console.log.apply(pr.console,arguments)}var bi={log:od,warn:function(n){pr.console&&("function"==typeof pr.console.warn?pr.console.warn.apply(pr.console,arguments):od.call(null,arguments))},error:function(n){pr.console&&("function"==typeof pr.console.error?pr.console.error.apply(pr.console,arguments):od(n))}};function ad(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){wc(r.response,e,t)},r.onerror=function(){bi.error("could not download file")},r.send()}function jh(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function fu(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Pl,cd,wc=pr.saveAs||("object"!==(typeof window>"u"?"undefined":Fi(window))||window!==pr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=pr.URL||pr.webkitURL,i=document.createElement("a");i.download=e=e||n.name||"download",i.rel="noopener","string"==typeof n?(i.href=n,i.origin!==location.origin?jh(i.href)?ad(n,e,t):fu(i,i.target="_blank"):fu(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){fu(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download","string"==typeof n)if(jh(n))ad(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){fu(r)})}else navigator.msSaveOrOpenBlob((i=n,void 0===(s=t)?s={autoBom:!1}:"object"!==Fi(s)&&(bi.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i),e);var i,s}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof n)return ad(n,e,t);var i="application/octet-stream"===n.type,s=/constructor/i.test(pr.HTMLElement)||pr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&"object"===(typeof FileReader>"u"?"undefined":Fi(FileReader))){var c=new FileReader;c.onloadend=function(){var g=c.result;g=o?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},c.readAsDataURL(n)}else{var u=pr.URL||pr.webkitURL,h=u.createObjectURL(n);r?r.location=h:location.href=h,r=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});function Vh(n){var e;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var s=t[r].process,o=t[r].re.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return 1==c.length&&(c="0"+c),1==u.length&&(u="0"+u),1==h.length&&(h="0"+h),"#"+c+u+h}}function uv(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=No(t,r,i,s,e[0],7,-680876936),s=No(s,t,r,i,e[1],12,-389564586),i=No(i,s,t,r,e[2],17,606105819),r=No(r,i,s,t,e[3],22,-1044525330),t=No(t,r,i,s,e[4],7,-176418897),s=No(s,t,r,i,e[5],12,1200080426),i=No(i,s,t,r,e[6],17,-1473231341),r=No(r,i,s,t,e[7],22,-45705983),t=No(t,r,i,s,e[8],7,1770035416),s=No(s,t,r,i,e[9],12,-1958414417),i=No(i,s,t,r,e[10],17,-42063),r=No(r,i,s,t,e[11],22,-1990404162),t=No(t,r,i,s,e[12],7,1804603682),s=No(s,t,r,i,e[13],12,-40341101),i=No(i,s,t,r,e[14],17,-1502002290),t=Po(t,r=No(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Po(s,t,r,i,e[6],9,-1069501632),i=Po(i,s,t,r,e[11],14,643717713),r=Po(r,i,s,t,e[0],20,-373897302),t=Po(t,r,i,s,e[5],5,-701558691),s=Po(s,t,r,i,e[10],9,38016083),i=Po(i,s,t,r,e[15],14,-660478335),r=Po(r,i,s,t,e[4],20,-405537848),t=Po(t,r,i,s,e[9],5,568446438),s=Po(s,t,r,i,e[14],9,-1019803690),i=Po(i,s,t,r,e[3],14,-187363961),r=Po(r,i,s,t,e[8],20,1163531501),t=Po(t,r,i,s,e[13],5,-1444681467),s=Po(s,t,r,i,e[2],9,-51403784),i=Po(i,s,t,r,e[7],14,1735328473),t=Ro(t,r=Po(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ro(s,t,r,i,e[8],11,-2022574463),i=Ro(i,s,t,r,e[11],16,1839030562),r=Ro(r,i,s,t,e[14],23,-35309556),t=Ro(t,r,i,s,e[1],4,-1530992060),s=Ro(s,t,r,i,e[4],11,1272893353),i=Ro(i,s,t,r,e[7],16,-155497632),r=Ro(r,i,s,t,e[10],23,-1094730640),t=Ro(t,r,i,s,e[13],4,681279174),s=Ro(s,t,r,i,e[0],11,-358537222),i=Ro(i,s,t,r,e[3],16,-722521979),r=Ro(r,i,s,t,e[6],23,76029189),t=Ro(t,r,i,s,e[9],4,-640364487),s=Ro(s,t,r,i,e[12],11,-421815835),i=Ro(i,s,t,r,e[15],16,530742520),t=ko(t,r=Ro(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ko(s,t,r,i,e[7],10,1126891415),i=ko(i,s,t,r,e[14],15,-1416354905),r=ko(r,i,s,t,e[5],21,-57434055),t=ko(t,r,i,s,e[12],6,1700485571),s=ko(s,t,r,i,e[3],10,-1894986606),i=ko(i,s,t,r,e[10],15,-1051523),r=ko(r,i,s,t,e[1],21,-2054922799),t=ko(t,r,i,s,e[8],6,1873313359),s=ko(s,t,r,i,e[15],10,-30611744),i=ko(i,s,t,r,e[6],15,-1560198380),r=ko(r,i,s,t,e[13],21,1309151649),t=ko(t,r,i,s,e[4],6,-145523070),s=ko(s,t,r,i,e[11],10,-1120210379),i=ko(i,s,t,r,e[2],15,718787259),r=ko(r,i,s,t,e[9],21,-343485551),n[0]=ld(t,n[0]),n[1]=ld(r,n[1]),n[2]=ld(i,n[2]),n[3]=ld(s,n[3])}function __(n,e,t,r,i,s){return e=ld(ld(e,n),ld(r,s)),ld(e<<i|e>>>32-i,t)}function No(n,e,t,r,i,s,o){return __(e&t|~e&r,n,e,i,s,o)}function Po(n,e,t,r,i,s,o){return __(e&r|t&~r,n,e,i,s,o)}function Ro(n,e,t,r,i,s,o){return __(e^t^r,n,e,i,s,o)}function ko(n,e,t,r,i,s,o){return __(t^(e|~r),n,e,i,s,o)}function uE(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)uv(r,aA(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(uv(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,uv(r,i),r}function aA(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Pl=pr.atob.bind(pr),cd=pr.btoa.bind(pr);var dE="0123456789abcdef".split("");function JR(n){for(var e="",t=0;t<4;t++)e+=dE[n>>8*t+4&15]+dE[n>>8*t&15];return e}function ek(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function dv(n){return uE(n).map(ek).join("")}var tk="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var e=0;e<n.length;e++)n[e]=JR(n[e]);return n.join("")}(uE("hello"));function ld(n,e){if(tk){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function y_(n,e){var t,r,i;if(n!==t){for(var o=(i=n,new Array(1+(256/n.length>>0)+1).join(i)),c=[],u=0;u<256;u++)c[u]=u;var h=0;for(u=0;u<256;u++){var g=c[u];h=(h+g+o.charCodeAt(u))%256,c[u]=c[h],c[h]=g}t=n,r=c}else c=r;var _=e.length,I=0,w=0,x="";for(u=0;u<_;u++)w=(w+(g=c[I=(I+1)%256]))%256,c[I]=c[w],c[w]=g,o=c[(c[I]+c[w])%256],x+=String.fromCharCode(e.charCodeAt(u)^o);return x}var hv={print:4,modify:8,copy:16,"annot-forms":32};function Wp(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(c){if(void 0!==hv.perm)throw new Error("Invalid permission: "+c);i+=hv[c]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=dv(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=y_(this.encryptionKey,this.padding)}function pu(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function v_(n){if("object"!==Fi(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,"string"!=typeof t||"function"!=typeof r||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],0===Object.keys(e[r]).length&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(c){pr.console&&bi.error("jsPDF PubSub Error",c.message,c)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function qp(n){if(!(this instanceof qp))return new qp(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function cA(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function gu(n,e,t,r,i){if(!(this instanceof gu))return new gu(n,e,t,r,i);this.type="axial"===n?2:3,this.coords=e,this.colors=t,cA.call(this,r,i)}function ud(n,e,t,r,i){if(!(this instanceof ud))return new ud(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,cA.call(this,r,i)}function gr(n){var e,t="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],c=1,u=16,h="S",g=null;"object"===Fi(n=n||{})&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,null!==(g=n.encryption||null)&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),c="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(e=n.precision),void 0!==n.floatPrecision&&(u=n.floatPrecision),h=n.defaultPathOperation||"S"),o=n.filters||(!0===s?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var _=n.putOnlyUsedFonts||!1,I={},w={internal:{},__private__:{}};w.__private__.PubSub=v_;var x="1.3",R=w.__private__.getPdfVersion=function(){return x};w.__private__.setPdfVersion=function(D){x=D};var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return O};var L=w.__private__.getPageFormat=function(D){return O[D]};i=i||"a4";var U={COMPAT:"compat",ADVANCED:"advanced"},Y=U.COMPAT;function te(){this.saveGraphicsState(),be(new wr(Dn,0,0,-Dn,0,rm()*Dn).toString()+" cm"),this.setFontSize(this.getFontSize()/Dn),h="n",Y=U.ADVANCED}function ce(){this.restoreGraphicsState(),h="S",Y=U.COMPAT}var ye=w.__private__.combineFontStyleAndFontWeight=function(D,z){if("bold"==D&&"normal"==z||"bold"==D&&400==z||"normal"==D&&"italic"==z||"bold"==D&&"italic"==z)throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(D=400==z||"normal"===z?"italic"===D?"italic":"normal":700!=z&&"bold"!==z||"normal"!==D?(700==z?"bold":z)+""+D:"bold"),D};w.advancedAPI=function(D){var z=Y===U.COMPAT;return z&&te.call(this),"function"!=typeof D||(D(this),z&&ce.call(this)),this},w.compatAPI=function(D){var z=Y===U.ADVANCED;return z&&ce.call(this),"function"!=typeof D||(D(this),z&&te.call(this)),this},w.isAdvancedAPI=function(){return Y===U.ADVANCED};var pe,le=function(D){if(Y!==U.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Be=w.roundToPrecision=w.__private__.roundToPrecision=function(D,z){var ge=e||z;if(isNaN(D)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(ge).replace(/0+$/,"")};pe=w.hpf=w.__private__.hpf="number"==typeof u?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return Be(D,u)}:"smart"===u?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return Be(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return Be(D,16)};var nt=w.f2=w.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return Be(D,2)},se=w.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return Be(D,3)},ie=w.scale=w.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return Y===U.COMPAT?D*Dn:Y===U.ADVANCED?D:void 0},Se=function(D){return Y===U.COMPAT?rm()-D:Y===U.ADVANCED?D:void 0},Ee=function(D){return ie(Se(D))};w.__private__.setPrecision=w.setPrecision=function(D){"number"==typeof parseInt(D,10)&&(e=parseInt(D,10))};var ze,Ze="00000000000000000000000000000000",ht=w.__private__.getFileId=function(){return Ze},Xe=w.__private__.setFileId=function(D){return Ze=void 0!==D&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():Ze.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==g&&(ja=new Wp(g.userPermissions,g.userPassword,g.ownerPassword,Ze)),Ze};w.setFileId=function(D){return Xe(D),this},w.getFileId=function(){return ht()};var Mt=w.__private__.convertDateToPDFDate=function(D){var z=D.getTimezoneOffset(),ge=z<0?"+":"-",De=Math.floor(Math.abs(z/60)),qe=Math.abs(z%60),Ct=[ge,_e(De),"'",_e(qe),"'"].join("");return["D:",D.getFullYear(),_e(D.getMonth()+1),_e(D.getDate()),_e(D.getHours()),_e(D.getMinutes()),_e(D.getSeconds()),Ct].join("")},Et=w.__private__.convertPDFDateToDate=function(D){var z=parseInt(D.substr(2,4),10),ge=parseInt(D.substr(6,2),10)-1,De=parseInt(D.substr(8,2),10),qe=parseInt(D.substr(10,2),10),Ct=parseInt(D.substr(12,2),10),en=parseInt(D.substr(14,2),10);return new Date(z,ge,De,qe,Ct,en,0)},bn=w.__private__.setCreationDate=function(D){var z;if(void 0===D&&(D=new Date),D instanceof Date)z=Mt(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=D}return ze=z},q=w.__private__.getCreationDate=function(D){var z=ze;return"jsDate"===D&&(z=Et(ze)),z};w.setCreationDate=function(D){return bn(D),this},w.getCreationDate=function(D){return q(D)};var fe,_e=w.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},Ne=w.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},je=0,ot=[],ft=[],gt=0,ln=[],on=[],Rn=!1,Un=ft,Ir=function(){je=0,gt=0,ft=[],ot=[],ln=[],Pf=wo(),ku=wo()};w.__private__.setCustomOutputDestination=function(D){Rn=!0,Un=D};var At=function(D){Rn||(Un=D)};w.__private__.resetCustomOutputDestination=function(){Rn=!1,Un=ft};var be=w.__private__.out=function(D){return D=D.toString(),gt+=D.length+1,Un.push(D),Un},Vr=w.__private__.write=function(D){return be(1===arguments.length?D.toString():Array.prototype.join.call(arguments," "))},tr=w.__private__.getArrayBuffer=function(D){for(var z=D.length,ge=new ArrayBuffer(z),De=new Uint8Array(ge);z--;)De[z]=D.charCodeAt(z);return ge},rn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return rn};var _n=n.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(D){return _n=Y===U.ADVANCED?D/Dn:D,this};var Tn,Sn=w.__private__.getFontSize=w.getFontSize=function(){return Y===U.COMPAT?_n:_n*Dn},lr=n.R2L||!1;w.__private__.setR2L=w.setR2L=function(D){return lr=D,this},w.__private__.getR2L=w.getR2L=function(){return lr};var Br,Yr=w.__private__.setZoomMode=function(D){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))Tn=D;else if(isNaN(D)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(D))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');Tn=D}else Tn=parseInt(D,10)};w.__private__.getZoomMode=function(){return Tn};var ni,Di=w.__private__.setPageMode=function(D){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Br=D};w.__private__.getPageMode=function(){return Br};var is=w.__private__.setLayoutMode=function(D){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');ni=D};w.__private__.getLayoutMode=function(){return ni},w.__private__.setDisplayMode=w.setDisplayMode=function(D,z,ge){return Yr(D),is(z),Di(ge),this};var Tr={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(D){if(-1===Object.keys(Tr).indexOf(D))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tr[D]},w.__private__.getDocumentProperties=function(){return Tr},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(D){for(var z in Tr)Tr.hasOwnProperty(z)&&D[z]&&(Tr[z]=D[z]);return this},w.__private__.setDocumentProperty=function(D,z){if(-1===Object.keys(Tr).indexOf(D))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tr[D]=z};var ii,Dn,Ua,Ni,Nu,hs={},Us={},qd=[],ji={},Vy={},ro={},Pu={},Nf=null,io=0,Ur=[],Vi=new v_(w),zy=n.hotfixes||[],Ca={},Gd={},Kd=[],wr=function D(z,ge,De,qe,Ct,en){if(!(this instanceof D))return new D(z,ge,De,qe,Ct,en);isNaN(z)&&(z=1),isNaN(ge)&&(ge=0),isNaN(De)&&(De=0),isNaN(qe)&&(qe=1),isNaN(Ct)&&(Ct=0),isNaN(en)&&(en=0),this._matrix=[z,ge,De,qe,Ct,en]};Object.defineProperty(wr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(wr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(wr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(wr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(wr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(wr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(wr.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(wr.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(wr.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(wr.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(wr.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(wr.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(wr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wr.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),wr.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(pe).join(D)},wr.prototype.multiply=function(D){return new wr(D.sx*this.sx+D.shy*this.shx,D.sx*this.shy+D.shy*this.sy,D.shx*this.sx+D.sy*this.shx,D.shx*this.shy+D.sy*this.sy,D.tx*this.sx+D.ty*this.shx+this.tx,D.tx*this.shy+D.ty*this.sy+this.ty)},wr.prototype.decompose=function(){var D=this.sx,z=this.shy,ge=this.shx,De=this.sy,qe=this.tx,Ct=this.ty,en=Math.sqrt(D*D+z*z),kn=(D/=en)*ge+(z/=en)*De;ge-=D*kn,De-=z*kn;var hr=Math.sqrt(ge*ge+De*De);return kn/=hr,D*(De/=hr)<z*(ge/=hr)&&(D=-D,z=-z,kn=-kn,en=-en),{scale:new wr(en,0,0,hr,0,0),translate:new wr(1,0,0,1,qe,Ct),rotate:new wr(D,z,-z,D,0,0),skew:new wr(1,0,kn,1,0,0)}},wr.prototype.toString=function(D){return this.join(" ")},wr.prototype.inversed=function(){var D=this.sx,z=this.shy,ge=this.shx,De=this.sy,qe=this.tx,Ct=this.ty,en=1/(D*De-z*ge),kn=De*en,hr=-z*en,zr=-ge*en,Qr=D*en;return new wr(kn,hr,zr,Qr,-kn*qe-zr*Ct,-hr*qe-Qr*Ct)},wr.prototype.applyToPoint=function(D){return new O1(D.x*this.sx+D.y*this.shx+this.tx,D.x*this.shy+D.y*this.sy+this.ty)},wr.prototype.applyToRectangle=function(D){var z=this.applyToPoint(D),ge=this.applyToPoint(new O1(D.x+D.w,D.y+D.h));return new XC(z.x,z.y,ge.x-z.x,ge.y-z.y)},wr.prototype.clone=function(){return new wr(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},w.Matrix=wr;var Ru=w.matrixMult=function(D,z){return z.multiply(D)},Zd=new wr(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Zd;var Lc=function(D,z){if(!Vy[D]){var ge=(z instanceof gu?"Sh":"P")+(Object.keys(ji).length+1).toString(10);z.id=ge,Vy[D]=ge,ji[ge]=z,Vi.publish("addPattern",z)}};w.ShadingPattern=gu,w.TilingPattern=ud,w.addShadingPattern=function(D,z){return le("addShadingPattern()"),Lc(D,z),this},w.beginTilingPattern=function(D){le("beginTilingPattern()"),GN(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},w.endTilingPattern=function(D,z){le("endTilingPattern()"),z.stream=on[fe].join("\n"),Lc(D,z),Vi.publish("endTilingPattern",z),Kd.pop().restore()};var zo=w.__private__.newObject=function(){var D=wo();return ml(D,!0),D},wo=w.__private__.newObjectDeferred=function(){return je++,ot[je]=function(){return gt},je},ml=function(D,z){return z="boolean"==typeof z&&z,ot[D]=gt,z&&be(D+" 0 obj"),D},E1=w.__private__.newAdditionalObject=function(){var D={objId:wo(),content:""};return ln.push(D),D},Pf=wo(),ku=wo(),Ou=w.__private__.decodeColorString=function(D){var z=D.split(" ");if(2!==z.length||"g"!==z[1]&&"G"!==z[1])5===z.length&&("k"===z[4]||"K"===z[4])&&(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var ge=parseFloat(z[0]);z=[ge,ge,ge,"r"]}for(var De="#",qe=0;qe<3;qe++)De+=("0"+Math.floor(255*parseFloat(z[qe])).toString(16)).slice(-2);return De},Lu=w.__private__.encodeColorString=function(D){var z;"string"==typeof D&&(D={ch1:D});var ge=D.ch1,De=D.ch2,qe=D.ch3,Ct=D.ch4,en="draw"===D.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof ge&&"#"!==ge.charAt(0)){var kn=new Vh(ge);if(kn.ok)ge=kn.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if("string"==typeof ge&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),"string"==typeof ge&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var hr=parseInt(ge.substr(1),16);ge=hr>>16&255,De=hr>>8&255,qe=255&hr}if(void 0===De||void 0===Ct&&ge===De&&De===qe)z="string"==typeof ge?ge+" "+en[0]:2===D.precision?nt(ge/255)+" "+en[0]:se(ge/255)+" "+en[0];else if(void 0===Ct||"object"===Fi(Ct)){if(Ct&&!isNaN(Ct.a)&&0===Ct.a)return["1.","1.","1.",en[1]].join(" ");z="string"==typeof ge?[ge,De,qe,en[1]].join(" "):2===D.precision?[nt(ge/255),nt(De/255),nt(qe/255),en[1]].join(" "):[se(ge/255),se(De/255),se(qe/255),en[1]].join(" ")}else z="string"==typeof ge?[ge,De,qe,Ct,en[2]].join(" "):2===D.precision?[nt(ge),nt(De),nt(qe),nt(Ct),en[2]].join(" "):[se(ge),se(De),se(qe),se(Ct),en[2]].join(" ");return z},Yd=w.__private__.getFilters=function(){return o},Gl=w.__private__.putStream=function(D){var z=(D=D||{}).data||"",ge=D.filters||Yd(),De=D.alreadyAppliedFilters||[],qe=D.addLength1||!1,Ct=z.length,en=D.objectId,kn=function(Va){return Va};if(null!==g&&void 0===en)throw new Error("ObjectId must be passed to putStream for file encryption");null!==g&&(kn=ja.encryptor(en,0));var hr={};!0===ge&&(ge=["FlateEncode"]);var zr=D.additionalKeyValues||[],Qr=(hr=void 0!==gr.API.processDataByFilters?gr.API.processDataByFilters(z,ge):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(De)?De.join(" "):De.toString());if(0!==hr.data.length&&(zr.push({key:"Length",value:hr.data.length}),!0===qe&&zr.push({key:"Length1",value:Ct})),0!=Qr.length)if(Qr.split("/").length-1==1)zr.push({key:"Filter",value:Qr});else{zr.push({key:"Filter",value:"["+Qr+"]"});for(var Ii=0;Ii<zr.length;Ii+=1)if("DecodeParms"===zr[Ii].key){for(var qs=[],so=0;so<hr.reverseChain.split("/").length-1;so+=1)qs.push("null");qs.push(zr[Ii].value),zr[Ii].value="["+qs.join(" ")+"]"}}be("<<");for(var Eo=0;Eo<zr.length;Eo++)be("/"+zr[Eo].key+" "+zr[Eo].value);be(">>"),0!==hr.data.length&&(be("stream"),be(kn(hr.data)),be("endstream"))},Xd=w.__private__.putPage=function(D){var z=D.number,ge=D.data,De=D.objId,qe=D.contentsObjId;ml(De,!0),be("<</Type /Page"),be("/Parent "+D.rootDictionaryObjId+" 0 R"),be("/Resources "+D.resourceDictionaryObjId+" 0 R"),be("/MediaBox ["+parseFloat(pe(D.mediaBox.bottomLeftX))+" "+parseFloat(pe(D.mediaBox.bottomLeftY))+" "+pe(D.mediaBox.topRightX)+" "+pe(D.mediaBox.topRightY)+"]"),null!==D.cropBox&&be("/CropBox ["+pe(D.cropBox.bottomLeftX)+" "+pe(D.cropBox.bottomLeftY)+" "+pe(D.cropBox.topRightX)+" "+pe(D.cropBox.topRightY)+"]"),null!==D.bleedBox&&be("/BleedBox ["+pe(D.bleedBox.bottomLeftX)+" "+pe(D.bleedBox.bottomLeftY)+" "+pe(D.bleedBox.topRightX)+" "+pe(D.bleedBox.topRightY)+"]"),null!==D.trimBox&&be("/TrimBox ["+pe(D.trimBox.bottomLeftX)+" "+pe(D.trimBox.bottomLeftY)+" "+pe(D.trimBox.topRightX)+" "+pe(D.trimBox.topRightY)+"]"),null!==D.artBox&&be("/ArtBox ["+pe(D.artBox.bottomLeftX)+" "+pe(D.artBox.bottomLeftY)+" "+pe(D.artBox.topRightX)+" "+pe(D.artBox.topRightY)+"]"),"number"==typeof D.userUnit&&1!==D.userUnit&&be("/UserUnit "+D.userUnit),Vi.publish("putPage",{objId:De,pageContext:Ur[z],pageNumber:z,page:ge}),be("/Contents "+qe+" 0 R"),be(">>"),be("endobj");var Ct=ge.join("\n");return Y===U.ADVANCED&&(Ct+="\nQ"),ml(qe,!0),Gl({data:Ct,filters:Yd(),objectId:qe}),be("endobj"),De},Hy=w.__private__.putPages=function(){var D,z,ge=[];for(D=1;D<=io;D++)Ur[D].objId=wo(),Ur[D].contentsObjId=wo();for(D=1;D<=io;D++)ge.push(Xd({number:D,data:on[D],objId:Ur[D].objId,contentsObjId:Ur[D].contentsObjId,mediaBox:Ur[D].mediaBox,cropBox:Ur[D].cropBox,bleedBox:Ur[D].bleedBox,trimBox:Ur[D].trimBox,artBox:Ur[D].artBox,userUnit:Ur[D].userUnit,rootDictionaryObjId:Pf,resourceDictionaryObjId:ku}));ml(Pf,!0),be("<</Type /Pages");var De="/Kids [";for(z=0;z<io;z++)De+=ge[z]+" 0 R ";be(De+"]"),be("/Count "+io),be(">>"),be("endobj"),Vi.publish("postPutPages")},I1=function(D){Vi.publish("putFont",{font:D,out:be,newObject:zo,putStream:Gl}),!0!==D.isAlreadyPutted&&(D.objectNumber=zo(),be("<<"),be("/Type /Font"),be("/BaseFont /"+pu(D.postScriptName)),be("/Subtype /Type1"),"string"==typeof D.encoding&&be("/Encoding /"+D.encoding),be("/FirstChar 32"),be("/LastChar 255"),be(">>"),be("endobj"))},C1=function(){for(var D in hs)hs.hasOwnProperty(D)&&(!1===_||!0===_&&I.hasOwnProperty(D))&&I1(hs[D])},S1=function(D){D.objectNumber=zo();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[pe(D.x),pe(D.y),pe(D.x+D.width),pe(D.y+D.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var ge=D.pages[1].join("\n");Gl({data:ge,additionalKeyValues:z,objectId:D.objectNumber}),be("endobj")},x1=function(){for(var D in Ca)Ca.hasOwnProperty(D)&&S1(Ca[D])},DN=function(D,z){var ge,De=[],qe=1/(z-1);for(ge=0;ge<1;ge+=qe)De.push(ge);De.push(1),0!=D[0].offset&&D.unshift({offset:0,color:D[0].color}),1!=D[D.length-1].offset&&D.push({offset:1,color:D[D.length-1].color});for(var kn="",hr=0,zr=0;zr<De.length;zr++){for(ge=De[zr];ge>D[hr+1].offset;)hr++;var Qr=D[hr].offset,Ii=(ge-Qr)/(D[hr+1].offset-Qr),qs=D[hr].color,so=D[hr+1].color;kn+=Ne(Math.round((1-Ii)*qs[0]+Ii*so[0]).toString(16))+Ne(Math.round((1-Ii)*qs[1]+Ii*so[1]).toString(16))+Ne(Math.round((1-Ii)*qs[2]+Ii*so[2]).toString(16))}return kn.trim()},$B=function(D,z){z||(z=21);var ge=zo(),De=DN(D.colors,z),qe=[];qe.push({key:"FunctionType",value:"0"}),qe.push({key:"Domain",value:"[0.0 1.0]"}),qe.push({key:"Size",value:"["+z+"]"}),qe.push({key:"BitsPerSample",value:"8"}),qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gl({data:De,additionalKeyValues:qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),be("endobj"),D.objectNumber=zo(),be("<< /ShadingType "+D.type),be("/ColorSpace /DeviceRGB");var Ct="/Coords ["+pe(parseFloat(D.coords[0]))+" "+pe(parseFloat(D.coords[1]))+" ";Ct+=2===D.type?pe(parseFloat(D.coords[2]))+" "+pe(parseFloat(D.coords[3])):pe(parseFloat(D.coords[2]))+" "+pe(parseFloat(D.coords[3]))+" "+pe(parseFloat(D.coords[4]))+" "+pe(parseFloat(D.coords[5])),be(Ct+="]"),D.matrix&&be("/Matrix ["+D.matrix.toString()+"]"),be("/Function "+ge+" 0 R"),be("/Extend [true true]"),be(">>"),be("endobj")},WB=function(D,z){var ge=wo(),De=zo();z.push({resourcesOid:ge,objectOid:De}),D.objectNumber=De;var qe=[];qe.push({key:"Type",value:"/Pattern"}),qe.push({key:"PatternType",value:"1"}),qe.push({key:"PaintType",value:"1"}),qe.push({key:"TilingType",value:"1"}),qe.push({key:"BBox",value:"["+D.boundingBox.map(pe).join(" ")+"]"}),qe.push({key:"XStep",value:pe(D.xStep)}),qe.push({key:"YStep",value:pe(D.yStep)}),qe.push({key:"Resources",value:ge+" 0 R"}),D.matrix&&qe.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Gl({data:D.stream,additionalKeyValues:qe,objectId:D.objectNumber}),be("endobj")},A1=function(D){var z;for(z in ji)ji.hasOwnProperty(z)&&(ji[z]instanceof gu?$B(ji[z]):ji[z]instanceof ud&&WB(ji[z],D))},MN=function(D){for(var z in D.objectNumber=zo(),be("<<"),D)switch(z){case"opacity":be("/ca "+nt(D[z]));break;case"stroke-opacity":be("/CA "+nt(D[z]))}be(">>"),be("endobj")},qB=function(){var D;for(D in ro)ro.hasOwnProperty(D)&&MN(ro[D])},VC=function(){for(var D in be("/XObject <<"),Ca)Ca.hasOwnProperty(D)&&Ca[D].objectNumber>=0&&be("/"+D+" "+Ca[D].objectNumber+" 0 R");Vi.publish("putXobjectDict"),be(">>")},GB=function(){ja.oid=zo(),be("<<"),be("/Filter /Standard"),be("/V "+ja.v),be("/R "+ja.r),be("/U <"+ja.toHexString(ja.U)+">"),be("/O <"+ja.toHexString(ja.O)+">"),be("/P "+ja.P),be(">>"),be("endobj")},NN=function(){for(var D in be("/Font <<"),hs)hs.hasOwnProperty(D)&&(!1===_||!0===_&&I.hasOwnProperty(D))&&be("/"+D+" "+hs[D].objectNumber+" 0 R");be(">>")},KB=function(){if(Object.keys(ji).length>0){for(var D in be("/Shading <<"),ji)ji.hasOwnProperty(D)&&ji[D]instanceof gu&&ji[D].objectNumber>=0&&be("/"+D+" "+ji[D].objectNumber+" 0 R");Vi.publish("putShadingPatternDict"),be(">>")}},T1=function(D){if(Object.keys(ji).length>0){for(var z in be("/Pattern <<"),ji)ji.hasOwnProperty(z)&&ji[z]instanceof w.TilingPattern&&ji[z].objectNumber>=0&&ji[z].objectNumber<D&&be("/"+z+" "+ji[z].objectNumber+" 0 R");Vi.publish("putTilingPatternDict"),be(">>")}},ZB=function(){if(Object.keys(ro).length>0){var D;for(D in be("/ExtGState <<"),ro)ro.hasOwnProperty(D)&&ro[D].objectNumber>=0&&be("/"+D+" "+ro[D].objectNumber+" 0 R");Vi.publish("putGStateDict"),be(">>")}},mo=function(D){ml(D.resourcesOid,!0),be("<<"),be("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),NN(),KB(),T1(D.objectOid),ZB(),VC(),be(">>"),be("endobj")},PN=function(){var D=[];C1(),qB(),x1(),A1(D),Vi.publish("putResources"),D.forEach(mo),mo({resourcesOid:ku,objectOid:Number.MAX_SAFE_INTEGER}),Vi.publish("postPutResources")},RN=function(){Vi.publish("putAdditionalObjects");for(var D=0;D<ln.length;D++){var z=ln[D];ml(z.objId,!0),be(z.content),be("endobj")}Vi.publish("postPutAdditionalObjects")},kN=function(D){Us[D.fontName]=Us[D.fontName]||{},Us[D.fontName][D.fontStyle]=D.id},zC=function(D,z,ge,De,qe){var Ct={id:"F"+(Object.keys(hs).length+1).toString(10),postScriptName:D,fontName:z,fontStyle:ge,encoding:De,isStandardFont:qe||!1,metadata:{}};return Vi.publish("addFont",{font:Ct,instance:this}),hs[Ct.id]=Ct,kN(Ct),Ct.id},YB=function(D){for(var z=0,ge=rn.length;z<ge;z++){var De=zC.call(this,D[z][0],D[z][1],D[z][2],rn[z][3],!0);!1===_&&(I[De]=!0);var qe=D[z][0].split("-");kN({id:De,fontName:qe[0],fontStyle:qe[1]||""})}Vi.publish("addFonts",{fonts:hs,dictionary:Us})},Fu=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(De){var z=De.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var ge="Error in function "+z.split("\n")[0].split("<")[0]+": "+De.message;if(!pr.console)throw new Error(ge);pr.console.error(ge,De),pr.alert&&alert(ge)}},D.foo.bar=D,D.foo},D1=function(D,z){var ge,De,qe,Ct,en,kn,hr,zr,Qr;if(qe=(z=z||{}).sourceEncoding||"Unicode",en=z.outputEncoding,(z.autoencode||en)&&hs[ii].metadata&&hs[ii].metadata[qe]&&hs[ii].metadata[qe].encoding&&(Ct=hs[ii].metadata[qe].encoding,!en&&hs[ii].encoding&&(en=hs[ii].encoding),!en&&Ct.codePages&&(en=Ct.codePages[0]),"string"==typeof en&&(en=Ct[en]),en)){for(hr=!1,kn=[],ge=0,De=D.length;ge<De;ge++)(zr=en[D.charCodeAt(ge)])?kn.push(String.fromCharCode(zr)):kn.push(D[ge]),kn[ge].charCodeAt(0)>>8&&(hr=!0);D=kn.join("")}for(ge=D.length;void 0===hr&&0!==ge;)D.charCodeAt(ge-1)>>8&&(hr=!0),ge--;if(!hr)return D;for(kn=z.noBOM?[]:[254,255],ge=0,De=D.length;ge<De;ge++){if((Qr=(zr=D.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kn.push(Qr),kn.push(zr-(Qr<<8))}return String.fromCharCode.apply(void 0,kn)},Fc=w.__private__.pdfEscape=w.pdfEscape=function(D,z){return D1(D,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},HC=w.__private__.beginPage=function(D){on[++io]=[],Ur[io]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},LN(io),At(on[fe])},ON=function(D,z){var ge,De,qe;switch(t=z||t,"string"==typeof D&&(ge=L(D.toLowerCase()),Array.isArray(ge)&&(De=ge[0],qe=ge[1])),Array.isArray(D)&&(De=D[0]*Dn,qe=D[1]*Dn),isNaN(De)&&(De=i[0],qe=i[1]),(De>14400||qe>14400)&&(bi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),De=Math.min(14400,De),qe=Math.min(14400,qe)),i=[De,qe],t.substr(0,1)){case"l":qe>De&&(i=[qe,De]);break;case"p":De>qe&&(i=[qe,De])}HC(i),zN(GC),be(Bu),0!==ZC&&be(ZC+" J"),0!==YC&&be(YC+" j"),Vi.publish("addPage",{pageNumber:io})},XB=function(D){D>0&&D<=io&&(on.splice(D,1),Ur.splice(D,1),io--,fe>io&&(fe=io),this.setPage(fe))},LN=function(D){D>0&&D<=io&&(fe=D)},QB=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return on.length-1},FN=function(D,z,ge){var De,qe=void 0;return ge=ge||{},z=void 0!==z?z:hs[ii].fontStyle,De=(D=void 0!==D?D:hs[ii].fontName).toLowerCase(),void 0!==Us[De]&&void 0!==Us[De][z]?qe=Us[De][z]:void 0!==Us[D]&&void 0!==Us[D][z]?qe=Us[D][z]:!1===ge.disableWarning&&bi.warn("Unable to look up font label for font '"+D+"', '"+z+"'. Refer to getFontList() for available fonts."),qe||ge.noFallback||null==(qe=Us.times[z])&&(qe=Us.times.normal),qe},JB=w.__private__.putInfo=function(){var D=zo(),z=function(De){return De};for(var ge in null!==g&&(z=ja.encryptor(D,0)),be("<<"),be("/Producer ("+Fc(z("jsPDF "+gr.version))+")"),Tr)Tr.hasOwnProperty(ge)&&Tr[ge]&&be("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+Fc(z(Tr[ge]))+")");be("/CreationDate ("+Fc(z(ze))+")"),be(">>"),be("endobj")},$C=w.__private__.putCatalog=function(D){var z=(D=D||{}).rootDictionaryObjId||Pf;switch(zo(),be("<<"),be("/Type /Catalog"),be("/Pages "+z+" 0 R"),Tn||(Tn="fullwidth"),Tn){case"fullwidth":be("/OpenAction [3 0 R /FitH null]");break;case"fullheight":be("/OpenAction [3 0 R /FitV null]");break;case"fullpage":be("/OpenAction [3 0 R /Fit]");break;case"original":be("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+Tn;"%"===ge.substr(ge.length-1)&&(Tn=parseInt(Tn)/100),"number"==typeof Tn&&be("/OpenAction [3 0 R /XYZ null null "+nt(Tn)+"]")}switch(ni||(ni="continuous"),ni){case"continuous":be("/PageLayout /OneColumn");break;case"single":be("/PageLayout /SinglePage");break;case"two":case"twoleft":be("/PageLayout /TwoColumnLeft");break;case"tworight":be("/PageLayout /TwoColumnRight")}Br&&be("/PageMode /"+Br),Vi.publish("putCatalog"),be(">>"),be("endobj")},eU=w.__private__.putTrailer=function(){be("trailer"),be("<<"),be("/Size "+(je+1)),be("/Root "+je+" 0 R"),be("/Info "+(je-1)+" 0 R"),null!==g&&be("/Encrypt "+ja.oid+" 0 R"),be("/ID [ <"+Ze+"> <"+Ze+"> ]"),be(">>")},tU=w.__private__.putHeader=function(){be("%PDF-"+x),be("%\xba\xdf\xac\xe0")},nU=w.__private__.putXRef=function(){var D="0000000000";be("xref"),be("0 "+(je+1)),be("0000000000 65535 f ");for(var z=1;z<=je;z++)be("function"==typeof ot[z]?(D+ot[z]()).slice(-10)+" 00000 n ":void 0!==ot[z]?(D+ot[z]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Rf=w.__private__.buildDocument=function(){Ir(),At(ft),Vi.publish("buildDocument"),tU(),Hy(),RN(),PN(),null!==g&&GB(),JB(),$C();var D=gt;return nU(),eU(),be("startxref"),be(""+D),be("%%EOF"),At(on[fe]),ft.join("\n")},M1=w.__private__.getBlob=function(D){return new Blob([tr(D)],{type:"application/pdf"})},N1=w.output=w.__private__.output=Fu(function(D,z){switch("string"==typeof(z=z||{})?z={filename:z}:z.filename=z.filename||"generated.pdf",D){case void 0:return Rf();case"save":w.save(z.filename);break;case"arraybuffer":return tr(Rf());case"blob":return M1(Rf());case"bloburi":case"bloburl":if(void 0!==pr.URL&&"function"==typeof pr.URL.createObjectURL)return pr.URL&&pr.URL.createObjectURL(M1(Rf()))||void 0;bi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",De=Rf();try{ge=cd(De)}catch{ge=cd(unescape(encodeURIComponent(De)))}return"data:application/pdf;filename="+z.filename+";base64,"+ge;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(pr)){var qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(qe=z.pdfObjectUrl,Ct="");var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+qe+'"'+Ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",kn=pr.open();return null!==kn&&kn.document.write(en),kn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(pr)){var hr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',zr=pr.open();if(null!==zr){zr.document.write(hr);var Qr=this;zr.document.documentElement.querySelector("#pdfViewer").onload=function(){zr.document.title=z.filename,zr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Qr.output("bloburl"))}}return zr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(pr))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ii='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',qs=pr.open();if(null!==qs&&(qs.document.write(Ii),qs.document.title=z.filename),qs||typeof safari>"u")return qs;break;case"datauri":case"dataurl":return pr.document.location.href=this.output("datauristring",z);default:return null}}),BN=function(D){return!0===Array.isArray(zy)&&zy.indexOf(D)>-1};switch(r){case"pt":Dn=1;break;case"mm":Dn=72/25.4;break;case"cm":Dn=72/2.54;break;case"in":Dn=72;break;case"px":Dn=1==BN("px_scaling")?.75:96/72;break;case"pc":case"em":Dn=12;break;case"ex":Dn=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);Dn=r}var ja=null;bn(),Xe();var rU=function(D){return null!==g?ja.encryptor(D,0):function(z){return z}},UN=w.__private__.getPageInfo=w.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ur[D].objId,pageNumber:D,pageContext:Ur[D]}},Lr=w.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in Ur)if(Ur[z].objId===D)break;return UN(z)},iU=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:Ur[fe].objId,pageNumber:fe,pageContext:Ur[fe]}};w.addPage=function(){return ON.apply(this,arguments),this},w.setPage=function(){return LN.apply(this,arguments),At.call(this,on[fe]),this},w.insertPage=function(D){return this.addPage(),this.movePage(fe,D),this},w.movePage=function(D,z){var ge,De;if(D>z){ge=on[D],De=Ur[D];for(var qe=D;qe>z;qe--)on[qe]=on[qe-1],Ur[qe]=Ur[qe-1];on[z]=ge,Ur[z]=De,this.setPage(z)}else if(D<z){ge=on[D],De=Ur[D];for(var Ct=D;Ct<z;Ct++)on[Ct]=on[Ct+1],Ur[Ct]=Ur[Ct+1];on[z]=ge,Ur[z]=De,this.setPage(z)}return this},w.deletePage=function(){return XB.apply(this,arguments),this},w.__private__.text=w.text=function(D,z,ge,De,qe){var Ct,en,kn,hr,zr,Qr,Ii,qs,so,Eo=(De=De||{}).scope||this;if("number"==typeof D&&"number"==typeof z&&("string"==typeof ge||Array.isArray(ge))){var Va=ge;ge=z,z=D,D=Va}if(arguments[3]instanceof wr?(le("The transform parameter of text() with a Matrix value"),so=qe):(kn=arguments[4],hr=arguments[5],"object"===Fi(Ii=arguments[3])&&null!==Ii||("string"==typeof kn&&(hr=kn,kn=null),"string"==typeof Ii&&(hr=Ii,Ii=null),"number"==typeof Ii&&(kn=Ii,Ii=null),De={flags:Ii,angle:kn,align:hr})),isNaN(z)||isNaN(ge)||null==D)throw new Error("Invalid arguments passed to jsPDF.text");if(0===D.length)return Eo;var na="",Uu=!1,_l="number"==typeof De.lineHeightFactor?De.lineHeightFactor:Wy,Of=Eo.internal.scaleFactor;function KN(ms){return ms=ms.split("\t").join(Array(De.TabLen||9).join(" ")),Fc(ms,Ii)}function tS(ms){for(var _s,_o=ms.concat(),Ho=[],Uf=_o.length;Uf--;)"string"==typeof(_s=_o.shift())?Ho.push(_s):Array.isArray(ms)&&(1===_s.length||void 0===_s[1]&&void 0===_s[2])?Ho.push(_s[0]):Ho.push([_s[0],_s[1],_s[2]]);return Ho}function nS(ms,_s){var _o;if("string"==typeof ms)_o=_s(ms)[0];else if(Array.isArray(ms)){for(var Ho,Uf,cm=ms.concat(),W1=[],YN=cm.length;YN--;)"string"==typeof(Ho=cm.shift())?W1.push(_s(Ho)[0]):Array.isArray(Ho)&&"string"==typeof Ho[0]&&(Uf=_s(Ho[0],Ho[1],Ho[2]),W1.push([Uf[0],Uf[1],Uf[2]]));_o=W1}return _o}var F1=!1,rS=!0;if("string"==typeof D)F1=!0;else if(Array.isArray(D)){var iS=D.concat();en=[];for(var B1,Bc=iS.length;Bc--;)("string"!=typeof(B1=iS.shift())||Array.isArray(B1)&&"string"!=typeof B1[0])&&(rS=!1);F1=rS}if(!1===F1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');"string"==typeof D&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var U1=_n/Eo.internal.scaleFactor,j1=U1*(_l-1);switch(De.baseline){case"bottom":ge-=j1;break;case"top":ge+=U1-j1;break;case"hanging":ge+=U1-2*j1;break;case"middle":ge+=U1/2-j1}if((Qr=De.maxWidth||0)>0&&("string"==typeof D?D=Eo.splitTextToSize(D,Qr):"[object Array]"===Object.prototype.toString.call(D)&&(D=D.reduce(function(ms,_s){return ms.concat(Eo.splitTextToSize(_s,Qr))},[]))),Vi.publish("preProcessText",Ct={text:D,x:z,y:ge,options:De,mutex:{pdfEscape:Fc,activeFontKey:ii,fonts:hs,activeFontSize:_n}}),D=Ct.text,kn=(De=Ct.options).angle,so instanceof wr||!kn||"number"!=typeof kn)kn&&kn instanceof wr&&(so=kn);else{kn*=Math.PI/180,0===De.rotationDirection&&(kn=-kn),Y===U.ADVANCED&&(kn=-kn);var V1=Math.cos(kn),sS=Math.sin(kn);so=new wr(V1,sS,-sS,V1,0,0)}Y!==U.ADVANCED||so||(so=Zd),void 0!==(zr=De.charSpace||k1)&&(na+=pe(ie(zr))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(qs=De.horizontalScale)&&(na+=pe(100*qs)+" Tz\n");var Uc=-1,pU=void 0!==De.renderingMode?De.renderingMode:De.stroke,oS=Eo.internal.getCurrentPageInfo().pageContext;switch(pU){case 0:case!1:case"fill":Uc=0;break;case 1:case!0:case"stroke":Uc=1;break;case 2:case"fillThenStroke":Uc=2;break;case 3:case"invisible":Uc=3;break;case 4:case"fillAndAddForClipping":Uc=4;break;case 5:case"strokeAndAddPathForClipping":Uc=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Uc=6;break;case 7:case"addToPathForClipping":Uc=7}var ZN=void 0!==oS.usedRenderingMode?oS.usedRenderingMode:-1;-1!==Uc?na+=Uc+" Tr\n":-1!==ZN&&(na+="0 Tr\n"),-1!==Uc&&(oS.usedRenderingMode=Uc),hr=De.align||"left";var ju,aS=_n*_l,gU=Eo.internal.pageSize.getWidth(),mU=hs[ii];zr=De.charSpace||k1,Qr=De.maxWidth||0,Ii=Object.assign({autoencode:!0,noBOM:!0},De.flags);var im=[];if("[object Array]"===Object.prototype.toString.call(D)){var Kl;en=tS(D),"left"!==hr&&(ju=en.map(function(ms){return Eo.getStringUnitWidth(ms,{font:mU,charSpace:zr,fontSize:_n,doKerning:!1})*_n/Of}));var Vu,sm=0;if("right"===hr){z-=ju[0],D=[],Bc=en.length;for(var Jd=0;Jd<Bc;Jd++)0===Jd?(Vu=kf(z),Kl=tm(ge)):(Vu=ie(sm-ju[Jd]),Kl=-aS),D.push([en[Jd],Vu,Kl]),sm=ju[Jd]}else if("center"===hr){z-=ju[0]/2,D=[],Bc=en.length;for(var Lf=0;Lf<Bc;Lf++)0===Lf?(Vu=kf(z),Kl=tm(ge)):(Vu=ie((sm-ju[Lf])/2),Kl=-aS),D.push([en[Lf],Vu,Kl]),sm=ju[Lf]}else if("left"===hr){D=[],Bc=en.length;for(var z1=0;z1<Bc;z1++)D.push(en[z1])}else{if("justify"!==hr)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');D=[],Bc=en.length,Qr=0!==Qr?Qr:gU;for(var zu=0;zu<Bc;zu++)Kl=0===zu?tm(ge):-aS,Vu=0===zu?kf(z):0,im.push(zu<Bc-1?pe(ie((Qr-ju[zu])/(en[zu].split(" ").length-1))):0),D.push([en[zu],Vu,Kl])}}var H1="boolean"==typeof De.R2L?De.R2L:lr;!0===H1&&(D=nS(D,function(ms,_s,_o){return[ms.split("").reverse().join(""),_s,_o]})),Vi.publish("postProcessText",Ct={text:D,x:z,y:ge,options:De,mutex:{pdfEscape:Fc,activeFontKey:ii,fonts:hs,activeFontSize:_n}}),D=Ct.text,Uu=Ct.mutex.isHex||!1;var cS=hs[ii].encoding;"WinAnsiEncoding"!==cS&&"StandardEncoding"!==cS||(D=nS(D,function(ms,_s,_o){return[KN(ms),_s,_o]})),en=tS(D),D=[];for(var om,Hu,Ff,Ky=0,$1=1,Zy=Array.isArray(en[0])?$1:Ky,am="",lS=function(ms,_s,_o){var Ho="";return _o instanceof wr?(_o="number"==typeof De.angle?Ru(_o,new wr(1,0,0,1,ms,_s)):Ru(new wr(1,0,0,1,ms,_s),_o),Y===U.ADVANCED&&(_o=Ru(new wr(1,0,0,-1,0,0),_o)),Ho=_o.join(" ")+" Tm\n"):Ho=pe(ms)+" "+pe(_s)+" Td\n",Ho},Zl=0;Zl<en.length;Zl++){switch(am="",Zy){case $1:Ff=(Uu?"<":"(")+en[Zl][0]+(Uu?">":")"),om=parseFloat(en[Zl][1]),Hu=parseFloat(en[Zl][2]);break;case Ky:Ff=(Uu?"<":"(")+en[Zl]+(Uu?">":")"),om=kf(z),Hu=tm(ge)}void 0!==im&&void 0!==im[Zl]&&(am=im[Zl]+" Tw\n"),0===Zl?D.push(am+lS(om,Hu,so)+Ff):Zy===Ky?D.push(am+Ff):Zy===$1&&D.push(am+lS(om,Hu,so)+Ff)}D=D.join(Zy===Ky?" Tj\nT* ":" Tj\n"),D+=" Tj\n";var Bf="BT\n/";return Bf+=ii+" "+_n+" Tf\n",Bf+=pe(_n*_l)+" TL\n",Bf+=qy+"\n",Bf+=na,Bf+=D,be(Bf+="ET"),I[ii]=!0,Eo};var sU=w.__private__.clip=w.clip=function(D){return be("evenodd"===D?"W*":"W"),this};w.clipEvenOdd=function(){return sU("evenodd")},w.__private__.discardPath=w.discardPath=function(){return be("n"),this};var Qd=w.__private__.isValidStyle=function(D){var z=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)&&(z=!0),z};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(D){return Qd(D)&&(h=D),this};var jN=w.__private__.getStyle=w.getStyle=function(D){var z=h;switch(D){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=D}return z},VN=w.close=function(){return be("h"),this};w.stroke=function(){return be("S"),this},w.fill=function(D){return P1("f",D),this},w.fillEvenOdd=function(D){return P1("f*",D),this},w.fillStroke=function(D){return P1("B",D),this},w.fillStrokeEvenOdd=function(D){return P1("B*",D),this};var P1=function(D,z){"object"===Fi(z)?aU(z,D):be(D)},WC=function(D){null===D||Y===U.ADVANCED&&void 0===D||(D=jN(D),be(D))};function oU(D,z,ge,De,qe){var Ct=new ud(z||this.boundingBox,ge||this.xStep,De||this.yStep,this.gState,qe||this.matrix);Ct.stream=this.stream;var en=D+"$$"+this.cloneIndex+++"$$";return Lc(en,Ct),Ct}var aU=function(D,z){var ge=Vy[D.key],De=ji[ge];if(De instanceof gu)be("q"),be(cU(z)),De.gState&&w.setGState(De.gState),be(D.matrix.toString()+" cm"),be("/"+ge+" sh"),be("Q");else if(De instanceof ud){var qe=new wr(1,0,0,-1,0,rm());D.matrix&&(qe=qe.multiply(D.matrix||Zd),ge=oU.call(De,D.key,D.boundingBox,D.xStep,D.yStep,qe).id),be("q"),be("/Pattern cs"),be("/"+ge+" scn"),De.gState&&w.setGState(De.gState),be(z),be("Q")}},cU=function(D){switch(D){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},qC=w.moveTo=function(D,z){return be(pe(ie(D))+" "+pe(Ee(z))+" m"),this},$y=w.lineTo=function(D,z){return be(pe(ie(D))+" "+pe(Ee(z))+" l"),this},em=w.curveTo=function(D,z,ge,De,qe,Ct){return be([pe(ie(D)),pe(Ee(z)),pe(ie(ge)),pe(Ee(De)),pe(ie(qe)),pe(Ee(Ct)),"c"].join(" ")),this};w.__private__.line=w.line=function(D,z,ge,De,qe){if(isNaN(D)||isNaN(z)||isNaN(ge)||isNaN(De)||!Qd(qe))throw new Error("Invalid arguments passed to jsPDF.line");return Y===U.COMPAT?this.lines([[ge-D,De-z]],D,z,[1,1],qe||"S"):this.lines([[ge-D,De-z]],D,z,[1,1]).stroke()},w.__private__.lines=w.lines=function(D,z,ge,De,qe,Ct){var en,kn,hr,zr,Qr,Va,na,Uu;if("number"==typeof D&&(Uu=ge,ge=z,z=D,D=Uu),De=De||[1,1],Ct=Ct||!1,isNaN(z)||isNaN(ge)||!Array.isArray(D)||!Array.isArray(De)||!Qd(qe)||"boolean"!=typeof Ct)throw new Error("Invalid arguments passed to jsPDF.lines");for(qC(z,ge),en=De[0],kn=De[1],zr=D.length,Va=z,na=ge,hr=0;hr<zr;hr++)2===(Qr=D[hr]).length?$y(Va=Qr[0]*en+Va,na=Qr[1]*kn+na):em(Qr[0]*en+Va,Qr[1]*kn+na,Qr[2]*en+Va,Qr[3]*kn+na,Va=Qr[4]*en+Va,na=Qr[5]*kn+na);return Ct&&VN(),WC(qe),this},w.path=function(D){for(var z=0;z<D.length;z++){var ge=D[z],De=ge.c;switch(ge.op){case"m":qC(De[0],De[1]);break;case"l":$y(De[0],De[1]);break;case"c":em.apply(this,De);break;case"h":VN()}}return this},w.__private__.rect=w.rect=function(D,z,ge,De,qe){if(isNaN(D)||isNaN(z)||isNaN(ge)||isNaN(De)||!Qd(qe))throw new Error("Invalid arguments passed to jsPDF.rect");return Y===U.COMPAT&&(De=-De),be([pe(ie(D)),pe(Ee(z)),pe(ie(ge)),pe(ie(De)),"re"].join(" ")),WC(qe),this},w.__private__.triangle=w.triangle=function(D,z,ge,De,qe,Ct,en){if(isNaN(D)||isNaN(z)||isNaN(ge)||isNaN(De)||isNaN(qe)||isNaN(Ct)||!Qd(en))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-D,De-z],[qe-ge,Ct-De],[D-qe,z-Ct]],D,z,[1,1],en,!0),this},w.__private__.roundedRect=w.roundedRect=function(D,z,ge,De,qe,Ct,en){if(isNaN(D)||isNaN(z)||isNaN(ge)||isNaN(De)||isNaN(qe)||isNaN(Ct)||!Qd(en))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kn=4/3*(Math.SQRT2-1);return qe=Math.min(qe,.5*ge),Ct=Math.min(Ct,.5*De),this.lines([[ge-2*qe,0],[qe*kn,0,qe,Ct-Ct*kn,qe,Ct],[0,De-2*Ct],[0,Ct*kn,-qe*kn,Ct,-qe,Ct],[2*qe-ge,0],[-qe*kn,0,-qe,-Ct*kn,-qe,-Ct],[0,2*Ct-De],[0,-Ct*kn,qe*kn,-Ct,qe,-Ct]],D+qe,z,[1,1],en,!0),this},w.__private__.ellipse=w.ellipse=function(D,z,ge,De,qe){if(isNaN(D)||isNaN(z)||isNaN(ge)||isNaN(De)||!Qd(qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ct=4/3*(Math.SQRT2-1)*ge,en=4/3*(Math.SQRT2-1)*De;return qC(D+ge,z),em(D+ge,z-en,D+Ct,z-De,D,z-De),em(D-Ct,z-De,D-ge,z-en,D-ge,z),em(D-ge,z+en,D-Ct,z+De,D,z+De),em(D+Ct,z+De,D+ge,z+en,D+ge,z),WC(qe),this},w.__private__.circle=w.circle=function(D,z,ge,De){if(isNaN(D)||isNaN(z)||isNaN(ge)||!Qd(De))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,z,ge,ge,De)},w.setFont=function(D,z,ge){return ge&&(z=ye(z,ge)),ii=FN(D,z,{disableWarning:!1}),this};var lU=w.__private__.getFont=w.getFont=function(){return hs[FN.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var D,z,ge={};for(D in Us)if(Us.hasOwnProperty(D))for(z in ge[D]=[],Us[D])Us[D].hasOwnProperty(z)&&ge[D].push(z);return ge},w.addFont=function(D,z,ge,De,qe){var Ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Ct.indexOf(arguments[3])?qe=arguments[3]:arguments[3]&&-1==Ct.indexOf(arguments[3])&&(ge=ye(ge,De)),zC.call(this,D,z,ge,qe=qe||"Identity-H")};var Wy,GC=n.lineWidth||.200025,R1=w.__private__.getLineWidth=w.getLineWidth=function(){return GC},zN=w.__private__.setLineWidth=w.setLineWidth=function(D){return GC=D,be(pe(ie(D))+" w"),this};w.__private__.setLineDash=gr.API.setLineDash=gr.API.setLineDashPattern=function(D,z){if(D=D||[],z=z||0,isNaN(z)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(ge){return pe(ie(ge))}).join(" "),z=pe(ie(z)),be("["+D+"] "+z+" d"),this};var HN=w.__private__.getLineHeight=w.getLineHeight=function(){return _n*Wy};w.__private__.getLineHeight=w.getLineHeight=function(){return _n*Wy};var $N=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(D){return"number"==typeof(D=D||1.15)&&(Wy=D),this},WN=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return Wy};$N(n.lineHeight);var kf=w.__private__.getHorizontalCoordinate=function(D){return ie(D)},tm=w.__private__.getVerticalCoordinate=function(D){return Y===U.ADVANCED?D:Ur[fe].mediaBox.topRightY-Ur[fe].mediaBox.bottomLeftY-ie(D)},uU=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(D){return pe(kf(D))},nm=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(D){return pe(tm(D))},Bu=n.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Ou(Bu)},w.__private__.setStrokeColor=w.setDrawColor=function(D,z,ge,De){return Bu=Lu({ch1:D,ch2:z,ch3:ge,ch4:De,pdfColorType:"draw",precision:2}),be(Bu),this};var KC=n.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Ou(KC)},w.__private__.setFillColor=w.setFillColor=function(D,z,ge,De){return KC=Lu({ch1:D,ch2:z,ch3:ge,ch4:De,pdfColorType:"fill",precision:2}),be(KC),this};var qy=n.textColor||"0 g",dU=w.__private__.getTextColor=w.getTextColor=function(){return Ou(qy)};w.__private__.setTextColor=w.setTextColor=function(D,z,ge,De){return qy=Lu({ch1:D,ch2:z,ch3:ge,ch4:De,pdfColorType:"text",precision:3}),this};var k1=n.charSpace,hU=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(k1||0)};w.__private__.setCharSpace=w.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return k1=D,this};var ZC=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(D){var z=w.CapJoinStyles[D];if(void 0===z)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ZC=z,be(z+" J"),this};var YC=0;w.__private__.setLineJoin=w.setLineJoin=function(D){var z=w.CapJoinStyles[D];if(void 0===z)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return YC=z,be(z+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return be(pe(ie(D))+" M"),this},w.GState=qp,w.setGState=function(D){(D="string"==typeof D?ro[Pu[D]]:qN(null,D)).equals(Nf)||(be("/"+D.id+" gs"),Nf=D)};var qN=function(D,z){if(!D||!Pu[D]){var ge=!1;for(var De in ro)if(ro.hasOwnProperty(De)&&ro[De].equals(z)){ge=!0;break}if(ge)z=ro[De];else{var qe="GS"+(Object.keys(ro).length+1).toString(10);ro[qe]=z,z.id=qe}return D&&(Pu[D]=z.id),Vi.publish("addGState",z),z}};w.addGState=function(D,z){return qN(D,z),this},w.saveGraphicsState=function(){return be("q"),qd.push({key:ii,size:_n,color:qy}),this},w.restoreGraphicsState=function(){be("Q");var D=qd.pop();return ii=D.key,_n=D.size,qy=D.color,Nf=null,this},w.setCurrentTransformationMatrix=function(D){return be(D.toString()+" cm"),this},w.comment=function(D){return be("#"+D),this};var O1=function(D,z){var ge=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(Ct){isNaN(Ct)||(ge=parseFloat(Ct))}});var De=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(Ct){isNaN(Ct)||(De=parseFloat(Ct))}});var qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return qe},set:function(Ct){qe=Ct.toString()}}),this},XC=function(D,z,ge,De){O1.call(this,D,z),this.type="rect";var qe=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return qe},set:function(en){isNaN(en)||(qe=parseFloat(en))}});var Ct=De||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ct},set:function(en){isNaN(en)||(Ct=parseFloat(en))}}),this},QC=function(){this.page=io,this.currentPage=fe,this.pages=on.slice(0),this.pagesContext=Ur.slice(0),this.x=Ua,this.y=Ni,this.matrix=Nu,this.width=Gy(fe),this.height=rm(fe),this.outputDestination=Un,this.id="",this.objectNumber=-1};QC.prototype.restore=function(){io=this.page,Ur=this.pagesContext,on=this.pages,Ua=this.x,Ni=this.y,Nu=this.matrix,JC(fe=this.currentPage,this.width),eS(fe,this.height),Un=this.outputDestination};var GN=function(D,z,ge,De,qe){Kd.push(new QC),io=fe=0,on=[],Ua=D,Ni=z,Nu=qe,HC([ge,De])},fU=function(D){if(Gd[D])Kd.pop().restore();else{var z=new QC,ge="Xo"+(Object.keys(Ca).length+1).toString(10);z.id=ge,Gd[D]=ge,Ca[ge]=z,Vi.publish("addFormObject",z),Kd.pop().restore()}};for(var L1 in w.beginFormObject=function(D,z,ge,De,qe){return GN(D,z,ge,De,qe),this},w.endFormObject=function(D){return fU(D),this},w.doFormObject=function(D,z){var ge=Ca[Gd[D]];return be("q"),be(z.toString()+" cm"),be("/"+ge.id+" Do"),be("Q"),this},w.getFormObject=function(D){var z=Ca[Gd[D]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},w.save=function(D,z){return D=D||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,!1===z.returnPromise?(wc(M1(Rf()),D),"function"==typeof wc.unload&&pr.setTimeout&&setTimeout(wc.unload,911),this):new Promise(function(ge,De){try{var qe=wc(M1(Rf()),D);"function"==typeof wc.unload&&pr.setTimeout&&setTimeout(wc.unload,911),ge(qe)}catch(Ct){De(Ct.message)}})},gr.API)gr.API.hasOwnProperty(L1)&&("events"===L1&&gr.API.events.length?function(D,z){var De,qe;for(qe=z.length-1;-1!==qe;qe--)D.subscribe.apply(D,[z[qe][0]].concat("function"==typeof(De=z[qe][1])?[De]:De))}(Vi,gr.API.events):w[L1]=gr.API[L1]);var Gy=w.getPageWidth=function(D){return(Ur[D=D||fe].mediaBox.topRightX-Ur[D].mediaBox.bottomLeftX)/Dn},JC=w.setPageWidth=function(D,z){Ur[D].mediaBox.topRightX=z*Dn+Ur[D].mediaBox.bottomLeftX},rm=w.getPageHeight=function(D){return(Ur[D=D||fe].mediaBox.topRightY-Ur[D].mediaBox.bottomLeftY)/Dn},eS=w.setPageHeight=function(D,z){Ur[D].mediaBox.topRightY=z*Dn+Ur[D].mediaBox.bottomLeftY};return w.internal={pdfEscape:Fc,getStyle:jN,getFont:lU,getFontSize:Sn,getCharSpace:hU,getTextColor:dU,getLineHeight:HN,getLineHeightFactor:WN,getLineWidth:R1,write:Vr,getHorizontalCoordinate:kf,getVerticalCoordinate:tm,getCoordinateString:uU,getVerticalCoordinateString:nm,collections:{},newObject:zo,newAdditionalObject:E1,newObjectDeferred:wo,newObjectDeferredBegin:ml,getFilters:Yd,putStream:Gl,events:Vi,scaleFactor:Dn,pageSize:{getWidth:function(){return Gy(fe)},setWidth:function(D){JC(fe,D)},getHeight:function(){return rm(fe)},setHeight:function(D){eS(fe,D)}},encryptionOptions:g,encryption:ja,getEncryptor:rU,output:N1,getNumberOfPages:QB,pages:on,out:be,f2:nt,f3:se,getPageInfo:UN,getPageInfoByObjId:Lr,getCurrentPageInfo:iU,getPDFVersion:R,Point:O1,Rectangle:XC,Matrix:wr,hasHotfix:BN},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Gy(fe)},set:function(D){JC(fe,D)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return rm(fe)},set:function(D){eS(fe,D)},enumerable:!0,configurable:!0}),YB.call(w,rn),ii="F1",ON(i,t),Vi.publish("initialized"),w}Wp.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Wp.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wp.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Wp.prototype.processOwnerPassword=function(n,e){return y_(dv(e).substr(0,5),n)},Wp.prototype.encryptor=function(n,e){var t=dv(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return y_(t,r)}},qp.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Fi(n)!==Fi(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return 0===r},gr.API={events:[]},gr.version="2.5.1";var Ds=gr.API,b_=1,dd=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xr=function(n){return n.toFixed(2)},mu=function(n){return n.toFixed(5)};Ds.__acroform__={};var Ma=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},hE=function(n){return n*b_},tl=function(n){var e=new mA,t=$n.internal.getHeight(n)||0,r=$n.internal.getWidth(n)||0;return e.BBox=[0,0,Number(xr(r)),Number(xr(t))],e},lA=Ds.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},uA=Ds.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},nk=Ds.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(n&1<<e)?0:1},Ms=Ds.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nk(n,e-1)},Ns=Ds.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return lA(n,e-1)},Ps=Ds.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return uA(n,e-1)},fE=Ds.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],c=n[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=r(s+c)||0,u.upperRight_X=t(i+o)||0,u.upperRight_Y=r(s)||0,[Number(xr(u.lowerLeft_X)),Number(xr(u.lowerLeft_Y)),Number(xr(u.upperRight_X)),Number(xr(u.upperRight_Y))]},dA=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],r=fv(n,n._V||n.DV),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+xr(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=tl(n);return s.scope=n.scope,s.stream=e.join("\n"),s}},fv=function(n,e){var t=0===n.fontSize?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=i.map(n.multiline?function(se){return se.split("\n")}:function(se){return[se]});var s=t,o=$n.internal.getHeight(n)||0;o=o<0?-o:o;var se,c=$n.internal.getWidth(n)||0;c=c<0?-c:c,s++;e:for(;s>0;){e="",s--;var h,g,_=w_("3",n,s).height,I=n.multiline?o-s:(o-_)/2,w=I+=2,x=0,R=0,O=0;if(s<=0){e="(...) Tj\n",e+="% Width of Text: "+w_(e,n,s=12).width+", FieldWidth:"+c+"\n";break}for(var L="",U=0,Y=0;Y<i.length;Y++)if(i.hasOwnProperty(Y)){var te=!1;if(1!==i[Y].length&&O!==i[Y].length-1){if((_+2)*(U+2)+2>o)continue e;L+=i[Y][O],te=!0,R=Y,Y--}else{L=" "==(L+=i[Y][O]+" ").substr(L.length-1)?L.substr(0,L.length-1):L;var ce=parseInt(Y),ye=(se=ce)+1<i.length&&w_(L+" "+i[se+1][0],n,s).width<=c-4,pe=Y>=i.length-1;if(ye&&!pe){L+=" ",O=0;continue}if(ye||pe){if(pe)R=ce;else if(n.multiline&&(_+2)*(U+2)+2>o)continue e}else{if(!n.multiline||(_+2)*(U+2)+2>o)continue e;R=ce}}for(var le="",Be=x;Be<=R;Be++){var nt=i[Be];if(n.multiline){if(Be===R){le+=nt[O]+" ",O=(O+1)%nt.length;continue}if(Be===x){le+=nt[nt.length-1]+" ";continue}}le+=nt[0]+" "}switch(le=" "==le.substr(le.length-1)?le.substr(0,le.length-1):le,g=w_(le,n,s).width,n.textAlign){case"right":h=c-g-2;break;case"center":h=(c-g)/2;break;default:h=2}e+=xr(h)+" "+xr(w)+" Td\n",e+="("+dd(le)+") Tj\n",e+=-xr(h)+" 0 Td\n",w=-(s+2),g=0,x=te?R:R+1,U++,L=""}break}return r.text=e,r.fontSize=s,r},w_=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},hA={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},fA=function(n,e){var t={type:"reference",object:n};void 0===e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},pE=Ds.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(0!==s&&(i+=" "),Fi(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":"/"!==n[s].substr(0,1)?(void 0!==e&&t&&(r=t.internal.getEncryptor(e)),i+="("+dd(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Gp=function(n,e,t){var r=function(i){return i};return void 0!==e&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+dd(r(n))+")"},Oo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Oo.prototype.toString=function(){return this.objId+" 0 R"},Oo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Oo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return"content"!=s&&"appearanceStreamContent"!=s&&"scope"!=s&&"objId"!=s&&"_"!=s.substring(0,1)});for(var t in e)if(!1===Object.getOwnPropertyDescriptor(this,e[t]).configurable){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:pE(i,this.objId,this.scope)}):i instanceof Oo?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&n.push({key:r,value:i}))}return n};var mA=function(){Oo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ma(mA,Oo);var _A=function(){Oo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+dd(t(n))+")"}},set:function(t){n=t}})};Ma(_A,Oo);var Ga=function n(){Oo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');e=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(e,3))},set:function(L){this.F=!0===Boolean(L)?Ns(e,3):Ps(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');t=L}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(L){r=void 0!==L?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(L){r[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(L){r[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(L){r[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(L){r[3]=L}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof pv)return;s="FieldObject"+n.FieldNum++}var L=function(U){return U};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+dd(L(s))+")"},set:function(L){s=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(L){s=L}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(L){o=L}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(L){c=L}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(L){u=L}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===h?50/b_:h},set:function(L){h=L}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(L){g=L}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof pv||this instanceof Hh))return Gp(_,this.objId,this.scope)},set:function(L){L=L.toString(),_=L}});var I=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(I)return this instanceof Lo?I:Gp(I,this.objId,this.scope)},set:function(L){L=L.toString(),I=this instanceof Lo?L:"("===L.substr(0,1)?zh(L.substr(1,L.length-2)):zh(L)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lo?zh(I.substr(1,I.length-1)):I},set:function(L){L=L.toString(),I=this instanceof Lo?"/"+L:L}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Lo?w:Gp(w,this.objId,this.scope)},set:function(L){L=L.toString(),w=this instanceof Lo?L:"("===L.substr(0,1)?zh(L.substr(1,L.length-2)):zh(L)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lo?zh(w.substr(1,w.length-1)):w},set:function(L){L=L.toString(),w=this instanceof Lo?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,R=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return R},set:function(L){L=Boolean(L),R=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(L){x=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,1))},set:function(L){this.Ff=!0===Boolean(L)?Ns(this.Ff,1):Ps(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,2))},set:function(L){this.Ff=!0===Boolean(L)?Ns(this.Ff,2):Ps(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,3))},set:function(L){this.Ff=!0===Boolean(L)?Ns(this.Ff,3):Ps(this.Ff,3)}});var O=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==O)return O},set:function(L){if(-1===[0,1,2].indexOf(L))throw new Error('Invalid value "'+L+'" for attribute Q supplied.');O=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(O){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:O=2;break;case"center":case 1:O=1;break;default:O=0}}})};Ma(Ga,Oo);var Ec=function(){Ga.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pE(e,this.objId,this.scope)},set:function(t){var r,i;i=[],"string"==typeof(r=t)&&(i=function(s,o,c){c||(c=1);for(var u,h=[];u=o.exec(s);)h.push(u[c]);return h}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,18))},set:function(t){this.Ff=!0===Boolean(t)?Ns(this.Ff,18):Ps(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,19))},set:function(t){!0===this.combo&&(this.Ff=!0===Boolean(t)?Ns(this.Ff,19):Ps(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=Ns(this.Ff,20),e.sort()):this.Ff=Ps(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,22))},set:function(t){this.Ff=!0===Boolean(t)?Ns(this.Ff,22):Ps(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?Ns(this.Ff,23):Ps(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,27))},set:function(t){this.Ff=!0===Boolean(t)?Ns(this.Ff,27):Ps(this.Ff,27)}}),this.hasAppearanceStream=!1};Ma(Ec,Ga);var hd=function(){Ec.call(this),this.fontName="helvetica",this.combo=!1};Ma(hd,Ec);var Kp=function(){hd.call(this),this.combo=!0};Ma(Kp,hd);var Zp=function(){Kp.call(this),this.edit=!0};Ma(Zp,Kp);var Lo=function(){Ga.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,15))},set:function(t){this.Ff=!0===Boolean(t)?Ns(this.Ff,15):Ps(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,16))},set:function(t){this.Ff=!0===Boolean(t)?Ns(this.Ff,16):Ps(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,17))},set:function(t){this.Ff=!0===Boolean(t)?Ns(this.Ff,17):Ps(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?Ns(this.Ff,26):Ps(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+dd(t(e[r]))+")");return i.push(">>"),i.join("\n")}},set:function(t){"object"===Fi(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ma(Lo,Ga);var gE=function(){Lo.call(this),this.pushButton=!0};Ma(gE,Lo);var Yp=function(){Lo.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=void 0!==e?e:[]}})};Ma(Yp,Lo);var pv=function(){var n,e;Ga.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+dd(i(r[s]))+")");return o.push(">>"),o.join("\n")},set:function(i){"object"===Fi(i)&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){"string"==typeof i&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$n.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ma(pv,Ga),Yp.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Yp.prototype.createOption=function(n){var e=new pv;return e.Parent=this,e.optionName=n,this.Kids.push(e),rk.call(this.scope,e),e};var E_=function(){Lo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$n.CheckBox.createAppearanceStream()};Ma(E_,Lo);var Hh=function(){Ga.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,13))},set:function(e){this.Ff=!0===Boolean(e)?Ns(this.Ff,13):Ps(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,21))},set:function(e){this.Ff=!0===Boolean(e)?Ns(this.Ff,21):Ps(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,23))},set:function(e){this.Ff=!0===Boolean(e)?Ns(this.Ff,23):Ps(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,24))},set:function(e){this.Ff=!0===Boolean(e)?Ns(this.Ff,24):Ps(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,25))},set:function(e){this.Ff=!0===Boolean(e)?Ns(this.Ff,25):Ps(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,26))},set:function(e){this.Ff=!0===Boolean(e)?Ns(this.Ff,26):Ps(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ma(Hh,Ga);var Rs=function(){Hh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ms(this.Ff,14))},set:function(n){this.Ff=!0===Boolean(n)?Ns(this.Ff,14):Ps(this.Ff,14)}}),this.password=!0};Ma(Rs,Hh);var $n={CheckBox:{createAppearanceStream:function(){return{N:{On:$n.CheckBox.YesNormal},D:{On:$n.CheckBox.YesPushDown,Off:$n.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=tl(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=fv(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+xr($n.internal.getWidth(n))+" "+xr($n.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+xr(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join("\n"),e},YesNormal:function(n){var e=tl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=$n.internal.getHeight(n),o=$n.internal.getWidth(n),c=fv(n,n.caption);return i.push("1 g"),i.push("0 0 "+xr(o)+" "+xr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+xr(o-1)+" "+xr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+xr(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(n){var e=tl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+xr($n.internal.getWidth(n))+" "+xr($n.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:$n.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=$n.RadioButton.Circle.YesNormal,e.D[n]=$n.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=tl(n);e.scope=n.scope;var t=[],r=$n.internal.getWidth(n)<=$n.internal.getHeight(n)?$n.internal.getWidth(n)/4:$n.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((r*$n.internal.Bezier_C).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+mu($n.internal.getWidth(n)/2)+" "+mu($n.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=tl(n);e.scope=n.scope;var t=[],r=$n.internal.getWidth(n)<=$n.internal.getHeight(n)?$n.internal.getWidth(n)/4:$n.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*$n.internal.Bezier_C).toFixed(5)),o=Number((r*$n.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+mu($n.internal.getWidth(n)/2)+" "+mu($n.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+mu($n.internal.getWidth(n)/2)+" "+mu($n.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},OffPushDown:function(n){var e=tl(n);e.scope=n.scope;var t=[],r=$n.internal.getWidth(n)<=$n.internal.getHeight(n)?$n.internal.getWidth(n)/4:$n.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*$n.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+mu($n.internal.getWidth(n)/2)+" "+mu($n.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:$n.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=$n.RadioButton.Cross.YesNormal,e.D[n]=$n.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=tl(n);e.scope=n.scope;var t=[],r=$n.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+xr($n.internal.getWidth(n)-2)+" "+xr($n.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(xr(r.x1.x)+" "+xr(r.x1.y)+" m"),t.push(xr(r.x2.x)+" "+xr(r.x2.y)+" l"),t.push(xr(r.x4.x)+" "+xr(r.x4.y)+" m"),t.push(xr(r.x3.x)+" "+xr(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(n){var e=tl(n);e.scope=n.scope;var t=$n.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+xr($n.internal.getWidth(n))+" "+xr($n.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+xr($n.internal.getWidth(n)-2)+" "+xr($n.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(xr(t.x1.x)+" "+xr(t.x1.y)+" m"),r.push(xr(t.x2.x)+" "+xr(t.x2.y)+" l"),r.push(xr(t.x4.x)+" "+xr(t.x4.y)+" m"),r.push(xr(t.x3.x)+" "+xr(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(n){var e=tl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+xr($n.internal.getWidth(n))+" "+xr($n.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join("\n"),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};$n.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=$n.internal.getWidth(n),t=$n.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},$n.internal.getWidth=function(n){var e=0;return"object"===Fi(n)&&(e=hE(n.Rect[2])),e},$n.internal.getHeight=function(n){var e=0;return"object"===Fi(n)&&(e=hE(n.Rect[3])),e};var n,e,rk=Ds.addField=function(n){if(function(n,e){if(e.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(Ga.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(hA)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");b_=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new _A,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var t;(t=n).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&fA(s,t)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(t){!function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var c=r[o],u=[],h=c.Rect;if(c.Rect&&(c.Rect=fE(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=$n.createDefaultAppearanceStream(c),"object"===Fi(c)&&"function"==typeof c.getKeyValueListForStream&&(u=c.getKeyValueListForStream()),c.Rect=h,c.hasAppearanceStream&&!c.appearanceStreamContent){var g=dA(c);u.push({key:"AP",value:"<</N "+g+">>"}),i.internal.acroformPlugin.xForms.push(g)}if(c.appearanceStreamContent){var _="";for(var I in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(I)){var w=c.appearanceStreamContent[I];if(_+="/"+I+" ",_+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var o in w)if(w.hasOwnProperty(o)){var x=w[o];"function"==typeof x&&(x=x.call(i,c)),_+="/"+o+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else"function"==typeof(x=w)&&(x=x.call(i,c)),_+="/"+o+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);_+=">>"}u.push({key:"AP",value:"<<\n"+_+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:c.objId}),i.internal.out("endobj")}s&&function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),"object"===Fi(i)&&"function"==typeof i.putStream&&i.putStream(),delete n[r]}}(i.internal.acroformPlugin.xForms,i)}(t,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof Ga))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function mE(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}Ds.AcroFormChoiceField=Ec,Ds.AcroFormListBox=hd,Ds.AcroFormComboBox=Kp,Ds.AcroFormEditBox=Zp,Ds.AcroFormButton=Lo,Ds.AcroFormPushButton=gE,Ds.AcroFormRadioButton=Yp,Ds.AcroFormCheckBox=E_,Ds.AcroFormTextField=Hh,Ds.AcroFormPasswordField=Rs,Ds.AcroFormAppearance=$n,Ds.AcroForm={ChoiceField:Ec,ListBox:hd,ComboBox:Kp,EditBox:Zp,Button:Lo,PushButton:gE,RadioButton:Yp,CheckBox:E_,TextField:Hh,PasswordField:Rs,Appearance:$n},gr.AcroForm={ChoiceField:Ec,ListBox:hd,ComboBox:Kp,EditBox:Zp,Button:Lo,PushButton:gE,RadioButton:Yp,CheckBox:E_,TextField:Hh,PasswordField:Rs,Appearance:$n},function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(se,ie){var Se,Ee,ze,Ze,ht,Xe=e;if("RGBA"===(ie=ie||e)||void 0!==se.data&&se.data instanceof Uint8ClampedArray&&"height"in se&&"width"in se)return"RGBA";if(ye(se))for(ht in t)for(ze=t[ht],Se=0;Se<ze.length;Se+=1){for(Ze=!0,Ee=0;Ee<ze[Se].length;Ee+=1)if(void 0!==ze[Se][Ee]&&ze[Se][Ee]!==se[Ee]){Ze=!1;break}if(!0===Ze){Xe=ht;break}}else for(ht in t)for(ze=t[ht],Se=0;Se<ze.length;Se+=1){for(Ze=!0,Ee=0;Ee<ze[Se].length;Ee+=1)if(void 0!==ze[Se][Ee]&&ze[Se][Ee]!==se.charCodeAt(Ee)){Ze=!1;break}if(!0===Ze){Xe=ht;break}}return Xe===e&&ie!==e&&(Xe=ie),Xe},i=function se(ie){for(var Se=this.internal.write,Ee=this.internal.putStream,ze=(0,this.internal.getFilters)();-1!==ze.indexOf("FlateEncode");)ze.splice(ze.indexOf("FlateEncode"),1);ie.objectId=this.internal.newObject();var Ze=[];if(Ze.push({key:"Type",value:"/XObject"}),Ze.push({key:"Subtype",value:"/Image"}),Ze.push({key:"Width",value:ie.width}),Ze.push({key:"Height",value:ie.height}),ie.colorSpace===O.INDEXED?Ze.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(ie.palette.length/3-1)+" "+("sMask"in ie&&void 0!==ie.sMask?ie.objectId+2:ie.objectId+1)+" 0 R]"}):(Ze.push({key:"ColorSpace",value:"/"+ie.colorSpace}),ie.colorSpace===O.DEVICE_CMYK&&Ze.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ze.push({key:"BitsPerComponent",value:ie.bitsPerComponent}),"decodeParameters"in ie&&void 0!==ie.decodeParameters&&Ze.push({key:"DecodeParms",value:"<<"+ie.decodeParameters+">>"}),"transparency"in ie&&Array.isArray(ie.transparency)){for(var ht="",Xe=0,Mt=ie.transparency.length;Xe<Mt;Xe++)ht+=ie.transparency[Xe]+" "+ie.transparency[Xe]+" ";Ze.push({key:"Mask",value:"["+ht+"]"})}if(void 0!==ie.sMask&&Ze.push({key:"SMask",value:ie.objectId+1+" 0 R"}),Ee({data:ie.data,additionalKeyValues:Ze,alreadyAppliedFilters:void 0!==ie.filter?["/"+ie.filter]:void 0,objectId:ie.objectId}),Se("endobj"),"sMask"in ie&&void 0!==ie.sMask){var q={width:ie.width,height:ie.height,colorSpace:"DeviceGray",bitsPerComponent:ie.bitsPerComponent,decodeParameters:"/Predictor "+ie.predictor+" /Colors 1 /BitsPerComponent "+ie.bitsPerComponent+" /Columns "+ie.width,data:ie.sMask};"filter"in ie&&(q.filter=ie.filter),se.call(this,q)}if(ie.colorSpace===O.INDEXED){var fe=this.internal.newObject();Ee({data:le(new Uint8Array(ie.palette)),objectId:fe}),Se("endobj")}},s=function(){var se=this.internal.collections.addImage_images;for(var ie in se)i.call(this,se[ie])},o=function(){var se,ie=this.internal.collections.addImage_images,Se=this.internal.write;for(var Ee in ie)Se("/I"+(se=ie[Ee]).index,se.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var se=this.internal.collections.addImage_images;return c.call(this),se},h=function(){return Object.keys(this.internal.collections.addImage_images).length},g=function(se){return"function"==typeof n["process"+se.toUpperCase()]},_=function(se){return"object"===Fi(se)&&1===se.nodeType},I=function(se,ie){if("IMG"===se.nodeName&&se.hasAttribute("src")){var Se=""+se.getAttribute("src");if(0===Se.indexOf("data:image/"))return Pl(unescape(Se).split("base64,").pop());var Ee=n.loadFile(Se,!0);if(void 0!==Ee)return Ee}if("CANVAS"===se.nodeName){if(0===se.width||0===se.height)throw new Error("Given canvas must have data. Canvas width: "+se.width+", height: "+se.height);var ze;switch(ie){case"PNG":ze="image/png";break;case"WEBP":ze="image/webp";break;default:ze="image/jpeg"}return Pl(se.toDataURL(ze,1).split("base64,").pop())}},w=function(se){var ie=this.internal.collections.addImage_images;if(ie)for(var Se in ie)if(se===ie[Se].alias)return ie[Se]},x=function(se,ie,Se){return se||ie||(se=-96,ie=-96),se<0&&(se=-1*Se.width*72/se/this.internal.scaleFactor),ie<0&&(ie=-1*Se.height*72/ie/this.internal.scaleFactor),0===se&&(se=ie*Se.width/Se.height),0===ie&&(ie=se*Se.height/Se.width),[se,ie]},R=function(se,ie,Se,Ee,ze,Ze){var ht=x.call(this,Se,Ee,ze),Xe=this.internal.getCoordinateString,Mt=this.internal.getVerticalCoordinateString,Et=u.call(this);if(Se=ht[0],Ee=ht[1],Et[ze.index]=ze,Ze){Ze*=Math.PI/180;var bn=Math.cos(Ze),q=Math.sin(Ze),fe=function(Ne){return Ne.toFixed(4)},_e=[fe(bn),fe(q),fe(-1*q),fe(bn),0,0,"cm"]}this.internal.write("q"),Ze?(this.internal.write([1,"0","0",1,Xe(se),Mt(ie+Ee),"cm"].join(" ")),this.internal.write(_e.join(" ")),this.internal.write([Xe(Se),"0","0",Xe(Ee),"0","0","cm"].join(" "))):this.internal.write([Xe(Se),"0","0",Xe(Ee),Xe(se),Mt(ie+Ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ze.index+" Do"),this.internal.write("Q")},O=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},U=n.__addimage__.sHashCode=function(se){var ie,Se,Ee=0;if("string"==typeof se)for(Se=se.length,ie=0;ie<Se;ie++)Ee=(Ee<<5)-Ee+se.charCodeAt(ie),Ee|=0;else if(ye(se))for(Se=se.byteLength/2,ie=0;ie<Se;ie++)Ee=(Ee<<5)-Ee+se[ie],Ee|=0;return Ee},Y=n.__addimage__.validateStringAsBase64=function(se){(se=se||"").toString().trim();var ie=!0;return 0===se.length&&(ie=!1),se.length%4!=0&&(ie=!1),!1===/^[A-Za-z0-9+/]+$/.test(se.substr(0,se.length-2))&&(ie=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(se.substr(-2))&&(ie=!1),ie},te=n.__addimage__.extractImageFromDataUrl=function(se){var ie=(se=se||"").split("base64,"),Se=null;if(2===ie.length){var Ee=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(ie[0]);Array.isArray(Ee)&&(Se={mimeType:Ee[1],charset:Ee[2],data:ie[1]})}return Se},ce=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(se){return ce()&&se instanceof ArrayBuffer};var ye=n.__addimage__.isArrayBufferView=function(se){return ce()&&typeof Uint32Array<"u"&&(se instanceof Int8Array||se instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&se instanceof Uint8ClampedArray||se instanceof Int16Array||se instanceof Uint16Array||se instanceof Int32Array||se instanceof Uint32Array||se instanceof Float32Array||se instanceof Float64Array)},pe=n.__addimage__.binaryStringToUint8Array=function(se){for(var ie=se.length,Se=new Uint8Array(ie),Ee=0;Ee<ie;Ee++)Se[Ee]=se.charCodeAt(Ee);return Se},le=n.__addimage__.arrayBufferToBinaryString=function(se){for(var ie="",Se=ye(se)?se:new Uint8Array(se),Ee=0;Ee<Se.length;Ee+=8192)ie+=String.fromCharCode.apply(null,Se.subarray(Ee,Ee+8192));return ie};n.addImage=function(){var se,ie,Se,Ee,ze,Ze,ht,Xe,Mt;if("number"==typeof arguments[1]?(ie=e,Se=arguments[1],Ee=arguments[2],ze=arguments[3],Ze=arguments[4],ht=arguments[5],Xe=arguments[6],Mt=arguments[7]):(ie=arguments[1],Se=arguments[2],Ee=arguments[3],ze=arguments[4],Ze=arguments[5],ht=arguments[6],Xe=arguments[7],Mt=arguments[8]),"object"===Fi(se=arguments[0])&&!_(se)&&"imageData"in se){var Et=se;se=Et.imageData,ie=Et.format||ie||e,Se=Et.x||Se||0,Ee=Et.y||Ee||0,ze=Et.w||Et.width||ze,Ze=Et.h||Et.height||Ze,ht=Et.alias||ht,Xe=Et.compression||Xe,Mt=Et.rotation||Et.angle||Mt}var bn=this.internal.getFilters();if(void 0===Xe&&-1!==bn.indexOf("FlateEncode")&&(Xe="SLOW"),isNaN(Se)||isNaN(Ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var q=Be.call(this,se,ie,ht,Xe);return R.call(this,Se,Ee,ze,Ze,q,Mt),this};var Be=function(se,ie,Se,Ee){var ze,Ze,ht,Mt;if("string"==typeof se&&r(se)===e){se=unescape(se);var Xe=nt(se,!1);(""!==Xe||void 0!==(Xe=n.loadFile(se,!0)))&&(se=Xe)}if(_(se)&&(se=I(se,ie)),ie=r(se,ie),!g(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if((null==(ht=Se)||0===ht.length)&&(Se="string"==typeof(Mt=se)||ye(Mt)?U(Mt):ye(Mt.data)?U(Mt.data):null),(ze=w.call(this,Se))||(ce()&&(se instanceof Uint8Array||"RGBA"===ie||(Ze=se,se=pe(se))),ze=this["process"+ie.toUpperCase()](se,h.call(this),Se,function(Mt){return Mt&&"string"==typeof Mt&&(Mt=Mt.toUpperCase()),Mt in n.image_compression?Mt:L.NONE}(Ee),Ze)),!ze)throw new Error("An unknown error occurred whilst processing the image.");return ze},nt=n.__addimage__.convertBase64ToBinaryString=function(se,ie){var Se;ie="boolean"!=typeof ie||ie;var Ee,ze="";if("string"==typeof se){Ee=null!==(Se=te(se))?Se.data:se;try{ze=Pl(Ee)}catch(Ze){if(ie)throw Y(Ee)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ze.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ze};n.getImageProperties=function(se){var ie,Se,Ee="";if(_(se)&&(se=I(se)),"string"==typeof se&&r(se)===e&&(""===(Ee=nt(se,!1))&&(Ee=n.loadFile(se)||""),se=Ee),Se=r(se),!g(Se))throw new Error("addImage does not support files of type '"+Se+"', please ensure that a plugin for '"+Se+"' support is added.");if(!ce()||se instanceof Uint8Array||(se=pe(se)),!(ie=this["process"+Se.toUpperCase()](se)))throw new Error("An unknown error occurred whilst processing the image");return ie.fileType=Se,ie}}(gr.API),n=gr.API,e=function(t){if(void 0!==t&&""!=t)return!0},gr.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,g=!1,_=0;_<h.length&&!g;_++)switch((r=h[_]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(0!=g){this.internal.write("/Annots [");for(var I=0;I<h.length;I++){r=h[I];var w=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var R=this.internal.newAdditionalObject(),O=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(R.objId),U=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+w(L(r.contents))+")",s+=" /Popup "+O.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+w(L(U))+") >>",R.content=s;var Y=R.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+Y,r.open&&(s+=" /Open true"),O.content=s+=" >>",this.internal.write(R.objId,"0 R",O.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+c(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var te=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+w(x(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+te+")",s+=" /Border [0 0 0]",this.internal.write(s+=" >>");break;case"link":if(r.options.name){var ce=this.annotations._nameMap[r.options.name];r.options.pageNumber=ce.page,r.options.top=ce.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+w(x(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var ye=c(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ye+" "+r.options.zoom+"]"}""!=s&&this.internal.write(s+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(t),y:h(r),w:u(t+i),h:h(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,c,u=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==s.maxWidth){var g=this.splitTextToSize(t,c=s.maxWidth).length;o=Math.ceil(h*g)}else c=u,o=h;return this.text(t,r,i,s),"center"===s.align&&(r-=u/2),"right"===s.align&&(r-=u),this.link(r,(i+=.2*h)-h,c,o,s),u},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor},function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(R){return void 0!==e[R.charCodeAt(0)]},o=n.__arabicParser__.isArabicLetter=function(R){return"string"==typeof R&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(R)},c=n.__arabicParser__.isArabicEndLetter=function(R){return o(R)&&s(R)&&e[R.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(R){return o(R)&&i.indexOf(R.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(R){return o(R)&&s(R)&&e[R.charCodeAt(0)].length>=1};var h=n.__arabicParser__.arabicLetterHasFinalForm=function(R){return o(R)&&s(R)&&e[R.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(R){return o(R)&&s(R)&&e[R.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(R){return o(R)&&s(R)&&4==e[R.charCodeAt(0)].length},_=n.__arabicParser__.resolveLigatures=function(R){var O=0,L=t,U="",Y=0;for(O=0;O<R.length;O+=1)void 0!==L[R.charCodeAt(O)]?(Y++,"number"==typeof(L=L[R.charCodeAt(O)])&&(U+=String.fromCharCode(L),L=t,Y=0),O===R.length-1&&(L=t,U+=R.charAt(O-(Y-1)),O-=Y-1,Y=0)):(L=t,U+=R.charAt(O-Y),O-=Y,Y=0);return U};n.__arabicParser__.isArabicDiacritic=function(R){return void 0!==R&&void 0!==r[R.charCodeAt(0)]};var I=n.__arabicParser__.getCorrectForm=function(R,O,L){return o(R)?!1===s(R)?-1:!h(R)||!o(O)&&!o(L)||!o(L)&&c(O)||c(R)&&!o(O)||c(R)&&u(O)||c(R)&&c(O)?0:g(R)&&o(O)&&!c(O)&&o(L)&&h(L)?3:c(R)||!o(L)?1:2:-1},w=function(R){var O=0,L=0,U=0,Y="",te="",ce="",ye=(R=R||"").split("\\s+"),pe=[];for(O=0;O<ye.length;O+=1){for(pe.push(""),L=0;L<ye[O].length;L+=1)te=ye[O][L-1],ce=ye[O][L+1],o(Y=ye[O][L])?(U=I(Y,te,ce),pe[O]+=-1!==U?String.fromCharCode(e[Y.charCodeAt(0)][U]):Y):pe[O]+=Y;pe[O]=_(pe[O])}return pe.join(" ")},x=n.__arabicParser__.processArabic=n.processArabic=function(){var R,O="string"==typeof arguments[0]?arguments[0]:arguments[0].text,L=[];if(Array.isArray(O)){var U=0;for(L=[],U=0;U<O.length;U+=1)Array.isArray(O[U])?L.push([w(O[U][0]),O[U][1],O[U][2]]):L.push([w(O[U])]);R=L}else R=w(O);return"string"==typeof arguments[0]?R:(arguments[0].text=R,arguments[0])};n.events.push(["preProcessText",x])}(gr.API),gr.API.autoPrint=function(n){var e;return"javascript"===((n=n||{}).variant=n.variant||"non-conform",n.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||!1===Number.isInteger(c)||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||!1===Number.isInteger(c)||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if("2d"!==(t=t||"2d"))return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(gr.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(R){u=R}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(R){h=R}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(R){g=R}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(R){_=R}});var I=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return I},set:function(R){I=R}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(R){w=R}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(R){x=R}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof u?u:void 0,this},n.getTextDimensions=function(u,h){r.call(this);var g=(h=h||{}).fontSize||this.getFontSize(),_=h.font||this.getFont(),I=h.scaleFactor||this.internal.scaleFactor,w=0,x=0,R=0,O=this;if(!Array.isArray(u)&&"string"!=typeof u){if("number"!=typeof u)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var L=h.maxWidth;L>0?"string"==typeof u?u=this.splitTextToSize(u,L):"[object Array]"===Object.prototype.toString.call(u)&&(u=u.reduce(function(Y,te){return Y.concat(O.splitTextToSize(te,L))},[])):u=Array.isArray(u)?u:[u];for(var U=0;U<u.length;U++)w<(R=this.getStringUnitWidth(u[U],{font:_})*g)&&(w=R);return 0!==w&&(x=u.length),{w:w/=I,h:Math.max((x*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/I,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,_=this.internal.__cell__.margins||e,I=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return void 0!==h.lineNumber&&(h.lineNumber===u.lineNumber?(u.x=(h.x||0)+(h.width||0),u.y=h.y||0):h.y+h.height+u.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=_.top,w&&I&&(this.printHeaderRow(u.lineNumber,!0),u.y+=I[0].height)):u.y=h.y+h.height||u.y),void 0!==u.text[0]&&(this.rect(u.x,u.y,u.width,u.height,!0===t?"FD":void 0),"right"===u.align?this.text(u.text,u.x+u.width-g,u.y+g,{align:"right",baseline:"top"}):"center"===u.align?this.text(u.text,u.x+u.width/2,u.y+g,{align:"center",baseline:"top",maxWidth:u.width-g-g}):this.text(u.text,u.x+g,u.y+g,{align:"left",baseline:"top",maxWidth:u.width-g-g})),this.internal.__cell__.lastCell=u,this};n.table=function(u,h,g,_,I){if(r.call(this),!g)throw new Error("No data for PDF table.");var w,x,R,O,L=[],U=[],Y=[],te={},ce={},ye=[],pe=[],le=(I=I||{}).autoSize||!1,Be=!1!==I.printHeaders,nt=I.css&&void 0!==I.css["font-size"]?16*I.css["font-size"]:I.fontSize||12,se=I.margins||Object.assign({width:this.getPageWidth()},e),ie="number"==typeof I.padding?I.padding:3,Se=I.headerBackgroundColor||"#c8c8c8",Ee=I.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=Be,this.internal.__cell__.margins=se,this.internal.__cell__.table_font_size=nt,this.internal.__cell__.padding=ie,this.internal.__cell__.headerBackgroundColor=Se,this.internal.__cell__.headerTextColor=Ee,this.setFontSize(nt),null==_)U=L=Object.keys(g[0]),Y=L.map(function(){return"left"});else if(Array.isArray(_)&&"object"===Fi(_[0]))for(L=_.map(function(Et){return Et.name}),U=_.map(function(Et){return Et.prompt||Et.name||""}),Y=_.map(function(Et){return Et.align||"left"}),w=0;w<_.length;w+=1)ce[_[w].name]=_[w].width*(19.049976/25.4);else Array.isArray(_)&&"string"==typeof _[0]&&(U=L=_,Y=L.map(function(){return"left"}));if(le||Array.isArray(_)&&"string"==typeof _[0])for(w=0;w<L.length;w+=1){for(te[O=L[w]]=g.map(function(Et){return Et[O]}),this.setFont(void 0,"bold"),ye.push(this.getTextDimensions(U[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=te[O],this.setFont(void 0,"normal"),R=0;R<x.length;R+=1)ye.push(this.getTextDimensions(x[R],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ce[O]=Math.max.apply(null,ye)+ie+ie,ye=[]}if(Be){var ze={};for(w=0;w<L.length;w+=1)ze[L[w]]={},ze[L[w]].text=U[w],ze[L[w]].align=Y[w];var Ze=c.call(this,ze,ce);pe=L.map(function(Et){return new s(u,h,ce[Et],Ze,ze[Et].text,void 0,ze[Et].align)}),this.setTableHeaderRow(pe),this.printHeaderRow(1,!1)}var ht=_.reduce(function(Et,bn){return Et[bn.name]=bn.align,Et},{});for(w=0;w<g.length;w+=1){"rowStart"in I&&I.rowStart instanceof Function&&I.rowStart({row:w,data:g[w]},this);var Xe=c.call(this,g[w],ce);for(R=0;R<L.length;R+=1){var Mt=g[w][L[R]];"cellStart"in I&&I.cellStart instanceof Function&&I.cellStart({row:w,col:R,data:Mt},this),o.call(this,new s(u,h,ce[L[R]],Xe,Mt,w+2,ht[L[R]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=h,this};var c=function(u,h){var g=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,I=this.internal.scaleFactor;return Object.keys(u).map(function(w){var x=u[w];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,h[w]-g-g)},this).map(function(w){return this.getLineHeightFactor()*w.length*_/I+g+g},this).reduce(function(w,x){return Math.max(w,x)},0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,"function"==typeof this.internal.__cell__.headerFunction){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var I=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){g=this.internal.__cell__.tableHeaderRow[w].clone(),h&&(g.y=this.internal.__cell__.margins.top||0,I.push(g)),g.lineNumber=u;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,g),this.setTextColor(x)}I.length>0&&this.setTableHeaderRow(I),this.setFont(void 0,"normal"),t=!1}}(gr.API);var yA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_E=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],gv=mE(_E),$h=[100,200,300,400,500,600,700,800,900],ik=mE($h);function yE(n){var s,e=n.family.replace(/"|'/g,"").toLowerCase(),t=yA[s=(s=n.style)||"normal"]?s:"normal",r=function(s){return s?"number"==typeof s?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):"bold"===s?700:400:400}(n.weight),i=function(s){return"number"==typeof gv[s=s||"normal"]?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function vE(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var sk={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},bE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ok(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function mv(n){return n.trimLeft()}function Rl(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function ak(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],n.substring(e[0].length)]}var _v,nl,Ic,Ka=["times"];(function(n){var e,t,r,i,s,o,c,u,h,g=function(q){return this.isStrokeTransparent=(q=q||{}).isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=void 0!==q.transform?q.transform.clone():new u,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new o,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new o,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof q.ignoreClearRect||q.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new _(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,h=new g}]);var _=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var fe=q;Object.defineProperty(this,"pdf",{get:function(){return fe}});var _e=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return _e},set:function(At){_e=Boolean(At)}});var Ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ne},set:function(At){Ne=Boolean(At)}});var je=0;Object.defineProperty(this,"posX",{get:function(){return je},set:function(At){isNaN(At)||(je=At)}});var ot=0;Object.defineProperty(this,"posY",{get:function(){return ot},set:function(At){isNaN(At)||(ot=At)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(At){var be;"number"==typeof At?be=[At,At,At,At]:((be=new Array(4))[0]=At[0],be[1]=At.length>=2?At[1]:be[0],be[2]=At.length>=3?At[2]:be[0],be[3]=At.length>=4?At[3]:be[1]),h.margin=be}});var ft=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ft},set:function(At){ft=At}});var gt=0;Object.defineProperty(this,"lastBreak",{get:function(){return gt},set:function(At){gt=At}});var ln=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ln},set:function(At){ln=At}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(At){At instanceof g&&(h=At)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(At){h.path=At}});var on=[];Object.defineProperty(this,"ctxStack",{get:function(){return on},set:function(At){on=At}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(At){var be;be=I(At),this.ctx.fillStyle=be.style,this.ctx.isFillTransparent=0===be.a,this.ctx.fillOpacity=be.a,this.pdf.setFillColor(be.r,be.g,be.b,{a:be.a}),this.pdf.setTextColor(be.r,be.g,be.b,{a:be.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(At){var be=I(At);this.ctx.strokeStyle=be.style,this.ctx.isStrokeTransparent=0===be.a,this.ctx.strokeOpacity=be.a,0===be.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(be.r,be.g,be.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(At){-1!==["butt","round","square"].indexOf(At)&&(this.ctx.lineCap=At,this.pdf.setLineCap(At))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(At){isNaN(At)||(this.ctx.lineWidth=At,this.pdf.setLineWidth(At))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(At){-1!==["bevel","round","miter"].indexOf(At)&&(this.ctx.lineJoin=At,this.pdf.setLineJoin(At))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(At){isNaN(At)||(this.ctx.miterLimit=At,this.pdf.setMiterLimit(At))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(At){this.ctx.textBaseline=At}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(At){-1!==["right","end","center","left","start"].indexOf(At)&&(this.ctx.textAlign=At)}});var Rn=null,Ir=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ir},set:function(At){Rn=null,Ir=At}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(At){var be;if(this.ctx.font=At,null!==(be=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(At))){var Vr=be[1],tr=be[3],rn=be[4],_n=be[6],Tn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(rn)[2];rn=Math.floor("px"===Tn?parseFloat(rn)*this.pdf.internal.scaleFactor:"em"===Tn?parseFloat(rn)*this.pdf.getFontSize():parseFloat(rn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(rn);var Sn=function(Tr){var ii,Dn,Ua=[],Ni=Tr.trim();if(""===Ni)return Ka;if(Ni in bE)return[bE[Ni]];for(;""!==Ni;){switch(Dn=null,ii=(Ni=mv(Ni)).charAt(0)){case'"':case"'":Dn=Rl(Ni.substring(1),ii);break;default:Dn=ak(Ni)}if(null===Dn||(Ua.push(Dn[0]),""!==(Ni=mv(Dn[1]))&&","!==Ni.charAt(0)))return Ka;Ni=Ni.replace(/^,/,"")}return Ua}(_n);if(this.fontFaces){var lr=function wE(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},sk,t.genericFontFamilies||{}),s=null,o=null,c=0;c<e.length;++c)if(i[(s=yE(e[c])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+ok(s)+"' and default family '"+r+"'.");if(o=function(u,h){if(h[u])return h[u];var g=gv[u],I=vE(h,_E,g,g<=gv.normal?-1:1);if(!I)throw new Error("Could not find a matching font-stretch value for "+u);return I}(s.stretch,o),o=function(u,h){if(h[u])return h[u];for(var g=yA[u],_=0;_<g.length;++_)if(h[g[_]])return h[g[_]];throw new Error("Could not find a matching font-style for "+u)}(s.style,o),!(o=function(u,h){if(h[u])return h[u];if(400===u&&h[500])return h[500];if(500===u&&h[400])return h[400];var _=vE(h,$h,ik[u],u<400?-1:1);if(!_)throw new Error("Could not find a matching font-weight for value "+u);return _}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+ok(s)+"'.");return o}(function Un(At,be){if(null===Rn){var Vr=(tr=At.getFontList(),rn=[],Object.keys(tr).forEach(function(_n){tr[_n].forEach(function(Tn){var Sn=null;switch(Tn){case"bold":Sn={family:_n,weight:"bold"};break;case"italic":Sn={family:_n,style:"italic"};break;case"bolditalic":Sn={family:_n,weight:"bold",style:"italic"};break;case"":case"normal":Sn={family:_n}}null!==Sn&&(Sn.ref={name:_n,style:Tn},rn.push(Sn))})}),rn);Rn=function(tr){for(var rn={},_n=0;_n<tr.length;++_n){var Tn=yE(tr[_n]),Sn=Tn.family,lr=Tn.stretch,Br=Tn.style,Yr=Tn.weight;rn[Sn]=rn[Sn]||{},rn[Sn][lr]=rn[Sn][lr]||{},rn[Sn][lr][Br]=rn[Sn][lr][Br]||{},rn[Sn][lr][Br][Yr]=Tn}return rn}(Vr.concat(be))}var tr,rn;return Rn}(this.pdf,this.fontFaces),Sn.map(function(Tr){return{family:Tr,stretch:"normal",weight:tr,style:Vr}}));this.pdf.setFont(lr.ref.name,lr.ref.style)}else{var Br="";("bold"===tr||parseInt(tr,10)>=700||"bold"===Vr)&&(Br="bold"),"italic"===Vr&&(Br+="italic"),0===Br.length&&(Br="normal");for(var Yr="",ni={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Di=0;Di<Sn.length;Di++){if(void 0!==this.pdf.internal.getFont(Sn[Di],Br,{noFallback:!0,disableWarning:!0})){Yr=Sn[Di];break}if("bolditalic"===Br&&void 0!==this.pdf.internal.getFont(Sn[Di],"bold",{noFallback:!0,disableWarning:!0}))Yr=Sn[Di],Br="bold";else if(void 0!==this.pdf.internal.getFont(Sn[Di],"normal",{noFallback:!0,disableWarning:!0})){Yr=Sn[Di],Br="normal";break}}if(""===Yr)for(var is=0;is<Sn.length;is++)if(ni[Sn[is]]){Yr=ni[Sn[is]];break}this.pdf.setFont(Yr=""===Yr?"Times":Yr,Br)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(At){this.ctx.globalCompositeOperation=At}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(At){this.ctx.globalAlpha=At}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(At){this.ctx.lineDashOffset=At,bn.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(At){this.ctx.lineDash=At,bn.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(At){this.ctx.ignoreClearRect=Boolean(At)}})};_.prototype.setLineDash=function(q){this.lineDash=q},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){te.call(this,"fill",!1)},_.prototype.stroke=function(){te.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(q,fe){if(isNaN(q)||isNaN(fe))throw bi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var _e=this.ctx.transform.applyToPoint(new o(q,fe));this.path.push({type:"mt",x:_e.x,y:_e.y}),this.ctx.lastPoint=new o(q,fe)},_.prototype.closePath=function(){var q=new o(0,0),fe=0;for(fe=this.path.length-1;-1!==fe;fe--)if("begin"===this.path[fe].type&&"object"===Fi(this.path[fe+1])&&"number"==typeof this.path[fe+1].x){q=new o(this.path[fe+1].x,this.path[fe+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(q.x,q.y)},_.prototype.lineTo=function(q,fe){if(isNaN(q)||isNaN(fe))throw bi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var _e=this.ctx.transform.applyToPoint(new o(q,fe));this.path.push({type:"lt",x:_e.x,y:_e.y}),this.ctx.lastPoint=new o(_e.x,_e.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),te.call(this,null,!0)},_.prototype.quadraticCurveTo=function(q,fe,_e,Ne){if(isNaN(_e)||isNaN(Ne)||isNaN(q)||isNaN(fe))throw bi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var je=this.ctx.transform.applyToPoint(new o(_e,Ne)),ot=this.ctx.transform.applyToPoint(new o(q,fe));this.path.push({type:"qct",x1:ot.x,y1:ot.y,x:je.x,y:je.y}),this.ctx.lastPoint=new o(je.x,je.y)},_.prototype.bezierCurveTo=function(q,fe,_e,Ne,je,ot){if(isNaN(je)||isNaN(ot)||isNaN(q)||isNaN(fe)||isNaN(_e)||isNaN(Ne))throw bi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ft=this.ctx.transform.applyToPoint(new o(je,ot)),gt=this.ctx.transform.applyToPoint(new o(q,fe)),ln=this.ctx.transform.applyToPoint(new o(_e,Ne));this.path.push({type:"bct",x1:gt.x,y1:gt.y,x2:ln.x,y2:ln.y,x:ft.x,y:ft.y}),this.ctx.lastPoint=new o(ft.x,ft.y)},_.prototype.arc=function(q,fe,_e,Ne,je,ot){if(isNaN(q)||isNaN(fe)||isNaN(_e)||isNaN(Ne)||isNaN(je))throw bi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ot=Boolean(ot),!this.ctx.transform.isIdentity){var ft=this.ctx.transform.applyToPoint(new o(q,fe));q=ft.x,fe=ft.y;var gt=this.ctx.transform.applyToPoint(new o(0,_e)),ln=this.ctx.transform.applyToPoint(new o(0,0));_e=Math.sqrt(Math.pow(gt.x-ln.x,2)+Math.pow(gt.y-ln.y,2))}Math.abs(je-Ne)>=2*Math.PI&&(Ne=0,je=2*Math.PI),this.path.push({type:"arc",x:q,y:fe,radius:_e,startAngle:Ne,endAngle:je,counterclockwise:ot})},_.prototype.arcTo=function(q,fe,_e,Ne,je){throw new Error("arcTo not implemented.")},_.prototype.rect=function(q,fe,_e,Ne){if(isNaN(q)||isNaN(fe)||isNaN(_e)||isNaN(Ne))throw bi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,fe),this.lineTo(q+_e,fe),this.lineTo(q+_e,fe+Ne),this.lineTo(q,fe+Ne),this.lineTo(q,fe),this.lineTo(q+_e,fe),this.lineTo(q,fe)},_.prototype.fillRect=function(q,fe,_e,Ne){if(isNaN(q)||isNaN(fe)||isNaN(_e)||isNaN(Ne))throw bi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var je={};"butt"!==this.lineCap&&(je.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(je.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,fe,_e,Ne),this.fill(),je.hasOwnProperty("lineCap")&&(this.lineCap=je.lineCap),je.hasOwnProperty("lineJoin")&&(this.lineJoin=je.lineJoin)}},_.prototype.strokeRect=function(q,fe,_e,Ne){if(isNaN(q)||isNaN(fe)||isNaN(_e)||isNaN(Ne))throw bi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(q,fe,_e,Ne),this.stroke())},_.prototype.clearRect=function(q,fe,_e,Ne){if(isNaN(q)||isNaN(fe)||isNaN(_e)||isNaN(Ne))throw bi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,fe,_e,Ne))},_.prototype.save=function(q){q="boolean"!=typeof q||q;for(var fe=this.pdf.internal.getCurrentPageInfo().pageNumber,_e=0;_e<this.pdf.internal.getNumberOfPages();_e++)this.pdf.setPage(_e+1),this.pdf.internal.out("q");if(this.pdf.setPage(fe),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ne=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ne}},_.prototype.restore=function(q){q="boolean"!=typeof q||q;for(var fe=this.pdf.internal.getCurrentPageInfo().pageNumber,_e=0;_e<this.pdf.internal.getNumberOfPages();_e++)this.pdf.setPage(_e+1),this.pdf.internal.out("Q");this.pdf.setPage(fe),q&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var I=function(q){var fe,_e,Ne,je;if(!0===q.isCanvasGradient&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))fe=0,_e=0,Ne=0,je=0;else{var ot=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(null!==ot)fe=parseInt(ot[1]),_e=parseInt(ot[2]),Ne=parseInt(ot[3]),je=1;else if(null!==(ot=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q)))fe=parseInt(ot[1]),_e=parseInt(ot[2]),Ne=parseInt(ot[3]),je=parseFloat(ot[4]);else{if(je=1,"string"==typeof q&&"#"!==q.charAt(0)){var ft=new Vh(q);q=ft.ok?ft.toHex():"#000000"}4===q.length?(fe=q.substring(1,2),fe+=fe,_e=q.substring(2,3),_e+=_e,Ne=q.substring(3,4),Ne+=Ne):(fe=q.substring(1,3),_e=q.substring(3,5),Ne=q.substring(5,7)),fe=parseInt(fe,16),_e=parseInt(_e,16),Ne=parseInt(Ne,16)}}return{r:fe,g:_e,b:Ne,a:je,style:q}},w=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},x=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};_.prototype.fillText=function(q,fe,_e,Ne){if(isNaN(fe)||isNaN(_e)||"string"!=typeof q)throw bi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ne=isNaN(Ne)?void 0:Ne,!w.call(this)){var je=Xe(this.ctx.transform.rotation),ot=this.ctx.transform.scaleX;ie.call(this,{text:q,x:fe,y:_e,scale:ot,angle:je,align:this.textAlign,maxWidth:Ne})}},_.prototype.strokeText=function(q,fe,_e,Ne){if(isNaN(fe)||isNaN(_e)||"string"!=typeof q)throw bi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){Ne=isNaN(Ne)?void 0:Ne;var je=Xe(this.ctx.transform.rotation),ot=this.ctx.transform.scaleX;ie.call(this,{text:q,x:fe,y:_e,scale:ot,renderingMode:"stroke",angle:je,align:this.textAlign,maxWidth:Ne})}},_.prototype.measureText=function(q){if("string"!=typeof q)throw bi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var fe=this.pdf,_e=this.pdf.internal.scaleFactor,Ne=fe.internal.getFontSize(),je=fe.getStringUnitWidth(q)*Ne/fe.internal.scaleFactor,ot=function(ft){var gt=(ft=ft||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return gt}}),this};return new ot({width:je*=Math.round(96*_e/72*1e4)/1e4})},_.prototype.scale=function(q,fe){if(isNaN(q)||isNaN(fe))throw bi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var _e=new u(q,0,0,fe,0,0);this.ctx.transform=this.ctx.transform.multiply(_e)},_.prototype.rotate=function(q){if(isNaN(q))throw bi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var fe=new u(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(fe)},_.prototype.translate=function(q,fe){if(isNaN(q)||isNaN(fe))throw bi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var _e=new u(1,0,0,1,q,fe);this.ctx.transform=this.ctx.transform.multiply(_e)},_.prototype.transform=function(q,fe,_e,Ne,je,ot){if(isNaN(q)||isNaN(fe)||isNaN(_e)||isNaN(Ne)||isNaN(je)||isNaN(ot))throw bi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ft=new u(q,fe,_e,Ne,je,ot);this.ctx.transform=this.ctx.transform.multiply(ft)},_.prototype.setTransform=function(q,fe,_e,Ne,je,ot){q=isNaN(q)?1:q,fe=isNaN(fe)?0:fe,_e=isNaN(_e)?0:_e,Ne=isNaN(Ne)?1:Ne,je=isNaN(je)?0:je,ot=isNaN(ot)?0:ot,this.ctx.transform=new u(q,fe,_e,Ne,je,ot)};var R=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(q,fe,_e,Ne,je,ot,ft,gt,ln){var on=this.pdf.getImageProperties(q),Rn=1,Un=1,Ir=1,At=1;void 0!==Ne&&void 0!==gt&&(Ir=gt/Ne,At=ln/je,Rn=on.width/Ne*gt/Ne,Un=on.height/je*ln/je),void 0===ot&&(ot=fe,ft=_e,fe=0,_e=0),void 0!==Ne&&void 0===gt&&(gt=Ne,ln=je),void 0===Ne&&void 0===gt&&(gt=on.width,ln=on.height);for(var be,Vr=this.ctx.transform.decompose(),tr=Xe(Vr.rotate.shx),rn=new u,_n=(rn=(rn=(rn=rn.multiply(Vr.translate)).multiply(Vr.skew)).multiply(Vr.scale)).applyToRectangle(new c(ot-fe*Ir,ft-_e*At,Ne*Rn,je*Un)),Tn=O.call(this,_n),Sn=[],lr=0;lr<Tn.length;lr+=1)-1===Sn.indexOf(Tn[lr])&&Sn.push(Tn[lr]);if(Y(Sn),this.autoPaging)for(var Br=Sn[0],Yr=Sn[Sn.length-1],ni=Br;ni<Yr+1;ni++){this.pdf.setPage(ni);var Di=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],is=1===ni?this.posY+this.margin[0]:this.margin[0],ii=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Dn=1===ni?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(ni-2)*ii;if(0!==this.ctx.clip_path.length){var Ua=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(be,this.posX+this.margin[3],-Dn+is+this.ctx.prevPageLastElemOffset),ce.call(this,"fill",!0),this.path=Ua}var Ni=JSON.parse(JSON.stringify(_n));Ni=U([Ni],this.posX+this.margin[3],-Dn+is+this.ctx.prevPageLastElemOffset)[0];var Nu=(ni>Br||ni<Yr)&&R.call(this);Nu&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Di,ii,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",Ni.x,Ni.y,Ni.w,Ni.h,null,null,tr),Nu&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(q,"JPEG",_n.x,_n.y,_n.w,_n.h,null,null,tr)};var O=function(q,fe,_e){var Ne=[];fe=fe||this.pdf.internal.pageSize.width,_e=_e||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var je=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":Ne.push(Math.floor((q.y+je)/_e)+1);break;case"arc":Ne.push(Math.floor((q.y+je-q.radius)/_e)+1),Ne.push(Math.floor((q.y+je+q.radius)/_e)+1);break;case"qct":var ot=Mt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);Ne.push(Math.floor((ot.y+je)/_e)+1),Ne.push(Math.floor((ot.y+ot.h+je)/_e)+1);break;case"bct":var ft=Et(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);Ne.push(Math.floor((ft.y+je)/_e)+1),Ne.push(Math.floor((ft.y+ft.h+je)/_e)+1);break;case"rect":Ne.push(Math.floor((q.y+je)/_e)+1),Ne.push(Math.floor((q.y+q.h+je)/_e)+1)}for(var gt=0;gt<Ne.length;gt+=1)for(;this.pdf.internal.getNumberOfPages()<Ne[gt];)L.call(this);return Ne},L=function(){var q=this.fillStyle,fe=this.strokeStyle,_e=this.font,Ne=this.lineCap,je=this.lineWidth,ot=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=fe,this.font=_e,this.lineCap=Ne,this.lineWidth=je,this.lineJoin=ot},U=function(q,fe,_e){for(var Ne=0;Ne<q.length;Ne++)switch(q[Ne].type){case"bct":q[Ne].x2+=fe,q[Ne].y2+=_e;case"qct":q[Ne].x1+=fe,q[Ne].y1+=_e;default:q[Ne].x+=fe,q[Ne].y+=_e}return q},Y=function(q){return q.sort(function(fe,_e){return fe-_e})},te=function(q,fe){for(var _e,Ne,je=this.fillStyle,ot=this.strokeStyle,ft=this.lineCap,gt=this.lineWidth,ln=Math.abs(gt*this.ctx.transform.scaleX),on=this.lineJoin,Rn=JSON.parse(JSON.stringify(this.path)),Un=JSON.parse(JSON.stringify(this.path)),Ir=[],At=0;At<Un.length;At++)if(void 0!==Un[At].x)for(var be=O.call(this,Un[At]),Vr=0;Vr<be.length;Vr+=1)-1===Ir.indexOf(be[Vr])&&Ir.push(be[Vr]);for(var tr=0;tr<Ir.length;tr++)for(;this.pdf.internal.getNumberOfPages()<Ir[tr];)L.call(this);if(Y(Ir),this.autoPaging)for(var rn=Ir[0],_n=Ir[Ir.length-1],Tn=rn;Tn<_n+1;Tn++){this.pdf.setPage(Tn),this.fillStyle=je,this.strokeStyle=ot,this.lineCap=ft,this.lineWidth=ln,this.lineJoin=on;var Sn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],lr=1===Tn?this.posY+this.margin[0]:this.margin[0],Yr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ni=1===Tn?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Tn-2)*Yr;if(0!==this.ctx.clip_path.length){var Di=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(_e,this.posX+this.margin[3],-ni+lr+this.ctx.prevPageLastElemOffset),ce.call(this,q,!0),this.path=Di}if(Ne=JSON.parse(JSON.stringify(Rn)),this.path=U(Ne,this.posX+this.margin[3],-ni+lr+this.ctx.prevPageLastElemOffset),!1===fe||0===Tn){var is=(Tn>rn||Tn<_n)&&R.call(this);is&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Sn,Yr,null).clip().discardPath()),ce.call(this,q,fe),is&&this.pdf.restoreGraphicsState()}this.lineWidth=gt}else this.lineWidth=ln,ce.call(this,q,fe),this.lineWidth=gt;this.path=Rn},ce=function(q,fe){if(("stroke"!==q||fe||!x.call(this))&&("stroke"===q||fe||!w.call(this))){for(var _e,Ne,je=[],ot=this.path,ft=0;ft<ot.length;ft++){var gt=ot[ft];switch(gt.type){case"begin":je.push({begin:!0});break;case"close":je.push({close:!0});break;case"mt":je.push({start:gt,deltas:[],abs:[]});break;case"lt":var ln=je.length;if(ot[ft-1]&&!isNaN(ot[ft-1].x)&&(_e=[gt.x-ot[ft-1].x,gt.y-ot[ft-1].y],ln>0))for(;ln>=0;ln--)if(!0!==je[ln-1].close&&!0!==je[ln-1].begin){je[ln-1].deltas.push(_e),je[ln-1].abs.push(gt);break}break;case"bct":je[je.length-1].deltas.push(_e=[gt.x1-ot[ft-1].x,gt.y1-ot[ft-1].y,gt.x2-ot[ft-1].x,gt.y2-ot[ft-1].y,gt.x-ot[ft-1].x,gt.y-ot[ft-1].y]);break;case"qct":je[je.length-1].deltas.push(_e=[ot[ft-1].x+2/3*(gt.x1-ot[ft-1].x)-ot[ft-1].x,ot[ft-1].y+2/3*(gt.y1-ot[ft-1].y)-ot[ft-1].y,gt.x+2/3*(gt.x1-gt.x)-ot[ft-1].x,gt.y+2/3*(gt.y1-gt.y)-ot[ft-1].y,gt.x-ot[ft-1].x,gt.y-ot[ft-1].y]);break;case"arc":je.push({deltas:[],abs:[],arc:!0}),Array.isArray(je[je.length-1].abs)&&je[je.length-1].abs.push(gt)}}Ne=fe?null:"stroke"===q?"stroke":"fill";for(var Vr=!1,tr=0;tr<je.length;tr++)if(je[tr].arc)for(var rn=je[tr].abs,_n=0;_n<rn.length;_n++){var Tn=rn[_n];"arc"===Tn.type?le.call(this,Tn.x,Tn.y,Tn.radius,Tn.startAngle,Tn.endAngle,Tn.counterclockwise,void 0,fe,!Vr):Se.call(this,Tn.x,Tn.y),Vr=!0}else!0===je[tr].close?(this.pdf.internal.out("h"),Vr=!1):!0!==je[tr].begin&&(Ee.call(this,je[tr].deltas,je[tr].start.x,je[tr].start.y),Vr=!0);Ne&&Be.call(this,Ne),fe&&nt.call(this)}},ye=function(q){var fe=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,_e=fe*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-_e;case"top":return q+fe-_e;case"hanging":return q+fe-2*_e;case"middle":return q+fe/2-_e;default:return q}},pe=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(fe,_e){this.colorStops.push([fe,_e])},q.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var le=function(q,fe,_e,Ne,je,ot,ft,gt,ln){for(var on=Ze.call(this,_e,Ne,je,ot),Rn=0;Rn<on.length;Rn++){var Un=on[Rn];0===Rn&&(ln?se.call(this,Un.x1+q,Un.y1+fe):Se.call(this,Un.x1+q,Un.y1+fe)),ze.call(this,q,fe,Un.x2,Un.y2,Un.x3,Un.y3,Un.x4,Un.y4)}gt?nt.call(this):Be.call(this,ft)},Be=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},nt=function(){this.pdf.clip(),this.pdf.discardPath()},se=function(q,fe){this.pdf.internal.out(t(q)+" "+r(fe)+" m")},ie=function(q){var fe;switch(q.align){case"right":case"end":fe="right";break;case"center":fe="center";break;default:fe="left"}var _e=this.pdf.getTextDimensions(q.text),Ne=ye.call(this,q.y),je=pe.call(this,Ne)-_e.h,ot=this.ctx.transform.applyToPoint(new o(q.x,Ne)),ft=this.ctx.transform.decompose(),gt=new u;gt=(gt=(gt=gt.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale);for(var ln,on,Rn,Un=this.ctx.transform.applyToRectangle(new c(q.x,Ne,_e.w,_e.h)),Ir=gt.applyToRectangle(new c(q.x,je,_e.w,_e.h)),At=O.call(this,Ir),be=[],Vr=0;Vr<At.length;Vr+=1)-1===be.indexOf(At[Vr])&&be.push(At[Vr]);if(Y(be),this.autoPaging)for(var tr=be[0],rn=be[be.length-1],_n=tr;_n<rn+1;_n++){this.pdf.setPage(_n);var Tn=1===_n?this.posY+this.margin[0]:this.margin[0],lr=this.pdf.internal.pageSize.height-this.margin[2],Br=lr-this.margin[0],Yr=this.pdf.internal.pageSize.width-this.margin[1],ni=Yr-this.margin[3],Di=1===_n?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(_n-2)*Br;if(0!==this.ctx.clip_path.length){var is=this.path;ln=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(ln,this.posX+this.margin[3],-1*Di+Tn),ce.call(this,"fill",!0),this.path=is}var Tr=U([JSON.parse(JSON.stringify(Ir))],this.posX+this.margin[3],-Di+Tn+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(on=this.pdf.internal.getFontSize(),this.pdf.setFontSize(on*q.scale),this.lineWidth=(Rn=this.lineWidth)*q.scale);var ii="text"!==this.autoPaging;if(ii||Tr.y+Tr.h<=lr){if(ii||Tr.y>=Tn&&Tr.x<=Yr){var Dn=ii?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||Yr-Tr.x)[0],Ua=U([JSON.parse(JSON.stringify(Un))],this.posX+this.margin[3],-Di+Tn+this.ctx.prevPageLastElemOffset)[0],Ni=ii&&(_n>tr||_n<rn)&&R.call(this);Ni&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ni,Br,null).clip().discardPath()),this.pdf.text(Dn,Ua.x,Ua.y,{angle:q.angle,align:fe,renderingMode:q.renderingMode}),Ni&&this.pdf.restoreGraphicsState()}}else Tr.y<lr&&(this.ctx.prevPageLastElemOffset+=lr-Tr.y);q.scale>=.01&&(this.pdf.setFontSize(on),this.lineWidth=Rn)}else q.scale>=.01&&(on=this.pdf.internal.getFontSize(),this.pdf.setFontSize(on*q.scale),this.lineWidth=(Rn=this.lineWidth)*q.scale),this.pdf.text(q.text,ot.x+this.posX,ot.y+this.posY,{angle:q.angle,align:fe,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(on),this.lineWidth=Rn)},Se=function(q,fe,_e,Ne){Ne=Ne||0,this.pdf.internal.out(t(q+(_e=_e||0))+" "+r(fe+Ne)+" l")},Ee=function(q,fe,_e){return this.pdf.lines(q,fe,_e,null,null)},ze=function(q,fe,_e,Ne,je,ot,ft,gt){this.pdf.internal.out([e(i(_e+q)),e(s(Ne+fe)),e(i(je+q)),e(s(ot+fe)),e(i(ft+q)),e(s(gt+fe)),"c"].join(" "))},Ze=function(q,fe,_e,Ne){for(var je=2*Math.PI,ot=Math.PI/2;fe>_e;)fe-=je;var ft=Math.abs(_e-fe);ft<je&&Ne&&(ft=je-ft);for(var gt=[],ln=Ne?-1:1,on=fe;ft>1e-5;){var Rn=on+ln*Math.min(ft,ot);gt.push(ht.call(this,q,on,Rn)),ft-=Math.abs(Rn-on),on=Rn}return gt},ht=function(q,fe,_e){var Ne=(_e-fe)/2,je=q*Math.cos(Ne),ot=q*Math.sin(Ne),ft=je,gt=-ot,ln=ft*ft+gt*gt,on=ln+ft*je+gt*ot,Rn=4/3*(Math.sqrt(2*ln*on)-on)/(ft*ot-gt*je),Un=ft-Rn*gt,Ir=gt+Rn*ft,At=Un,be=-Ir,Vr=Ne+fe,tr=Math.cos(Vr),rn=Math.sin(Vr);return{x1:q*Math.cos(fe),y1:q*Math.sin(fe),x2:Un*tr-Ir*rn,y2:Un*rn+Ir*tr,x3:At*tr-be*rn,y3:At*rn+be*tr,x4:q*Math.cos(_e),y4:q*Math.sin(_e)}},Xe=function(q){return 180*q/Math.PI},Mt=function(q,fe,_e,Ne,je,ot){var ft=q+.5*(_e-q),gt=fe+.5*(Ne-fe),ln=je+.5*(_e-je),on=ot+.5*(Ne-ot),Rn=Math.min(q,je,ft,ln),Un=Math.max(q,je,ft,ln),Ir=Math.min(fe,ot,gt,on),At=Math.max(fe,ot,gt,on);return new c(Rn,Ir,Un-Rn,At-Ir)},Et=function(q,fe,_e,Ne,je,ot,ft,gt){var ln,on,Rn,Un,Ir,At,be,Vr,tr,rn,_n,Tn,Sn,lr,Br=_e-q,Yr=Ne-fe,ni=je-_e,Di=ot-Ne,is=ft-je,Tr=gt-ot;for(on=0;on<41;on++)tr=(be=(Rn=q+(ln=on/40)*Br)+ln*((Ir=_e+ln*ni)-Rn))+ln*(Ir+ln*(je+ln*is-Ir)-be),rn=(Vr=(Un=fe+ln*Yr)+ln*((At=Ne+ln*Di)-Un))+ln*(At+ln*(ot+ln*Tr-At)-Vr),0==on?(_n=tr,Tn=rn,Sn=tr,lr=rn):(_n=Math.min(_n,tr),Tn=Math.min(Tn,rn),Sn=Math.max(Sn,tr),lr=Math.max(lr,rn));return new c(Math.round(_n),Math.round(Tn),Math.round(Sn-_n),Math.round(lr-Tn))},bn=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _e=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==_e&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=_e)}}})(gr.API),function(n){var e=function(s){var o,c,u,h,g,_,I,w,x,R;for(/[^\x00-\xFF]/.test(s),c=[],u=0,h=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;h>u;u+=4)0!==(g=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))?(_=(g=((g=((g=((g=(g-(R=g%85))/85)-(x=g%85))/85)-(w=g%85))/85)-(I=g%85))/85)%85,c.push(_+33,I+33,w+33,x+33,R+33)):c.push(122);return function(O,L){for(var U=L;U>0;U--)O.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},t=function(s){var o,c,u,h,g,_=String,I="length",w=255,x="charCodeAt",R="slice",O="replace";for(s[R](-2),s=s[R](0,-2)[O](/\s/g,"")[O]("z","!!!!!"),u=[],h=0,g=(s+=o="uuuuu"[R](s[I]%5||5))[I];g>h;h+=5)c=52200625*(s[x](h)-33)+614125*(s[x](h+1)-33)+7225*(s[x](h+2)-33)+85*(s[x](h+3)-33)+(s[x](h+4)-33),u.push(w&c>>24,w&c>>16,w&c>>8,w&c);return function(L,U){for(var Y=U;Y>0;Y--)L.pop()}(u,o[I]),_.fromCharCode.apply(_,u)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===o.test(s))return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},i=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return(o=m_(o)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};n.processDataByFilters=function(s,o){var c=0,u=s||"",h=[];for("string"==typeof(o=o||[])&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(gr.API),function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=!1!==s,o="function"==typeof o?o:function(){};var c=void 0;try{c=function(u,h,g){var _=new XMLHttpRequest,I=0,w=function(x){var R=x.length,O=[],L=String.fromCharCode;for(I=0;I<R;I+=1)O.push(L(255&x.charCodeAt(I)));return O.join("")};if(_.open("GET",u,!h),_.overrideMimeType("text/plain; charset=x-user-defined"),!1===h&&(_.onload=function(){g(200===_.status?w(this.responseText):void 0)}),_.send(null),h&&200===_.status)return w(_.responseText)}(i,s,o)}catch{}return c}(e,t,r)},n.loadImageFile=n.loadFile}(gr.API),function(n){function e(){return(pr.html2canvas?Promise.resolve(pr.html2canvas):Q.e(159).then(Q.t.bind(Q,4159,23))).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(pr.DOMPurify?Promise.resolve(pr.DOMPurify):Q.e(735).then(Q.t.bind(Q,2735,23))).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=Fi(o);return"undefined"===c?"undefined":"string"===c||o instanceof String?"string":"number"===c||o instanceof Number?"number":"function"===c||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&1===o.nodeType?"element":"object"===c?"object":"unknown"},i=function(o,c){var u=document.createElement(o);for(var h in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[h]=c.style[h];return u},s=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),u);return(h=h.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(u){switch(r(u)){case"string":return"string";case"element":return"canvas"===u.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function u(h,g){for(var _=3===h.nodeType?document.createTextNode(h.nodeValue):h.cloneNode(!1),I=h.firstChild;I;I=I.nextSibling)!0!==g&&1===I.nodeType&&"SCRIPT"===I.nodeName||_.appendChild(u(I,g));return 1===h.nodeType&&("CANVAS"===h.nodeName?(_.width=h.width,_.height=h.height,_.getContext("2d").drawImage(h,0,0)):"TEXTAREA"!==h.nodeName&&"SELECT"!==h.nodeName||(_.value=h.value),_.addEventListener("load",function(){_.scrollTop=h.scrollTop,_.scrollLeft=h.scrollLeft},!0)),_}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===c.tagName&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(c){var u=this.opt.jsPDF,h=this.opt.fontFaces,g="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,u.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var I=0;I<h.length;++I){var w=h[I],x=w.src.find(function(R){return"truetype"===R.format});x&&u.addFont(x.url,w.ref.name,w.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=0==_.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,u.context2d.save(!0),c(this.prop.container,_)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,c,u){return"img"===(u=u||"pdf").toLowerCase()||"image"===u.toLowerCase()?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if("object"!==r(o))return this;var c=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(o,c){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(2===o.length&&(o=[o[0],o[1],o[0],o[1]]),4===o.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(o=o||gr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,c,u,h){return null!=o&&(this.progress.val=o),null!=c&&(this.progress.state=c),null!=u&&(this.progress.n=u),null!=h&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,u,h){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(h,g){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(_){return u.updateProgress(null,h),_}).then(h,g).then(function(_){return u.updateProgress(1),_})})},s.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),c&&(c=c.bind(this));var h=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),g=u.call(h,o,c);return s.convert(g,this.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,gr.getPageSize=function(o,c,u){if("object"===Fi(o)){var h=o;o=h.orientation,c=h.unit||c,u=h.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var g,_=(""+u).toLowerCase(),I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+c}var w,x=0,R=0;if(I.hasOwnProperty(_))x=I[_][1]/g,R=I[_][0]/g;else try{x=u[1],R=u[0]}catch{throw new Error("Invalid format: "+u)}if("p"===o||"portrait"===o)o="p",R>x&&(w=R,R=x,x=w);else{if("l"!==o&&"landscape"!==o)throw"Invalid orientation: "+o;o="l",x>R&&(w=R,R=x,x=w)}return{width:R,height:x,unit:c,k:g,orientation:o}},n.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(yE):null;var u=new s(c);return c.worker?u:u.from(o).doCallback()}}(gr.API),gr.API.addJS=function(n){return Ic=n,this.internal.events.subscribe("postPutResources",function(){_v=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_v+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),nl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ic+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==_v&&void 0!==nl&&this.internal.out("/Names <</JavaScript "+_v+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],c=r.exec(o);null!=c&&t.internal.newObjectDeferredBegin(c[1],!1),t.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,g=[];for(s=0;s<h;s++){var _=t.internal.newObject();g.push(_);var I=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+I.objId+" 0 R /XYZ null null null]>> endobj")}var w=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<g.length;s++)t.internal.write("(page_"+(s+1)+")"+g[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+w+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return null==r&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var u=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},t.outline.line=function(r){this.ctx.val+=r+"\r\n"},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+="\r\n"+r.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(gr.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,c){var u,h=this.decode.DCT_DECODE,g=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=o||t)?new Uint8Array(t):t,(u=function(_){for(var I,w=256*_.charCodeAt(4)+_.charCodeAt(5),x=_.length,R={width:0,height:0,numcomponents:1},O=4;O<x;O+=2){if(-1!==e.indexOf(_.charCodeAt((O+=w)+1))){I=256*_.charCodeAt(O+5)+_.charCodeAt(O+6),R={width:256*_.charCodeAt(O+7)+_.charCodeAt(O+8),height:I,numcomponents:_.charCodeAt(O+9)};break}w=256*_.charCodeAt(O+2)+_.charCodeAt(O+3)}return R}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}g={data:t,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:h,index:r,alias:i}}return g}}(gr.API);var Wh,I_,vA,bA,wA,ck=function(){var n,e,t;function r(s){var o,u,h,g,_,I,w,x,R,O,L,U,Y;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},_=null;;){switch(o=this.readUInt32(),x=function(){var te,ce;for(ce=[],te=0;te<4;++te)ce.push(String.fromCharCode(this.data[this.pos++]));return ce}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":_&&this.animation.frames.push(_),this.pos+=4,_={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},g=this.readUInt16(),h=this.readUInt16()||100,_.delay=1e3*g/h,_.disposeOp=this.data[this.pos++],_.blendOp=this.data[this.pos++],_.data=[];break;case"IDAT":case"fdAT":for("fdAT"===x&&(this.pos+=4,o-=4),s=_?.data||this.imgData,L=0;0<=o?L<o:L>o;0<=o?++L:--L)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((R=u-this.transparency.indexed.length)>0)for(U=0;0<=R?U<R:U>R;0<=R?++U:--U)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":I=(O=this.read(o)).indexOf(0),w=String.fromCharCode.apply(String,O.slice(0,I)),this.text[w]=String.fromCharCode.apply(String,O.slice(I+1));break;case"IEND":return _&&this.animation.frames.push(_),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(Y=this.colorType)||6===Y,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,c;for(c=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)c.push(this.data[this.pos++]);return c},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*o),u=0,h=this;if(null==s&&(s=this.imgData),0===s.length)return new Uint8Array(0);function g(_,I,w,x){var R,O,L,U,Y,te,ce,ye,le,Be,nt,se,ie,Se,Ee,ze,Ze,ht,Xe,Mt,Et=Math.ceil((h.width-_)/w),bn=Math.ceil((h.height-I)/x),q=h.width==Et&&h.height==bn;for(ie=o*Et,nt=q?c:new Uint8Array(ie*bn),te=s.length,se=0,O=0;se<bn&&u<te;){switch(s[u++]){case 0:for(U=ze=0;ze<ie;U=ze+=1)nt[O++]=s[u++];break;case 1:for(U=Ze=0;Ze<ie;U=Ze+=1)R=s[u++],Y=U<o?0:nt[O-o],nt[O++]=(R+Y)%256;break;case 2:for(U=ht=0;ht<ie;U=ht+=1)R=s[u++],L=(U-U%o)/o,nt[O++]=((Se=se&&nt[(se-1)*ie+L*o+U%o])+R)%256;break;case 3:for(U=Xe=0;Xe<ie;U=Xe+=1)R=s[u++],L=(U-U%o)/o,Y=U<o?0:nt[O-o],Se=se&&nt[(se-1)*ie+L*o+U%o],nt[O++]=(R+Math.floor((Y+Se)/2))%256;break;case 4:for(U=Mt=0;Mt<ie;U=Mt+=1)R=s[u++],L=(U-U%o)/o,0===se?Se=Ee=0:(Se=nt[(se-1)*ie+L*o+U%o],Ee=L&&nt[(se-1)*ie+(L-1)*o+U%o]),ce=(Y=U<o?0:nt[O-o])+Se-Ee,ye=Math.abs(ce-Y),le=Math.abs(ce-Se),Be=Math.abs(ce-Ee),nt[O++]=(R+(ye<=le&&ye<=Be?Y:le<=Be?Se:Ee))%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!q){var fe=((I+se*x)*h.width+_)*o,_e=se*ie;for(U=0;U<Et;U+=1){for(var Ne=0;Ne<o;Ne+=1)c[fe++]=nt[_e++];fe+=(w-1)*o}}se++}}return s=cv(s),1==h.interlaceMethod?(g(0,0,8,8),g(4,0,8,8),g(0,4,4,8),g(2,0,4,4),g(0,2,2,4),g(1,0,2,2),g(0,1,1,2)):g(0,0,1,1),c},r.prototype.decodePalette=function(){var s,o,c,u,h,g,_,I,w;for(c=this.palette,g=this.transparency.indexed||[],h=new Uint8Array((g.length||0)+c.length),u=0,s=0,o=_=0,I=c.length;_<I;o=_+=3)h[u++]=c[o],h[u++]=c[o+1],h[u++]=c[o+2],h[u++]=null!=(w=g[s++])?w:255;return h},r.prototype.copyToImageData=function(s,o){var c,u,h,g,_,I,w,x,R,O,L;if(u=this.colors,R=null,c=this.hasAlphaChannel,this.palette.length&&(R=null!=(L=this._decodedPalette)?L:this._decodedPalette=this.decodePalette(),u=4,c=!0),x=(h=s.data||s).length,_=R||o,g=I=0,1===u)for(;g<x;)w=R?4*o[g/4]:I,O=_[w++],h[g++]=O,h[g++]=O,h[g++]=O,h[g++]=c?_[w++]:255,I=w;else for(;g<x;)w=R?4*o[g/4]:I,h[g++]=_[w++],h[g++]=_[w++],h[g++]=_[w++],h[g++]=c?_[w++]:255,I=w},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if("[object Window]"===Object.prototype.toString.call(pr)){try{e=pr.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(!0===i())return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,c,u,h,g,_,I,w;if(this.animation){for(w=[],c=g=0,_=(I=this.animation.frames).length;g<_;c=++g)u=s.createImageData((o=I[c]).width,o.height),h=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,h),o.imageData=u,w.push(o.image=n(u));return w}},r.prototype.renderFrame=function(s,o){var c,u,h;return c=(u=this.animation.frames)[o],h=u[o-1],0===o&&s.clearRect(0,0,this.width,this.height),1===h?.disposeOp?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):2===h?.disposeOp&&s.putImageData(h.imageData,h.xOffset,h.yOffset),0===c.blendOp&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},r.prototype.animate=function(s){var o,c,u,h,g,_,I=this;return c=0,h=(_=this.animation).numFrames,u=_.frames,g=_.numPlays,(o=function(){var w,x;if(w=c++%h,x=u[w],I.renderFrame(s,w),h>1&&c/h<g)return I.animation._timeout=setTimeout(o,x.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout(null!=(s=this.animation)?s._timeout:void 0)},r.prototype.render=function(s){var o,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(c=o.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),o.putImageData(c,0,0))},r}();function EE(n){var e=0;if(71!==n[e++]||73!==n[e++]||70!==n[e++]||56!==n[e++]||56!=(n[e++]+1&253)||97!==n[e++])throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=1<<1+(7&i);e++,e++;var c=null,u=null;i>>7&&(c=e,u=o,e+=3*o);var h=!0,g=[],_=0,I=null,w=0,x=null;for(this.width=t,this.height=r;h&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(11!==n[e]||78==n[e+1]&&69==n[e+2]&&84==n[e+3]&&83==n[e+4]&&67==n[e+5]&&65==n[e+6]&&80==n[e+7]&&69==n[e+8]&&50==n[e+9]&&46==n[e+10]&&48==n[e+11]&&3==n[e+12]&&1==n[e+13]&&0==n[e+16])e+=14,x=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((se=n[e++])>=0))throw Error("Invalid block size");if(0===se)break;e+=se}break;case 249:if(4!==n[e++]||0!==n[e+4])throw new Error("Invalid graphics extension block.");var R=n[e++];_=n[e++]|n[e++]<<8,I=n[e++],0==(1&R)&&(I=null),w=R>>2&7,e++;break;case 254:for(;;){if(!((se=n[e++])>=0))throw Error("Invalid block size");if(0===se)break;e+=se}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var O=n[e++]|n[e++]<<8,L=n[e++]|n[e++]<<8,U=n[e++]|n[e++]<<8,Y=n[e++]|n[e++]<<8,te=n[e++],ce=te>>6&1,ye=1<<1+(7&te),pe=c,le=u,Be=!1;te>>7&&(Be=!0,pe=e,le=ye,e+=3*ye);var nt=e;for(e++;;){var se;if(!((se=n[e++])>=0))throw Error("Invalid block size");if(0===se)break;e+=se}g.push({x:O,y:L,width:U,height:Y,has_local_palette:Be,palette_offset:pe,palette_size:le,data_offset:nt,data_length:e-nt,transparent_index:I,interlaced:!!ce,delay:_,disposal:w});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return x},this.frameInfo=function(ie){if(ie<0||ie>=g.length)throw new Error("Frame index out of range.");return g[ie]},this.decodeAndBlitFrameBGRA=function(ie,Se){var Ee=this.frameInfo(ie),ze=Ee.width*Ee.height,Ze=new Uint8Array(ze);Xp(n,Ee.data_offset,Ze,ze);var ht=Ee.palette_offset,Xe=Ee.transparent_index;null===Xe&&(Xe=256);var Mt=Ee.width,Et=t-Mt,bn=Mt,q=4*(Ee.y*t+Ee.x),fe=4*((Ee.y+Ee.height)*t+Ee.x),_e=q,Ne=4*Et;!0===Ee.interlaced&&(Ne+=4*t*7);for(var je=8,ot=0,ft=Ze.length;ot<ft;++ot){var gt=Ze[ot];if(0===bn&&(bn=Mt,(_e+=Ne)>=fe&&(Ne=4*Et+4*t*(je-1),_e=q+(Mt+Et)*(je<<1),je>>=1)),gt===Xe)_e+=4;else{var ln=n[ht+3*gt],on=n[ht+3*gt+1];Se[_e++]=n[ht+3*gt+2],Se[_e++]=on,Se[_e++]=ln,Se[_e++]=255}--bn}},this.decodeAndBlitFrameRGBA=function(ie,Se){var Ee=this.frameInfo(ie),ze=Ee.width*Ee.height,Ze=new Uint8Array(ze);Xp(n,Ee.data_offset,Ze,ze);var ht=Ee.palette_offset,Xe=Ee.transparent_index;null===Xe&&(Xe=256);var Mt=Ee.width,Et=t-Mt,bn=Mt,q=4*(Ee.y*t+Ee.x),fe=4*((Ee.y+Ee.height)*t+Ee.x),_e=q,Ne=4*Et;!0===Ee.interlaced&&(Ne+=4*t*7);for(var je=8,ot=0,ft=Ze.length;ot<ft;++ot){var gt=Ze[ot];if(0===bn&&(bn=Mt,(_e+=Ne)>=fe&&(Ne=4*Et+4*t*(je-1),_e=q+(Mt+Et)*(je<<1),je>>=1)),gt===Xe)_e+=4;else{var on=n[ht+3*gt+1],Rn=n[ht+3*gt+2];Se[_e++]=n[ht+3*gt],Se[_e++]=on,Se[_e++]=Rn,Se[_e++]=255}--bn}}}function Xp(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,c=o+1,u=i+1,h=(1<<u)-1,g=0,_=0,I=0,w=n[e++],x=new Int32Array(4096),R=null;;){for(;g<16&&0!==w;)_|=n[e++]<<g,g+=8,1===w?w=n[e++]:--w;if(g<u)break;var O=_&h;if(_>>=u,g-=u,O!==s){if(O===o)break;for(var L=O<c?O:R,U=0,Y=L;Y>s;)Y=x[Y]>>8,++U;var te=Y;if(I+U+(L!==O?1:0)>r)return void bi.log("Warning, gif stream longer than expected.");t[I++]=te;var ce=I+=U;for(L!==O&&(t[I++]=te),Y=L;U--;)t[--ce]=255&(Y=x[Y]),Y>>=8;null!==R&&c<4096&&(x[c++]=R<<8|te,c>=h+1&&u<12&&(++u,h=h<<1|1)),R=O}else c=o+1,h=(1<<(u=i+1))-1,R=null}return I!==r&&bi.log("Warning, gif stream shorter than expected."),t}function IE(n){var e,t,r,i,s,o=Math.floor,c=new Array(64),u=new Array(64),h=new Array(64),g=new Array(64),_=new Array(65535),I=new Array(65535),w=new Array(64),x=new Array(64),R=[],O=0,L=7,U=new Array(64),Y=new Array(64),te=new Array(64),ce=new Array(256),ye=new Array(2048),pe=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],le=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Be=[0,1,2,3,4,5,6,7,8,9,10,11],nt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],se=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ie=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Se=[0,1,2,3,4,5,6,7,8,9,10,11],Ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ze=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ze(q,fe){for(var _e=0,Ne=0,je=new Array,ot=1;ot<=16;ot++){for(var ft=1;ft<=q[ot];ft++)je[fe[Ne]]=[],je[fe[Ne]][0]=_e,je[fe[Ne]][1]=ot,Ne++,_e++;_e*=2}return je}function ht(q){for(var fe=q[0],_e=q[1]-1;_e>=0;)fe&1<<_e&&(O|=1<<L),_e--,--L<0&&(255==O?(Xe(255),Xe(0)):Xe(O),L=7,O=0)}function Xe(q){R.push(q)}function Mt(q){Xe(q>>8&255),Xe(255&q)}function Et(q,fe,_e,Ne,je){for(var ot,ft=je[0],gt=je[240],ln=function(rn,_n){var Tn,Sn,lr,Br,Yr,ni,Di,is,Tr,ii,Dn=0;for(Tr=0;Tr<8;++Tr){var Ua=(Tn=rn[Dn])+(is=rn[Dn+7]),Ni=Tn-is,Nu=(Sn=rn[Dn+1])+(Di=rn[Dn+6]),hs=Sn-Di,Us=(lr=rn[Dn+2])+(ni=rn[Dn+5]),qd=lr-ni,ji=(Br=rn[Dn+3])+(Yr=rn[Dn+4]),Vy=Br-Yr,ro=Ua+ji,Pu=Ua-ji,Nf=Nu+Us,io=Nu-Us;rn[Dn]=ro+Nf,rn[Dn+4]=ro-Nf;var Ur=.707106781*(io+Pu);rn[Dn+2]=Pu+Ur,rn[Dn+6]=Pu-Ur;var Vi=.382683433*((ro=Vy+qd)-(io=hs+Ni)),zy=.5411961*ro+Vi,Ca=1.306562965*io+Vi,Gd=.707106781*(Nf=qd+hs),Kd=Ni+Gd,wr=Ni-Gd;rn[Dn+5]=wr+zy,rn[Dn+3]=wr-zy,rn[Dn+1]=Kd+Ca,rn[Dn+7]=Kd-Ca,Dn+=8}for(Dn=0,Tr=0;Tr<8;++Tr){var Ru=(Tn=rn[Dn])+(is=rn[Dn+56]),Zd=Tn-is,Lc=(Sn=rn[Dn+8])+(Di=rn[Dn+48]),zo=Sn-Di,wo=(lr=rn[Dn+16])+(ni=rn[Dn+40]),ml=lr-ni,E1=(Br=rn[Dn+24])+(Yr=rn[Dn+32]),Pf=Br-Yr,ku=Ru+E1,Ou=Ru-E1,Lu=Lc+wo,Yd=Lc-wo;rn[Dn]=ku+Lu,rn[Dn+32]=ku-Lu;var Gl=.707106781*(Yd+Ou);rn[Dn+16]=Ou+Gl,rn[Dn+48]=Ou-Gl;var Xd=.382683433*((ku=Pf+ml)-(Yd=zo+Zd)),Hy=.5411961*ku+Xd,I1=1.306562965*Yd+Xd,C1=.707106781*(Lu=ml+zo),S1=Zd+C1,x1=Zd-C1;rn[Dn+40]=x1+Hy,rn[Dn+24]=x1-Hy,rn[Dn+8]=S1+I1,rn[Dn+56]=S1-I1,Dn++}for(Tr=0;Tr<64;++Tr)w[Tr]=(ii=rn[Tr]*_n[Tr])>0?ii+.5|0:ii-.5|0;return w}(q,fe),on=0;on<64;++on)x[pe[on]]=ln[on];var Rn=x[0]-_e;_e=x[0],0==Rn?ht(Ne[0]):(ht(Ne[I[ot=32767+Rn]]),ht(_[ot]));for(var Un=63;Un>0&&0==x[Un];)Un--;if(0==Un)return ht(ft),_e;for(var Ir,At=1;At<=Un;){for(var be=At;0==x[At]&&At<=Un;)++At;var Vr=At-be;if(Vr>=16){Ir=Vr>>4;for(var tr=1;tr<=Ir;++tr)ht(gt);Vr&=15}ht(je[(Vr<<4)+I[ot=32767+x[At]]]),ht(_[ot]),At++}return 63!=Un&&ht(ft),_e}function bn(q){q=Math.min(Math.max(q,1),100),s!=q&&(function(fe){for(var _e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ne=0;Ne<64;Ne++){var je=o((_e[Ne]*fe+50)/100);je=Math.min(Math.max(je,1),255),c[pe[Ne]]=je}for(var ot=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ft=0;ft<64;ft++){var gt=o((ot[ft]*fe+50)/100);gt=Math.min(Math.max(gt,1),255),u[pe[ft]]=gt}for(var ln=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],on=0,Rn=0;Rn<8;Rn++)for(var Un=0;Un<8;Un++)h[on]=1/(c[pe[on]]*ln[Rn]*ln[Un]*8),g[on]=1/(u[pe[on]]*ln[Rn]*ln[Un]*8),on++}(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),s=q)}this.encode=function(q,fe){var Sn,lr;fe&&bn(fe),R=new Array,O=0,L=7,Mt(65496),Mt(65504),Mt(16),Xe(74),Xe(70),Xe(73),Xe(70),Xe(0),Xe(1),Xe(1),Xe(0),Mt(1),Mt(1),Xe(0),Xe(0),function(){Mt(65499),Mt(132),Xe(0);for(var Sn=0;Sn<64;Sn++)Xe(c[Sn]);Xe(1);for(var lr=0;lr<64;lr++)Xe(u[lr])}(),Sn=q.width,lr=q.height,Mt(65472),Mt(17),Xe(8),Mt(lr),Mt(Sn),Xe(3),Xe(1),Xe(17),Xe(0),Xe(2),Xe(17),Xe(1),Xe(3),Xe(17),Xe(1),function(){Mt(65476),Mt(418),Xe(0);for(var Sn=0;Sn<16;Sn++)Xe(le[Sn+1]);for(var lr=0;lr<=11;lr++)Xe(Be[lr]);Xe(16);for(var Br=0;Br<16;Br++)Xe(nt[Br+1]);for(var Yr=0;Yr<=161;Yr++)Xe(se[Yr]);Xe(1);for(var ni=0;ni<16;ni++)Xe(ie[ni+1]);for(var Di=0;Di<=11;Di++)Xe(Se[Di]);Xe(17);for(var is=0;is<16;is++)Xe(Ee[is+1]);for(var Tr=0;Tr<=161;Tr++)Xe(ze[Tr])}(),Mt(65498),Mt(12),Xe(3),Xe(1),Xe(0),Xe(2),Xe(17),Xe(3),Xe(17),Xe(0),Xe(63),Xe(0);var _e=0,Ne=0,je=0;O=0,L=7,this.encode.displayName="_encode_";for(var ot,ft,gt,ln,on,Rn,Un,Ir,At,be=q.data,tr=q.height,rn=4*q.width,_n=0;_n<tr;){for(ot=0;ot<rn;){for(on=rn*_n+ot,Un=-1,Ir=0,At=0;At<64;At++)Rn=on+(Ir=At>>3)*rn+(Un=4*(7&At)),_n+Ir>=tr&&(Rn-=rn*(_n+1+Ir-tr)),ot+Un>=rn&&(Rn-=ot+Un-rn+4),ft=be[Rn++],gt=be[Rn++],ln=be[Rn++],U[At]=(ye[ft]+ye[gt+256>>0]+ye[ln+512>>0]>>16)-128,Y[At]=(ye[ft+768>>0]+ye[gt+1024>>0]+ye[ln+1280>>0]>>16)-128,te[At]=(ye[ft+1280>>0]+ye[gt+1536>>0]+ye[ln+1792>>0]>>16)-128;_e=Et(U,h,_e,e,r),Ne=Et(Y,g,Ne,t,i),je=Et(te,g,je,t,i),ot+=32}_n+=8}if(L>=0){var Tn=[];Tn[1]=L+1,Tn[0]=(1<<L+1)-1,ht(Tn)}return Mt(65497),new Uint8Array(R)},n=n||50,function(){for(var q=String.fromCharCode,fe=0;fe<256;fe++)ce[fe]=q(fe)}(),e=Ze(le,Be),t=Ze(ie,Se),r=Ze(nt,se),i=Ze(Ee,ze),function(){for(var q=1,fe=2,_e=1;_e<=15;_e++){for(var Ne=q;Ne<fe;Ne++)I[32767+Ne]=_e,_[32767+Ne]=[],_[32767+Ne][1]=_e,_[32767+Ne][0]=Ne;for(var je=-(fe-1);je<=-q;je++)I[32767+je]=_e,_[32767+je]=[],_[32767+je][1]=_e,_[32767+je][0]=fe-1+je;q<<=1,fe<<=1}}(),function(){for(var q=0;q<256;q++)ye[q]=19595*q,ye[q+256>>0]=38470*q,ye[q+512>>0]=7471*q+32768,ye[q+768>>0]=-11059*q,ye[q+1024>>0]=-21709*q,ye[q+1280>>0]=32768*q+8421375,ye[q+1536>>0]=-27439*q,ye[q+1792>>0]=-5329*q}(),bn(n)}function Cc(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function EA(n){function e(le){if(!le)throw Error("assert :P")}function t(le,Be,nt){for(var se=0;4>se;se++)if(le[Be+se]!=nt.charCodeAt(se))return!0;return!1}function r(le,Be,nt,se,ie){for(var Se=0;Se<ie;Se++)le[Be+Se]=nt[se+Se]}function i(le,Be,nt,se){for(var ie=0;ie<se;ie++)le[Be+ie]=nt}function s(le){return new Int32Array(le)}function o(le,Be){for(var nt=[],se=0;se<le;se++)nt.push(new Be);return nt}function c(le,Be){var nt=[];return function se(ie,Se,Ee){for(var ze=Ee[Se],Ze=0;Ze<ze&&(ie.push(Ee.length>Se+1?[]:new Be),!(Ee.length<Se+1));Ze++)se(ie[Ze],Se+1,Ee)}(nt,0,le),nt}var u=function(){var le=this;function Be(y,C){for(var P=1<<C-1>>>0;y&P;)P>>>=1;return P?(y&P-1)+P:y}function nt(y,C,P,F,V){e(!(F%P));do{y[C+(F-=P)]=V}while(0<F)}function se(y,C,P,F,V){if(e(2328>=V),512>=V)var W=s(512);else if(null==(W=s(V)))return 0;return function(G,X,re,de,Pe,Qe){var Je,Ue,Vt=X,yt=1<<re,Re=s(16),Fe=s(16);for(e(0!=Pe),e(null!=de),e(null!=G),e(0<re),Ue=0;Ue<Pe;++Ue){if(15<de[Ue])return 0;++Re[de[Ue]]}if(Re[0]==Pe)return 0;for(Fe[1]=0,Je=1;15>Je;++Je){if(Re[Je]>1<<Je)return 0;Fe[Je+1]=Fe[Je]+Re[Je]}for(Ue=0;Ue<Pe;++Ue)Je=de[Ue],0<de[Ue]&&(Qe[Fe[Je]++]=Ue);if(1==Fe[15])return(de=new ie).g=0,de.value=Qe[0],nt(G,Vt,1,yt,de),yt;var Ft,Kt=-1,Ut=yt-1,Fn=0,yn=1,mr=1,Cn=1<<re;for(Ue=0,Je=1,Pe=2;Je<=re;++Je,Pe<<=1){if(yn+=mr<<=1,0>(mr-=Re[Je]))return 0;for(;0<Re[Je];--Re[Je])(de=new ie).g=Je,de.value=Qe[Ue++],nt(G,Vt+Fn,Pe,Cn,de),Fn=Be(Fn,Je)}for(Je=re+1,Pe=2;15>=Je;++Je,Pe<<=1){if(yn+=mr<<=1,0>(mr-=Re[Je]))return 0;for(;0<Re[Je];--Re[Je]){if(de=new ie,(Fn&Ut)!=Kt){for(Vt+=Cn,Ft=1<<(Kt=Je)-re;15>Kt&&!(0>=(Ft-=Re[Kt]));)++Kt,Ft<<=1;yt+=Cn=1<<(Ft=Kt-re),G[X+(Kt=Fn&Ut)].g=Ft+re,G[X+Kt].value=Vt-X-Kt}de.g=Je-re,de.value=Qe[Ue++],nt(G,Vt+(Fn>>re),Pe,Cn,de),Fn=Be(Fn,Je)}}return yn!=2*Fe[15]-1?0:yt}(y,C,P,F,V,W)}function ie(){this.value=this.g=0}function Se(){this.value=this.g=0}function Ee(){this.G=o(5,ie),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Bc,Se)}function ze(y,C,P,F){e(null!=y),e(null!=C),e(2147483648>F),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=C,y.pa=P,y.Jd=C,y.Yc=P+F,y.Zc=4<=F?P+F-4+1:P,ot(y)}function Ze(y,C){for(var P=0;0<C--;)P|=gt(y,128)<<C;return P}function ht(y,C){var P=Ze(y,C);return ft(y)?-P:P}function Xe(y,C,P,F){var V,W=0;for(e(null!=y),e(null!=C),e(4294967288>F),y.Sb=F,y.Ra=0,y.u=0,y.h=0,4<F&&(F=4),V=0;V<F;++V)W+=C[P+V]<<8*V;y.Ra=W,y.bb=F,y.oa=C,y.pa=P}function Mt(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<V1-8>>>0,++y.bb,y.u-=8;_e(y)&&(y.h=1,y.u=0)}function Et(y,C){if(e(0<=C),!y.h&&C<=j1){var P=fe(y)&U1[C];return y.u+=C,Mt(y),P}return y.h=1,y.u=0}function bn(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function fe(y){return y.Ra>>>(y.u&V1-1)>>>0}function _e(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>V1}function Ne(y,C){y.u=C,y.h=_e(y)}function je(y){y.u>=sS&&(e(y.u>=sS),Mt(y))}function ot(y){e(null!=y&&null!=y.oa),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(null!=y&&null!=y.oa),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function ft(y){return Ze(y,1)}function gt(y,C){var P=y.Ca;0>y.b&&ot(y);var F=y.b,V=P*C>>>8,W=(y.I>>>F>V)+0;for(W?(P-=V,y.I-=V+1<<F>>>0):P=V+1,F=P,V=0;256<=F;)V+=8,F>>=8;return y.b-=F=7^V+Uc[F],y.Ca=(P<<F)-1,W}function ln(y,C,P){y[C+0]=P>>24&255,y[C+1]=P>>16&255,y[C+2]=P>>8&255,y[C+3]=P>>0&255}function on(y,C){return y[C+0]<<0|y[C+1]<<8}function Rn(y,C){return on(y,C)|y[C+2]<<16}function Un(y,C){return on(y,C)|on(y,C+2)<<16}function Ir(y,C){var P=1<<C;return e(null!=y),e(0<C),y.X=s(P),null==y.X?0:(y.Mb=32-C,y.Xa=C,1)}function At(y,C){e(null!=y),e(null!=C),e(y.Xa==C.Xa),r(C.X,0,y.X,0,1<<C.Xa)}function be(){this.X=[],this.Xa=this.Mb=0}function Vr(y,C,P,F){e(null!=P),e(null!=F);var V=P[0],W=F[0];return 0==V&&(V=(y*W+C/2)/C),0==W&&(W=(C*V+y/2)/y),0>=V||0>=W?0:(P[0]=V,F[0]=W,1)}function tr(y,C){return y+(1<<C)-1>>>C}function rn(y,C){return((4278255360&y)+(4278255360&C)>>>0&4278255360)+((16711935&y)+(16711935&C)>>>0&16711935)>>>0}function _n(y,C){le[C]=function(P,F,V,W,G,X,re){var de;for(de=0;de<G;++de){var Pe=le[y](X[re+de-1],V,W+de);X[re+de]=rn(P[F+de],Pe)}}}function Tn(){this.ud=this.hd=this.jd=0}function Sn(y,C){return((4278124286&(y^C))>>>1)+(y&C)>>>0}function lr(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function Br(y,C){return lr(y+(y-C+.5>>1))}function Yr(y,C,P){return Math.abs(C-P)-Math.abs(y-P)}function ni(y,C,P,F,V,W,G){for(F=W[G-1],P=0;P<V;++P)W[G+P]=F=rn(y[C+P],F)}function Di(y,C,P,F,V){var W;for(W=0;W<P;++W){var G=y[C+W],X=G>>8&255,re=16711935&(re=(re=16711935&G)+((X<<16)+X));F[V+W]=(4278255360&G)+re>>>0}}function is(y,C){C.jd=y>>0&255,C.hd=y>>8&255,C.ud=y>>16&255}function Tr(y,C,P,F,V,W){var G;for(G=0;G<F;++G){var X=C[P+G],re=X>>>8,de=X,Pe=255&(Pe=(Pe=X>>>16)+((y.jd<<24>>24)*(re<<24>>24)>>>5));de=255&(de=(de+=(y.hd<<24>>24)*(re<<24>>24)>>>5)+((y.ud<<24>>24)*(Pe<<24>>24)>>>5)),V[W+G]=(4278255360&X)+(Pe<<16)+de}}function ii(y,C,P,F,V){le[C]=function(W,G,X,re,de,Pe,Qe,Je,Ue){for(re=Qe;re<Je;++re)for(Qe=0;Qe<Ue;++Qe)de[Pe++]=V(X[F(W[G++])])},le[y]=function(W,G,X,re,de,Pe,Qe){var Je=8>>W.b,Ue=W.Ea,Vt=W.K[0],yt=W.w;if(8>Je)for(W=(1<<W.b)-1,yt=(1<<Je)-1;G<X;++G){var Re,Fe=0;for(Re=0;Re<Ue;++Re)Re&W||(Fe=F(re[de++])),Pe[Qe++]=V(Vt[Fe&yt]),Fe>>=Je}else le["VP8LMapColor"+P](re,de,Vt,yt,Pe,Qe,G,X,Ue)}}function Dn(y,C,P,F,V){for(P=C+P;C<P;){var W=y[C++];F[V++]=W>>16&255,F[V++]=W>>8&255,F[V++]=W>>0&255}}function Ua(y,C,P,F,V){for(P=C+P;C<P;){var W=y[C++];F[V++]=W>>16&255,F[V++]=W>>8&255,F[V++]=W>>0&255,F[V++]=W>>24&255}}function Ni(y,C,P,F,V){for(P=C+P;C<P;){var W=(G=y[C++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;F[V++]=W,F[V++]=G}}function Nu(y,C,P,F,V){for(P=C+P;C<P;){var W=(G=y[C++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;F[V++]=W,F[V++]=G}}function hs(y,C,P,F,V){for(P=C+P;C<P;){var W=y[C++];F[V++]=W>>0&255,F[V++]=W>>8&255,F[V++]=W>>16&255}}function Us(y,C,P,F,V,W){if(0==W)for(P=C+P;C<P;)ln(F,((W=y[C++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),V+=32;else r(F,V,y,C,P)}function qd(y,C){le[C][0]=le[y+"0"],le[C][1]=le[y+"1"],le[C][2]=le[y+"2"],le[C][3]=le[y+"3"],le[C][4]=le[y+"4"],le[C][5]=le[y+"5"],le[C][6]=le[y+"6"],le[C][7]=le[y+"7"],le[C][8]=le[y+"8"],le[C][9]=le[y+"9"],le[C][10]=le[y+"10"],le[C][11]=le[y+"11"],le[C][12]=le[y+"12"],le[C][13]=le[y+"13"],le[C][14]=le[y+"0"],le[C][15]=le[y+"0"]}function ji(y){return y==vU||y==bU||y==nP||y==wU}function Vy(){this.eb=[],this.size=this.A=this.fb=0}function ro(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Pu(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vy,this.f.kb=new ro,this.sd=null}function Nf(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function io(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ur(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Vi(y,C){var P=y.T,F=C.ba.f.RGBA,V=F.eb,W=F.fb+y.ka*F.A,G=Xl[C.ba.S],X=y.y,re=y.O,de=y.f,Pe=y.N,Qe=y.ea,Je=y.W,Ue=C.cc,Vt=C.dc,yt=C.Mc,Re=C.Nc,Fe=y.ka,Ft=y.ka+y.T,Kt=y.U,Ut=Kt+1>>1;for(0==Fe?G(X,re,null,null,de,Pe,Qe,Je,de,Pe,Qe,Je,V,W,null,null,Kt):(G(C.ec,C.fc,X,re,Ue,Vt,yt,Re,de,Pe,Qe,Je,V,W-F.A,V,W,Kt),++P);Fe+2<Ft;Fe+=2)G(X,(re+=2*y.fa)-y.fa,X,re,Ue=de,Vt=Pe,yt=Qe,Re=Je,de,Pe+=y.Rc,Qe,Je+=y.Rc,V,(W+=2*F.A)-F.A,V,W,Kt);return re+=y.fa,y.j+Ft<y.o?(r(C.ec,C.fc,X,re,Kt),r(C.cc,C.dc,de,Pe,Ut),r(C.Mc,C.Nc,Qe,Je,Ut),P--):1&Ft||G(X,re,null,null,de,Pe,Qe,Je,de,Pe,Qe,Je,V,W+F.A,null,null,Kt),P}function zy(y,C,P){var F=y.F,V=[y.J];if(null!=F){var W=y.U,G=C.ba.S,X=G==tP||G==nP;C=C.ba.f.RGBA;var re=[0],de=y.ka;re[0]=y.T,y.Kb&&(0==de?--re[0]:(--de,V[0]-=y.width),y.j+y.ka+y.T==y.o&&(re[0]=y.o-y.j-de));var Pe=C.eb;y=YN(F,V[0],y.width,W,re,Pe,(de=C.fb+de*C.A)+(X?0:3),C.A),e(P==re),y&&ji(G)&&cm(Pe,de,X,W,re,C.A)}return 0}function Ca(y){var C=y.ma,P=C.ba.S,F=11>P,V=P==JN||P==eP||P==tP||P==yU||12==P||ji(P);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!rS(C.Oa,y,V?11:12))return 0;if(V&&ji(P)&&en(),y.da)alert("todo:use_scaling");else{if(F){if(C.Ib=Ur,y.Kb){if(C.memory=s(y.U+2*(P=y.U+1>>1)),null==C.memory)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+y.U,C.Mc=C.cc,C.Nc=C.dc+P,C.Ib=Vi,en()}}else alert("todo:EmitYUV");V&&(C.Jb=zy,F&&qe())}if(F&&!eX){for(y=0;256>y;++y)$1e[y]=89858*(y-128)+iP>>rP,G1e[y]=-22014*(y-128)+iP,q1e[y]=-45773*(y-128),W1e[y]=113618*(y-128)+iP>>rP;for(y=dS;y<CU;++y)K1e[y-dS]=_l(C=76283*(y-16)+iP>>rP,255),Z1e[y-dS]=_l(C+8>>4,15);eX=1}return 1}function Gd(y){var C=y.ma,P=y.U,F=y.T;return e(!(1&y.ka)),0>=P||0>=F?0:(P=C.Ib(y,C),null!=C.Jb&&C.Jb(y,C,P),C.Dc+=P,1)}function Kd(y){y.ma.memory=null}function wr(y,C,P,F){return 47!=Et(y,8)?0:(C[0]=Et(y,14)+1,P[0]=Et(y,14)+1,F[0]=Et(y,1),0!=Et(y,3)?0:!y.h)}function Ru(y,C){if(4>y)return y+1;var P=y-2>>1;return(2+(1&y)<<P)+Et(C,P)+1}function Zd(y,C){return 120<C?C-120:1<=(P=((P=M1e[C-1])>>4)*y+(8-(15&P)))?P:1;var P}function Lc(y,C,P){var F=fe(P),V=y[C+=255&F].g-8;return 0<V&&(Ne(P,P.u+8),F=fe(P),C+=y[C].value,C+=F&(1<<V)-1),Ne(P,P.u+y[C].g),y[C].value}function zo(y,C,P){return P.g+=y.g,P.value+=y.value<<C>>>0,e(8>=P.g),y.g}function wo(y,C,P){var F=y.xc;return e((C=0==F?0:y.vc[y.md*(P>>F)+(C>>F)])<y.Wb),y.Ya[C]}function ml(y,C,P,F){var V=y.ab,W=y.c*C,G=y.C;C=G+C;var X=P,re=F;for(F=y.Ta,P=y.Ua;0<V--;){var de=y.gc[V],Pe=G,Qe=C,Je=X,Ue=re,Vt=(re=F,X=P,de.Ea);switch(e(Pe<Qe),e(Qe<=de.nc),de.hc){case 2:ZN(Je,Ue,(Qe-Pe)*Vt,re,X);break;case 0:var yt=Pe,Re=Qe,Fe=re,Ft=X,Kt=(Cn=de).Ea;0==yt&&(pU(Je,Ue,null,null,1,Fe,Ft),ni(Je,Ue+1,0,0,Kt-1,Fe,Ft+1),Ue+=Kt,Ft+=Kt,++yt);for(var Ut=1<<Cn.b,Fn=Ut-1,yn=tr(Kt,Cn.b),mr=Cn.K,Cn=Cn.w+(yt>>Cn.b)*yn;yt<Re;){var Bi=mr,Zi=Cn,Mi=1;for(oS(Je,Ue,Fe,Ft-Kt,1,Fe,Ft);Mi<Kt;){var di=(Mi&~Fn)+Ut;di>Kt&&(di=Kt),(0,im[Bi[Zi++]>>8&15])(Je,Ue+ +Mi,Fe,Ft+Mi-Kt,di-Mi,Fe,Ft+Mi),Mi=di}Ue+=Kt,Ft+=Kt,++yt&Fn||(Cn+=yn)}Qe!=de.nc&&r(re,X-Vt,re,X+(Qe-Pe-1)*Vt,Vt);break;case 1:for(Vt=Je,Re=Ue,Kt=(Je=de.Ea)-(Ft=Je&~(Fe=(Ue=1<<de.b)-1)),yt=tr(Je,de.b),Ut=de.K,de=de.w+(Pe>>de.b)*yt;Pe<Qe;){for(Fn=Ut,yn=de,mr=new Tn,Cn=Re+Ft,Bi=Re+Je;Re<Cn;)is(Fn[yn++],mr),Kl(mr,Vt,Re,Ue,re,X),Re+=Ue,X+=Ue;Re<Bi&&(is(Fn[yn++],mr),Kl(mr,Vt,Re,Kt,re,X),Re+=Kt,X+=Kt),++Pe&Fe||(de+=yt)}break;case 3:if(Je==re&&Ue==X&&0<de.b){for(Re=re,Je=Vt=X+(Qe-Pe)*Vt-(Ft=(Qe-Pe)*tr(de.Ea,de.b)),Ue=re,Fe=X,yt=[],Ft=(Kt=Ft)-1;0<=Ft;--Ft)yt[Ft]=Ue[Fe+Ft];for(Ft=Kt-1;0<=Ft;--Ft)Re[Je+Ft]=yt[Ft];ju(de,Pe,Qe,re,Vt,re,X)}else ju(de,Pe,Qe,Je,Ue,re,X)}X=F,re=P}re!=P&&r(F,P,X,re,W)}function E1(y,C){var P=y.V,F=y.Ba+y.c*y.C,V=C-y.C;if(e(C<=y.l.o),e(16>=V),0<V){var W=y.l,G=y.Ta,X=y.Ua,re=W.width;if(ml(y,V,P,F),V=X=[X],e((P=y.C)<(F=C)),e(W.v<W.va),F>W.o&&(F=W.o),P<W.j){var de=W.j-P;P=W.j,V[0]+=de*re}if(P>=F?P=0:(V[0]+=4*W.v,W.ka=P-W.j,W.U=W.va-W.v,W.T=F-P,P=1),P){if(X=X[0],11>(P=y.ca).S){var Pe=P.f.RGBA,Qe=(F=P.S,V=W.U,W=W.T,de=Pe.eb,Pe.A),Je=W;for(Pe=Pe.fb+y.Ma*Pe.A;0<Je--;){var Ue=G,Vt=X,yt=V,Re=de,Fe=Pe;switch(F){case QN:Vu(Ue,Vt,yt,Re,Fe);break;case JN:sm(Ue,Vt,yt,Re,Fe);break;case vU:sm(Ue,Vt,yt,Re,Fe),cm(Re,Fe,0,yt,1,0);break;case $Y:z1(Ue,Vt,yt,Re,Fe);break;case eP:Us(Ue,Vt,yt,Re,Fe,1);break;case bU:Us(Ue,Vt,yt,Re,Fe,1),cm(Re,Fe,0,yt,1,0);break;case tP:Us(Ue,Vt,yt,Re,Fe,0);break;case nP:Us(Ue,Vt,yt,Re,Fe,0),cm(Re,Fe,1,yt,1,0);break;case yU:Jd(Ue,Vt,yt,Re,Fe);break;case wU:Jd(Ue,Vt,yt,Re,Fe),W1(Re,Fe,yt,1,0);break;case WY:Lf(Ue,Vt,yt,Re,Fe);break;default:e(0)}X+=re,Pe+=Qe}y.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=P.height)}}y.C=C,e(y.C<=y.i)}function Pf(y){var C;if(0<y.ua)return 0;for(C=0;C<y.Wb;++C){var P=y.Ya[C].G,F=y.Ya[C].H;if(0<P[1][F[1]+0].g||0<P[2][F[2]+0].g||0<P[3][F[3]+0].g)return 0}return 1}function ku(y,C,P,F,V,W){if(0!=y.Z){var G=y.qd,X=y.rd;for(e(null!=um[y.Z]);C<P;++C)um[y.Z](G,X,F,V,F,V,W),G=F,X=V,V+=W;y.qd=G,y.rd=X}}function Ou(y,C){var P=y.l.ma,F=0==P.Z||1==P.Z?y.l.j:y.C;if(F=y.C<F?F:y.C,e(C<=y.l.o),C>F){var V=y.l.width,W=P.ca,G=P.tb+V*F,X=y.V,re=y.Ba+y.c*F,de=y.gc;e(1==y.ab),e(3==de[0].hc),gU(de[0],F,C,X,re,W,G),ku(P,F,C,W,G,V)}y.C=y.Ma=C}function Lu(y,C,P,F,V,W,G){var X=y.$/F,re=y.$%F,de=y.m,Pe=y.s,Qe=P+y.$,Je=Qe;V=P+F*V;var Ue=P+F*W,Vt=280+Pe.ua,yt=y.Pb?X:16777216,Re=0<Pe.ua?Pe.Wa:null,Fe=Pe.wc,Ft=Qe<Ue?wo(Pe,re,X):null;e(y.C<W),e(Ue<=V);var Kt=!1;e:for(;;){for(;Kt||Qe<Ue;){var Ut=0;if(X>=yt){var Fn=Qe-P;e((yt=y).Pb),yt.wd=yt.m,yt.xd=Fn,0<yt.s.ua&&At(yt.s.Wa,yt.s.vb),yt=X+P1e}if(re&Fe||(Ft=wo(Pe,re,X)),e(null!=Ft),Ft.Qb&&(C[Qe]=Ft.qb,Kt=!0),!Kt)if(je(de),Ft.jc){Fn=C;var yn=Qe,mr=Ft.pd[fe(Ut=de)&Bc-1];e(Ft.jc),256>mr.g?(Ne(Ut,Ut.u+mr.g),Fn[yn]=mr.value,Ut=0):(Ne(Ut,Ut.u+mr.g-256),e(256<=mr.value),Ut=mr.value),0==Ut&&(Kt=!0)}else Ut=Lc(Ft.G[0],Ft.H[0],de);if(de.h)break;if(Kt||256>Ut){if(!Kt)if(Ft.nd)C[Qe]=(Ft.qb|Ut<<8)>>>0;else{if(je(de),Kt=Lc(Ft.G[1],Ft.H[1],de),je(de),Fn=Lc(Ft.G[2],Ft.H[2],de),yn=Lc(Ft.G[3],Ft.H[3],de),de.h)break;C[Qe]=(yn<<24|Kt<<16|Ut<<8|Fn)>>>0}if(Kt=!1,++Qe,++re>=F&&(re=0,++X,null!=G&&X<=W&&!(X%16)&&G(y,X),null!=Re))for(;Je<Qe;)Ut=C[Je++],Re.X[(506832829*Ut&4294967295)>>>Re.Mb]=Ut}else if(280>Ut){if(Ut=Ru(Ut-256,de),Fn=Lc(Ft.G[4],Ft.H[4],de),je(de),Fn=Zd(F,Fn=Ru(Fn,de)),de.h)break;if(Qe-P<Fn||V-Qe<Ut)break e;for(yn=0;yn<Ut;++yn)C[Qe+yn]=C[Qe+yn-Fn];for(Qe+=Ut,re+=Ut;re>=F;)re-=F,++X,null!=G&&X<=W&&!(X%16)&&G(y,X);if(e(Qe<=V),re&Fe&&(Ft=wo(Pe,re,X)),null!=Re)for(;Je<Qe;)Ut=C[Je++],Re.X[(506832829*Ut&4294967295)>>>Re.Mb]=Ut}else{if(!(Ut<Vt))break e;for(Kt=Ut-280,e(null!=Re);Je<Qe;)Ut=C[Je++],Re.X[(506832829*Ut&4294967295)>>>Re.Mb]=Ut;Ut=Qe,e(!(Kt>>>(Fn=Re).Xa)),C[Ut]=Fn.X[Kt],Kt=!0}Kt||e(de.h==_e(de))}if(y.Pb&&de.h&&Qe<V)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&At(y.s.vb,y.s.Wa);else{if(de.h)break e;G?.(y,X>W?W:X),y.a=0,y.$=Qe-P}return 1}return y.a=3,0}function Yd(y){e(null!=y),y.vc=null,y.yc=null,y.Ya=null;var C=y.Wa;null!=C&&(C.X=null),y.vb=null,e(null!=y)}function Gl(){var y=new fU;return null==y?null:(y.a=0,y.xb=KY,qd("Predictor","VP8LPredictors"),qd("Predictor","VP8LPredictors_C"),qd("PredictorAdd","VP8LPredictorsAdd"),qd("PredictorAdd","VP8LPredictorsAdd_C"),ZN=Di,Kl=Tr,Vu=Dn,sm=Ua,Jd=Ni,Lf=Nu,z1=hs,le.VP8LMapColor32b=aS,le.VP8LMapColor8b=mU,y)}function Xd(y,C,P,F,V){var W=1,G=[y],X=[C],re=F.m,de=F.s,Pe=null,Qe=0;e:for(;;){if(P)for(;W&&Et(re,1);){var Je=G,Ue=X,Vt=F,yt=1,Re=Vt.m,Fe=Vt.gc[Vt.ab],Ft=Et(Re,2);if(Vt.Oc&1<<Ft)W=0;else{switch(Vt.Oc|=1<<Ft,Fe.hc=Ft,Fe.Ea=Je[0],Fe.nc=Ue[0],Fe.K=[null],++Vt.ab,e(4>=Vt.ab),Ft){case 0:case 1:Fe.b=Et(Re,3)+2,yt=Xd(tr(Fe.Ea,Fe.b),tr(Fe.nc,Fe.b),0,Vt,Fe.K),Fe.K=Fe.K[0];break;case 3:var Kt,Ut=Et(Re,8)+1,Fn=16<Ut?0:4<Ut?1:2<Ut?2:3;if(Je[0]=tr(Fe.Ea,Fn),Fe.b=Fn,Kt=yt=Xd(Ut,1,0,Vt,Fe.K)){var yn,mr=Ut,Cn=Fe,Bi=1<<(8>>Cn.b),Zi=s(Bi);if(null==Zi)Kt=0;else{var Mi=Cn.K[0],di=Cn.w;for(Zi[0]=Cn.K[0][0],yn=1;yn<1*mr;++yn)Zi[yn]=rn(Mi[di+yn],Zi[yn-1]);for(;yn<4*Bi;++yn)Zi[yn]=0;Cn.K[0]=null,Cn.K[0]=Zi,Kt=1}}yt=Kt;break;case 2:break;default:e(0)}W=yt}}if(G=G[0],X=X[0],W&&Et(re,1)&&!(W=1<=(Qe=Et(re,4))&&11>=Qe)){F.a=3;break e}var fs;if(fs=W)t:{var ss,qr,Io,jc=F,Co=G,Vc=X,Yi=Qe,vl=P,bl=jc.m,ra=jc.s,Sa=[null],ac=1,Ql=0,eh=N1e[Yi];n:for(;;){if(vl&&Et(bl,1)){var ia=Et(bl,3)+2,Vf=tr(Co,ia),Yy=tr(Vc,ia),q1=Vf*Yy;if(!Xd(Vf,Yy,0,jc,Sa))break n;for(Sa=Sa[0],ra.xc=ia,ss=0;ss<q1;++ss){var dm=Sa[ss]>>8&65535;Sa[ss]=dm,dm>=ac&&(ac=dm+1)}}if(bl.h)break n;for(qr=0;5>qr;++qr){var oo=qY[qr];!qr&&0<Yi&&(oo+=1<<Yi),Ql<oo&&(Ql=oo)}var SU=o(ac*eh,ie),rX=ac,iX=o(rX,Ee);if(null==iX)var oP=null;else e(65536>=rX),oP=iX;var hS=s(Ql);if(null==oP||null==hS||null==SU){jc.a=1;break n}var aP=SU;for(ss=Io=0;ss<ac;++ss){var Wu=oP[ss],G1=Wu.G,K1=Wu.H,sX=0,cP=1,oX=0;for(qr=0;5>qr;++qr){oo=qY[qr],G1[qr]=aP,K1[qr]=Io,!qr&&0<Yi&&(oo+=1<<Yi);i:{var lP,xU=oo,uP=jc,fS=hS,Q1e=aP,J1e=Io,AU=0,hm=uP.m,ewe=Et(hm,1);if(i(fS,0,0,xU),ewe){var twe=Et(hm,1)+1,nwe=Et(hm,1),aX=Et(hm,0==nwe?1:8);fS[aX]=1,2==twe&&(fS[aX=Et(hm,8)]=1);var dP=1}else{var cX=s(19),lX=Et(hm,4)+4;if(19<lX){uP.a=3;var hP=0;break i}for(lP=0;lP<lX;++lP)cX[D1e[lP]]=Et(hm,3);var TU=void 0,pS=void 0,uX=uP,rwe=cX,fP=xU,dX=fS,DU=0,fm=uX.m,hX=8,fX=o(128,ie);r:for(;se(fX,0,7,rwe,19);){if(Et(fm,1)){var iwe=2+2*Et(fm,3);if((TU=2+Et(fm,iwe))>fP)break r}else TU=fP;for(pS=0;pS<fP&&TU--;){je(fm);var pX=fX[0+(127&fe(fm))];Ne(fm,fm.u+pX.g);var Z1=pX.value;if(16>Z1)dX[pS++]=Z1,0!=Z1&&(hX=Z1);else{var swe=16==Z1,gX=Z1-16,owe=A1e[gX],mX=Et(fm,x1e[gX])+owe;if(pS+mX>fP)break r;for(var awe=swe?hX:0;0<mX--;)dX[pS++]=awe}}DU=1;break r}DU||(uX.a=3),dP=DU}(dP=dP&&!hm.h)&&(AU=se(Q1e,J1e,8,fS,xU)),dP&&0!=AU?hP=AU:(uP.a=3,hP=0)}if(0==hP)break n;if(cP&&1==T1e[qr]&&(cP=0==aP[Io].g),sX+=aP[Io].g,Io+=hP,3>=qr){var gS,MU=hS[0];for(gS=1;gS<oo;++gS)hS[gS]>MU&&(MU=hS[gS]);oX+=MU}}if(Wu.nd=cP,Wu.Qb=0,cP&&(Wu.qb=(G1[3][K1[3]+0].value<<24|G1[1][K1[1]+0].value<<16|G1[2][K1[2]+0].value)>>>0,0==sX&&256>G1[0][K1[0]+0].value&&(Wu.Qb=1,Wu.qb+=G1[0][K1[0]+0].value<<8)),Wu.jc=!Wu.Qb&&6>oX,Wu.jc){var pP,zf=Wu;for(pP=0;pP<Bc;++pP){var pm=pP,gm=zf.pd[pm],gP=zf.G[0][zf.H[0]+pm];256<=gP.value?(gm.g=gP.g+256,gm.value=gP.value):(gm.g=0,gm.value=0,pm>>=zo(gP,8,gm),pm>>=zo(zf.G[1][zf.H[1]+pm],16,gm),pm>>=zo(zf.G[2][zf.H[2]+pm],0,gm),zo(zf.G[3][zf.H[3]+pm],24,gm))}}}ra.vc=Sa,ra.Wb=ac,ra.Ya=oP,ra.yc=SU,fs=1;break t}fs=0}if(!(W=fs)){F.a=3;break e}if(0<Qe){if(de.ua=1<<Qe,!Ir(de.Wa,Qe)){F.a=1,W=0;break e}}else de.ua=0;var NU=F,_X=G,cwe=X,PU=NU.s,RU=PU.xc;if(NU.c=_X,NU.i=cwe,PU.md=tr(_X,RU),PU.wc=0==RU?-1:(1<<RU)-1,P){F.xb=U1e;break e}if(null==(Pe=s(G*X))){F.a=1,W=0;break e}W=(W=Lu(F,Pe,0,G,X,X,null))&&!re.h;break e}return W?(null!=V?V[0]=Pe:(e(null==Pe),e(P)),F.$=0,P||Yd(de)):Yd(de),W}function Hy(y,C){var P=y.c*y.i,F=P+C+16*C;return e(y.c<=C),y.V=s(F),null==y.V?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+P+C,1)}function I1(y,C){var P=y.C,F=C-P,V=y.V,W=y.Ba+y.c*P;for(e(C<=y.l.o);0<F;){var G=16<F?16:F,X=y.l.ma,re=y.l.width,de=re*G,Pe=X.ca,Qe=X.tb+re*P,Je=y.Ta,Ue=y.Ua;ml(y,G,V,W),BY(Je,Ue,Pe,Qe,de),ku(X,P,P+G,Pe,Qe,re),F-=G,V+=G*y.c,P+=G}e(P==C),y.C=y.Ma=C}function C1(){this.ub=this.yd=this.td=this.Rb=0}function S1(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function x1(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function DN(){var y;this.Yb=(function C(P,F,V){for(var W=V[F],G=0;G<W&&(P.push(V.length>F+1?[]:0),!(V.length<F+1));G++)C(P[G],F+1,V)}(y=[],0,[3,11]),y)}function $B(){this.jb=s(3),this.Wc=c([4,8],DN),this.Xc=c([4,17],DN)}function WB(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function A1(){this.ld=this.La=this.dd=this.tc=0}function MN(){this.Na=this.la=0}function qB(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function VC(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function GB(){this.uc=this.M=this.Nb=0,this.wa=Array(new A1),this.Y=0,this.ya=Array(new VC),this.aa=0,this.l=new T1}function NN(){this.y=s(16),this.f=s(8),this.ea=s(8)}function KB(){this.cb=this.a=0,this.sc="",this.m=new bn,this.Od=new C1,this.Kc=new S1,this.ed=new WB,this.Qa=new x1,this.Ic=this.$c=this.Aa=0,this.D=new GB,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,bn),this.ia=0,this.pb=o(4,qB),this.Pa=new $B,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new NN),this.Hd=0,this.rb=Array(new MN),this.sb=0,this.wa=Array(new A1),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new VC),this.L=this.aa=0,this.gd=c([4,2],A1),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function T1(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ZB(){var y=new KB;return null!=y&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,uS||(uS=kN)),y}function mo(y,C,P){return 0==y.a&&(y.a=C,y.sc=P,y.cb=0),0}function PN(y,C,P){return 3<=P&&157==y[C+0]&&1==y[C+1]&&42==y[C+2]}function RN(y,C){if(null==y)return 0;if(y.a=0,y.sc="OK",null==C)return mo(y,2,"null VP8Io passed to VP8GetHeaders()");var P=C.data,F=C.w,V=C.ha;if(4>V)return mo(y,7,"Truncated header.");var W=P[F+0]|P[F+1]<<8|P[F+2]<<16,G=y.Od;if(G.Rb=!(1&W),G.td=W>>1&7,G.yd=W>>4&1,G.ub=W>>5,3<G.td)return mo(y,3,"Incorrect keyframe parameters.");if(!G.yd)return mo(y,4,"Frame not displayable.");F+=3,V-=3;var X=y.Kc;if(G.Rb){if(7>V)return mo(y,7,"cannot parse picture header");if(!PN(P,F,V))return mo(y,3,"Bad code word");X.c=16383&(P[F+4]<<8|P[F+3]),X.Td=P[F+4]>>6,X.i=16383&(P[F+6]<<8|P[F+5]),X.Ud=P[F+6]>>6,F+=7,V-=7,y.za=X.c+15>>4,y.Ub=X.i+15>>4,C.width=X.c,C.height=X.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,i((W=y.Pa).jb,0,255,W.jb.length),e(null!=(W=y.Qa)),W.Cb=0,W.Bb=0,W.Fb=1,i(W.Zb,0,0,W.Zb.length),i(W.Lb,0,0,W.Lb)}if(G.ub>V)return mo(y,7,"bad partition length");ze(W=y.m,P,F,G.ub),F+=G.ub,V-=G.ub,G.Rb&&(X.Ld=ft(W),X.Kd=ft(W)),X=y.Qa;var re,de=y.Pa;if(e(null!=W),e(null!=X),X.Cb=ft(W),X.Cb){if(X.Bb=ft(W),ft(W)){for(X.Fb=ft(W),re=0;4>re;++re)X.Zb[re]=ft(W)?ht(W,7):0;for(re=0;4>re;++re)X.Lb[re]=ft(W)?ht(W,6):0}if(X.Bb)for(re=0;3>re;++re)de.jb[re]=ft(W)?Ze(W,8):255}else X.Bb=0;if(W.Ka)return mo(y,3,"cannot parse segment header");if((X=y.ed).zd=ft(W),X.Tb=Ze(W,6),X.wb=Ze(W,3),X.Pc=ft(W),X.Pc&&ft(W)){for(de=0;4>de;++de)ft(W)&&(X.vd[de]=ht(W,6));for(de=0;4>de;++de)ft(W)&&(X.od[de]=ht(W,6))}if(y.L=0==X.Tb?0:X.zd?1:2,W.Ka)return mo(y,3,"cannot parse filter header");var Pe=V;if(V=re=F,F=re+Pe,X=Pe,y.Xb=(1<<Ze(y.m,2))-1,Pe<3*(de=y.Xb))P=7;else{for(re+=3*de,X-=3*de,Pe=0;Pe<de;++Pe){var Qe=P[V+0]|P[V+1]<<8|P[V+2]<<16;Qe>X&&(Qe=X),ze(y.Jc[+Pe],P,re,Qe),re+=Qe,X-=Qe,V+=3}ze(y.Jc[+de],P,re,X),P=re<F?0:5}if(0!=P)return mo(y,P,"cannot parse partitions");for(P=Ze(re=y.m,7),V=ft(re)?ht(re,4):0,F=ft(re)?ht(re,4):0,X=ft(re)?ht(re,4):0,de=ft(re)?ht(re,4):0,re=ft(re)?ht(re,4):0,Pe=y.Qa,Qe=0;4>Qe;++Qe){if(Pe.Cb){var Je=Pe.Zb[Qe];Pe.Fb||(Je+=P)}else{if(0<Qe){y.pb[Qe]=y.pb[0];continue}Je=P}var Ue=y.pb[Qe];Ue.Sc[0]=EU[_l(Je+V,127)],Ue.Sc[1]=IU[_l(Je+0,127)],Ue.Eb[0]=2*EU[_l(Je+F,127)],Ue.Eb[1]=101581*IU[_l(Je+X,127)]>>16,8>Ue.Eb[1]&&(Ue.Eb[1]=8),Ue.Qc[0]=EU[_l(Je+de,117)],Ue.Qc[1]=IU[_l(Je+re,127)],Ue.lc=Je+re}if(!G.Rb)return mo(y,4,"Not a key frame.");for(ft(W),G=y.Pa,P=0;4>P;++P){for(V=0;8>V;++V)for(F=0;3>F;++F)for(X=0;11>X;++X)de=gt(W,F1e[P][V][F][X])?Ze(W,8):O1e[P][V][F][X],G.Wc[P][V].Yb[F][X]=de;for(V=0;17>V;++V)G.Xc[P][V]=G.Wc[P][B1e[V]]}return y.kc=ft(W),y.kc&&(y.Bd=Ze(W,8)),y.cb=1}function kN(y,C,P,F,V,W,G){var X=C[V].Yb[P];for(P=0;16>V;++V){if(!gt(y,X[P+0]))return V;for(;!gt(y,X[P+1]);)if(X=C[++V].Yb[0],P=0,16==V)return 16;var re=C[V+1].Yb;if(gt(y,X[P+2])){var de=y,Pe=0;if(gt(de,(Je=X)[(Qe=P)+3]))if(gt(de,Je[Qe+6])){for(X=0,Qe=2*(Pe=gt(de,Je[Qe+8]))+(Je=gt(de,Je[Qe+9+Pe])),Pe=0,Je=R1e[Qe];Je[X];++X)Pe+=Pe+gt(de,Je[X]);Pe+=3+(8<<Qe)}else gt(de,Je[Qe+7])?(Pe=7+2*gt(de,165),Pe+=gt(de,145)):Pe=5+gt(de,159);else Pe=gt(de,Je[Qe+4])?3+gt(de,Je[Qe+5]):2;X=re[2]}else Pe=1,X=re[1];re=G+k1e[V],0>(de=y).b&&ot(de);var Qe,Je=de.b,Ue=(Qe=de.Ca>>1)-(de.I>>Je)>>31;--de.b,de.Ca+=Ue,de.Ca|=1,de.I-=(Qe+1&Ue)<<Je,W[re]=((Pe^Ue)-Ue)*F[(0<V)+0]}return 16}function zC(y){var C=y.rb[y.sb-1];C.la=0,C.Na=0,i(y.zc,0,0,y.zc.length),y.ja=0}function Fu(y,C,P,F,V){y[C+P+32*F]=-256&(V=y[C+P+32*F]+(V>>3))?0>V?0:255:V}function D1(y,C,P,F,V,W){Fu(y,C,0,P,F+V),Fu(y,C,1,P,F+W),Fu(y,C,2,P,F-W),Fu(y,C,3,P,F-V)}function Fc(y){return(20091*y>>16)+y}function HC(y,C,P,F){var V,W=0,G=s(16);for(V=0;4>V;++V){var X=y[C+0]+y[C+8],re=y[C+0]-y[C+8],de=(35468*y[C+4]>>16)-Fc(y[C+12]),Pe=Fc(y[C+4])+(35468*y[C+12]>>16);G[W+0]=X+Pe,G[W+1]=re+de,G[W+2]=re-de,G[W+3]=X-Pe,W+=4,C++}for(V=W=0;4>V;++V)X=(y=G[W+0]+4)+G[W+8],re=y-G[W+8],de=(35468*G[W+4]>>16)-Fc(G[W+12]),Fu(P,F,0,0,X+(Pe=Fc(G[W+4])+(35468*G[W+12]>>16))),Fu(P,F,1,0,re+de),Fu(P,F,2,0,re-de),Fu(P,F,3,0,X-Pe),W++,F+=32}function ON(y,C,P,F){var V=y[C+0]+4,W=35468*y[C+4]>>16,G=Fc(y[C+4]),X=35468*y[C+1]>>16;D1(P,F,0,V+G,y=Fc(y[C+1]),X),D1(P,F,1,V+W,y,X),D1(P,F,2,V-W,y,X),D1(P,F,3,V-G,y,X)}function XB(y,C,P,F,V){HC(y,C,P,F),V&&HC(y,C+16,P,F+4)}function LN(y,C,P,F){H1(y,C+0,P,F,1),H1(y,C+32,P,F+128,1)}function QB(y,C,P,F){var V;for(y=y[C+0]+4,V=0;4>V;++V)for(C=0;4>C;++C)Fu(P,F,C,V,y)}function FN(y,C,P,F){y[C+0]&&Hu(y,C+0,P,F),y[C+16]&&Hu(y,C+16,P,F+4),y[C+32]&&Hu(y,C+32,P,F+128),y[C+48]&&Hu(y,C+48,P,F+128+4)}function JB(y,C,P,F){var V,W=s(16);for(V=0;4>V;++V){var G=y[C+0+V]+y[C+12+V],X=y[C+4+V]+y[C+8+V],re=y[C+4+V]-y[C+8+V],de=y[C+0+V]-y[C+12+V];W[0+V]=G+X,W[8+V]=G-X,W[4+V]=de+re,W[12+V]=de-re}for(V=0;4>V;++V)G=(y=W[0+4*V]+3)+W[3+4*V],re=W[1+4*V]-W[2+4*V],de=y-W[3+4*V],P[F+0]=G+(X=W[1+4*V]+W[2+4*V])>>3,P[F+16]=de+re>>3,P[F+32]=G-X>>3,P[F+48]=de-re>>3,F+=64}function $C(y,C,P){var F,V=C-32,W=yl,G=255-y[V-1];for(F=0;F<P;++F){var X,re=W,de=G+y[C-1];for(X=0;X<P;++X)y[C+X]=re[de+y[V+X]];C+=32}}function eU(y,C){$C(y,C,4)}function tU(y,C){$C(y,C,8)}function nU(y,C){$C(y,C,16)}function Rf(y,C){var P;for(P=0;16>P;++P)r(y,C+32*P,y,C-32,16)}function M1(y,C){var P;for(P=16;0<P;--P)i(y,C,y[C-1],16),C+=32}function N1(y,C,P){var F;for(F=0;16>F;++F)i(C,P+32*F,y,16)}function BN(y,C){var P,F=16;for(P=0;16>P;++P)F+=y[C-1+32*P]+y[C+P-32];N1(F>>5,y,C)}function ja(y,C){var P,F=8;for(P=0;16>P;++P)F+=y[C-1+32*P];N1(F>>4,y,C)}function rU(y,C){var P,F=8;for(P=0;16>P;++P)F+=y[C+P-32];N1(F>>4,y,C)}function UN(y,C){N1(128,y,C)}function Lr(y,C,P){return y+2*C+P+2>>2}function iU(y,C){var P,F=C-32;for(F=new Uint8Array([Lr(y[F-1],y[F+0],y[F+1]),Lr(y[F+0],y[F+1],y[F+2]),Lr(y[F+1],y[F+2],y[F+3]),Lr(y[F+2],y[F+3],y[F+4])]),P=0;4>P;++P)r(y,C+32*P,F,0,F.length)}function sU(y,C){var P=y[C-1],F=y[C-1+32],V=y[C-1+64],W=y[C-1+96];ln(y,C+0,16843009*Lr(y[C-1-32],P,F)),ln(y,C+32,16843009*Lr(P,F,V)),ln(y,C+64,16843009*Lr(F,V,W)),ln(y,C+96,16843009*Lr(V,W,W))}function Qd(y,C){var P,F=4;for(P=0;4>P;++P)F+=y[C+P-32]+y[C-1+32*P];for(F>>=3,P=0;4>P;++P)i(y,C+32*P,F,4)}function jN(y,C){var P=y[C-1+0],F=y[C-1+32],V=y[C-1+64],W=y[C-1-32],G=y[C+0-32],X=y[C+1-32],re=y[C+2-32],de=y[C+3-32];y[C+0+96]=Lr(F,V,y[C-1+96]),y[C+1+96]=y[C+0+64]=Lr(P,F,V),y[C+2+96]=y[C+1+64]=y[C+0+32]=Lr(W,P,F),y[C+3+96]=y[C+2+64]=y[C+1+32]=y[C+0+0]=Lr(G,W,P),y[C+3+64]=y[C+2+32]=y[C+1+0]=Lr(X,G,W),y[C+3+32]=y[C+2+0]=Lr(re,X,G),y[C+3+0]=Lr(de,re,X)}function VN(y,C){var P=y[C+1-32],F=y[C+2-32],V=y[C+3-32],W=y[C+4-32],G=y[C+5-32],X=y[C+6-32],re=y[C+7-32];y[C+0+0]=Lr(y[C+0-32],P,F),y[C+1+0]=y[C+0+32]=Lr(P,F,V),y[C+2+0]=y[C+1+32]=y[C+0+64]=Lr(F,V,W),y[C+3+0]=y[C+2+32]=y[C+1+64]=y[C+0+96]=Lr(V,W,G),y[C+3+32]=y[C+2+64]=y[C+1+96]=Lr(W,G,X),y[C+3+64]=y[C+2+96]=Lr(G,X,re),y[C+3+96]=Lr(X,re,re)}function P1(y,C){var P=y[C-1+0],F=y[C-1+32],V=y[C-1+64],W=y[C-1-32],G=y[C+0-32],X=y[C+1-32],re=y[C+2-32],de=y[C+3-32];y[C+0+0]=y[C+1+64]=W+G+1>>1,y[C+1+0]=y[C+2+64]=G+X+1>>1,y[C+2+0]=y[C+3+64]=X+re+1>>1,y[C+3+0]=re+de+1>>1,y[C+0+96]=Lr(V,F,P),y[C+0+64]=Lr(F,P,W),y[C+0+32]=y[C+1+96]=Lr(P,W,G),y[C+1+32]=y[C+2+96]=Lr(W,G,X),y[C+2+32]=y[C+3+96]=Lr(G,X,re),y[C+3+32]=Lr(X,re,de)}function WC(y,C){var P=y[C+0-32],F=y[C+1-32],V=y[C+2-32],W=y[C+3-32],G=y[C+4-32],X=y[C+5-32],re=y[C+6-32],de=y[C+7-32];y[C+0+0]=P+F+1>>1,y[C+1+0]=y[C+0+64]=F+V+1>>1,y[C+2+0]=y[C+1+64]=V+W+1>>1,y[C+3+0]=y[C+2+64]=W+G+1>>1,y[C+0+32]=Lr(P,F,V),y[C+1+32]=y[C+0+96]=Lr(F,V,W),y[C+2+32]=y[C+1+96]=Lr(V,W,G),y[C+3+32]=y[C+2+96]=Lr(W,G,X),y[C+3+64]=Lr(G,X,re),y[C+3+96]=Lr(X,re,de)}function oU(y,C){var P=y[C-1+0],F=y[C-1+32],V=y[C-1+64],W=y[C-1+96];y[C+0+0]=P+F+1>>1,y[C+2+0]=y[C+0+32]=F+V+1>>1,y[C+2+32]=y[C+0+64]=V+W+1>>1,y[C+1+0]=Lr(P,F,V),y[C+3+0]=y[C+1+32]=Lr(F,V,W),y[C+3+32]=y[C+1+64]=Lr(V,W,W),y[C+3+64]=y[C+2+64]=y[C+0+96]=y[C+1+96]=y[C+2+96]=y[C+3+96]=W}function aU(y,C){var P=y[C-1+0],F=y[C-1+32],V=y[C-1+64],W=y[C-1+96],G=y[C-1-32],X=y[C+0-32],re=y[C+1-32],de=y[C+2-32];y[C+0+0]=y[C+2+32]=P+G+1>>1,y[C+0+32]=y[C+2+64]=F+P+1>>1,y[C+0+64]=y[C+2+96]=V+F+1>>1,y[C+0+96]=W+V+1>>1,y[C+3+0]=Lr(X,re,de),y[C+2+0]=Lr(G,X,re),y[C+1+0]=y[C+3+32]=Lr(P,G,X),y[C+1+32]=y[C+3+64]=Lr(F,P,G),y[C+1+64]=y[C+3+96]=Lr(V,F,P),y[C+1+96]=Lr(W,V,F)}function cU(y,C){var P;for(P=0;8>P;++P)r(y,C+32*P,y,C-32,8)}function qC(y,C){var P;for(P=0;8>P;++P)i(y,C,y[C-1],8),C+=32}function $y(y,C,P){var F;for(F=0;8>F;++F)i(C,P+32*F,y,8)}function em(y,C){var P,F=8;for(P=0;8>P;++P)F+=y[C+P-32]+y[C-1+32*P];$y(F>>4,y,C)}function lU(y,C){var P,F=4;for(P=0;8>P;++P)F+=y[C+P-32];$y(F>>3,y,C)}function Wy(y,C){var P,F=4;for(P=0;8>P;++P)F+=y[C-1+32*P];$y(F>>3,y,C)}function GC(y,C){$y(128,y,C)}function R1(y,C,P){var F=y[C-P],V=y[C+0],W=3*(V-F)+_U[1020+y[C-2*P]-y[C+P]],G=XN[112+(W+4>>3)];y[C-P]=yl[255+F+XN[112+(W+3>>3)]],y[C+0]=yl[255+V-G]}function zN(y,C,P,F){return Yl[255+y[C-2*P]-y[C-P]]>F||Yl[255+y[C+P]-y[C+0]]>F}function HN(y,C,P,F){return 4*Yl[255+y[C-P]-y[C+0]]+Yl[255+y[C-2*P]-y[C+P]]<=F}function $N(y,C,P,F,V){var W=y[C-3*P],G=y[C-2*P],X=y[C-P],re=y[C+0],de=y[C+P],Pe=y[C+2*P];return 4*Yl[255+X-re]+Yl[255+G-de]>F?0:Yl[255+y[C-4*P]-W]<=V&&Yl[255+W-G]<=V&&Yl[255+G-X]<=V&&Yl[255+y[C+3*P]-Pe]<=V&&Yl[255+Pe-de]<=V&&Yl[255+de-re]<=V}function WN(y,C,P,F){var V=2*F+1;for(F=0;16>F;++F)HN(y,C+F,P,V)&&R1(y,C+F,P)}function kf(y,C,P,F){var V=2*F+1;for(F=0;16>F;++F)HN(y,C+F*P,1,V)&&R1(y,C+F*P,1)}function tm(y,C,P,F){var V;for(V=3;0<V;--V)WN(y,C+=4*P,P,F)}function uU(y,C,P,F){var V;for(V=3;0<V;--V)kf(y,C+=4,P,F)}function nm(y,C,P,F,V,W,G,X){for(W=2*W+1;0<V--;){if($N(y,C,P,W,G))if(zN(y,C,P,X))R1(y,C,P);else{var re=y,de=C,Pe=P,Qe=re[de-2*Pe],Je=re[de-Pe],Ue=re[de+0],Vt=re[de+Pe],yt=re[de+2*Pe],Re=27*(Ft=_U[1020+3*(Ue-Je)+_U[1020+Qe-Vt]])+63>>7,Fe=18*Ft+63>>7,Ft=9*Ft+63>>7;re[de-3*Pe]=yl[255+re[de-3*Pe]+Ft],re[de-2*Pe]=yl[255+Qe+Fe],re[de-Pe]=yl[255+Je+Re],re[de+0]=yl[255+Ue-Re],re[de+Pe]=yl[255+Vt-Fe],re[de+2*Pe]=yl[255+yt-Ft]}C+=F}}function Bu(y,C,P,F,V,W,G,X){for(W=2*W+1;0<V--;){if($N(y,C,P,W,G))if(zN(y,C,P,X))R1(y,C,P);else{var re=y,de=C,Pe=P,Qe=re[de-Pe],Je=re[de+0],Ue=re[de+Pe],Vt=XN[112+(4+(yt=3*(Je-Qe))>>3)],yt=XN[112+(yt+3>>3)],Re=Vt+1>>1;re[de-2*Pe]=yl[255+re[de-2*Pe]+Re],re[de-Pe]=yl[255+Qe+yt],re[de+0]=yl[255+Je-Vt],re[de+Pe]=yl[255+Ue-Re]}C+=F}}function KC(y,C,P,F,V,W){nm(y,C,P,1,16,F,V,W)}function qy(y,C,P,F,V,W){nm(y,C,1,P,16,F,V,W)}function dU(y,C,P,F,V,W){var G;for(G=3;0<G;--G)Bu(y,C+=4*P,P,1,16,F,V,W)}function k1(y,C,P,F,V,W){var G;for(G=3;0<G;--G)Bu(y,C+=4,1,P,16,F,V,W)}function hU(y,C,P,F,V,W,G,X){nm(y,C,V,1,8,W,G,X),nm(P,F,V,1,8,W,G,X)}function ZC(y,C,P,F,V,W,G,X){nm(y,C,1,V,8,W,G,X),nm(P,F,1,V,8,W,G,X)}function YC(y,C,P,F,V,W,G,X){Bu(y,C+4*V,V,1,8,W,G,X),Bu(P,F+4*V,V,1,8,W,G,X)}function qN(y,C,P,F,V,W,G,X){Bu(y,C+4,1,V,8,W,G,X),Bu(P,F+4,1,V,8,W,G,X)}function O1(){this.ba=new Pu,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new io,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function XC(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function QC(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function GN(){this.ua=0,this.Wa=new be,this.vb=new be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ee,this.yc=new ie}function fU(){this.xb=this.a=0,this.l=new T1,this.ca=new Pu,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new GN,this.ab=0,this.gc=o(4,QC),this.Oc=0}function L1(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new T1,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Gy(y,C,P,F,V,W,G){for(y=null==y?0:y[C+0],C=0;C<G;++C)V[W+C]=y+P[F+C]&255,y=V[W+C]}function JC(y,C,P,F,V,W,G){var X;if(null==y)Gy(null,null,P,F,V,W,G);else for(X=0;X<G;++X)V[W+X]=y[C+X]+P[F+X]&255}function rm(y,C,P,F,V,W,G){if(null==y)Gy(null,null,P,F,V,W,G);else{var X,re=y[C+0],de=re,Pe=re;for(X=0;X<G;++X)de=Pe+(re=y[C+X])-de,Pe=P[F+X]+(-256&de?0>de?0:255:de)&255,de=re,V[W+X]=Pe}}function eS(y,C,P,F){var V=C.width,W=C.o;if(e(null!=y&&null!=C),0>P||0>=F||P+F>W)return null;if(!y.Cc){if(null==y.ga){var G;if(y.ga=new L1,(G=null==y.ga)||(G=C.width*C.o,e(0==y.Gb.length),y.Gb=s(G),y.Uc=0,null==y.Gb?G=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,G=1),G=!G),!G){var X=y.Fa,re=y.P,de=y.qc,Pe=y.mb,Qe=y.nb,Je=re+1,Ue=de-1,Vt=(G=y.ga).l;if(e(null!=X&&null!=Pe&&null!=C),um[0]=null,um[1]=Gy,um[2]=JC,um[3]=rm,G.ca=Pe,G.tb=Qe,G.c=C.width,G.i=C.height,e(0<G.c&&0<G.i),1>=de)C=0;else if(G.$a=X[re+0]>>0&3,G.Z=X[re+0]>>2&3,G.Lc=X[re+0]>>4&3,re=X[re+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||re)C=0;else if(Vt.put=Gd,Vt.ac=Ca,Vt.bc=Kd,Vt.ma=G,Vt.width=C.width,Vt.height=C.height,Vt.Da=C.Da,Vt.v=C.v,Vt.va=C.va,Vt.j=C.j,Vt.o=C.o,G.$a)e:{e(1==G.$a),C=Gl();t:for(;;){if(null==C){C=0;break e}if(e(null!=G),G.mc=C,C.c=G.c,C.i=G.i,C.l=G.l,C.l.ma=G,C.l.width=G.c,C.l.height=G.i,C.a=0,Xe(C.m,X,Je,Ue),!Xd(G.c,G.i,1,C,null)||(1==C.ab&&3==C.gc[0].hc&&Pf(C.s)?(G.ic=1,X=C.c*C.i,C.Ta=null,C.Ua=0,C.V=s(X),C.Ba=0,null==C.V?(C.a=1,C=0):C=1):(G.ic=0,C=Hy(C,G.c)),!C))break t;C=1;break e}G.mc=null,C=0}else C=Ue>=G.c*G.i;G=!C}if(G)return null;1!=y.ga.Lc?y.Ga=0:F=W-P}e(null!=y.ga),e(P+F<=W);e:{if(C=(X=y.ga).c,W=X.l.o,0==X.$a){if(Je=y.rc,Ue=y.Vc,Vt=y.Fa,de=y.mb,Pe=y.nb+P*C,e((re=y.P+1+P*C)<=y.P+y.qc),0!=X.Z)for(e(null!=um[X.Z]),G=0;G<F;++G)um[X.Z](Je,Ue,Vt,re,de,Pe,C),Je=de,Ue=Pe,Pe+=C,re+=C;else for(G=0;G<F;++G)r(de,Pe,Vt,re,C),Je=de,Ue=Pe,Pe+=C,re+=C;y.rc=Je,y.Vc=Ue}else{if(e(null!=X.mc),C=P+F,e(null!=(G=X.mc)),e(C<=G.i),G.C>=C)C=1;else if(X.ic||qe(),X.ic){X=G.V,Je=G.Ba;var yt=G.i,Re=(Vt=1,re=G.$/(Ue=G.c),de=G.$%Ue,Pe=G.m,Qe=G.s,G.$),Fe=Ue*yt,Ft=Ue*C,Kt=Qe.wc,Ut=Re<Ft?wo(Qe,de,re):null;e(Re<=Fe),e(C<=yt),e(Pf(Qe));t:for(;;){for(;!Pe.h&&Re<Ft;){if(de&Kt||(Ut=wo(Qe,de,re)),e(null!=Ut),je(Pe),256>(yt=Lc(Ut.G[0],Ut.H[0],Pe)))X[Je+Re]=yt,++Re,++de>=Ue&&(de=0,++re<=C&&!(re%16)&&Ou(G,re));else{if(!(280>yt)){Vt=0;break t}yt=Ru(yt-256,Pe);var Fn,yn=Lc(Ut.G[4],Ut.H[4],Pe);if(je(Pe),!(Re>=(yn=Zd(Ue,yn=Ru(yn,Pe)))&&Fe-Re>=yt)){Vt=0;break t}for(Fn=0;Fn<yt;++Fn)X[Je+Re+Fn]=X[Je+Re+Fn-yn];for(Re+=yt,de+=yt;de>=Ue;)de-=Ue,++re<=C&&!(re%16)&&Ou(G,re);Re<Ft&&de&Kt&&(Ut=wo(Qe,de,re))}e(Pe.h==_e(Pe))}Ou(G,re>C?C:re);break t}!Vt||Pe.h&&Re<Fe?(Vt=0,G.a=Pe.h?5:3):G.$=Re,C=Vt}else C=Lu(G,G.V,G.Ba,G.c,G.i,C,I1);if(!C){F=0;break e}}P+F>=W&&(y.Cc=1),F=1}if(!F)return null;if(y.Cc&&(null!=(F=y.ga)&&(F.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+P*V}function D(y,C,P,F,V,W){for(;0<V--;){var G,X=y,re=C+(P?1:0),de=y,Pe=C+(P?0:3);for(G=0;G<F;++G){var Qe=de[Pe+4*G];255!=Qe&&(X[re+4*G+0]=X[re+4*G+0]*(Qe*=32897)>>23,X[re+4*G+1]=X[re+4*G+1]*Qe>>23,X[re+4*G+2]=X[re+4*G+2]*Qe>>23)}C+=W}}function z(y,C,P,F,V){for(;0<F--;){var W;for(W=0;W<P;++W){var G=y[C+2*W+0],X=15&(de=y[C+2*W+1]),re=4369*X,de=(240&de|de>>4)*re>>16;y[C+2*W+0]=(240&G|G>>4)*re>>16&240|(15&G|G<<4)*re>>16>>4&15,y[C+2*W+1]=240&de|X}C+=V}}function ge(y,C,P,F,V,W,G,X){var re,de,Pe=255;for(de=0;de<V;++de){for(re=0;re<F;++re){var Qe=y[C+re];W[G+4*re]=Qe,Pe&=Qe}C+=P,G+=X}return 255!=Pe}function De(y,C,P,F,V){var W;for(W=0;W<V;++W)P[F+W]=y[C+W]>>8}function qe(){cm=D,W1=z,YN=ge,BY=De}function Ct(y,C,P){le[y]=function(F,V,W,G,X,re,de,Pe,Qe,Je,Ue,Vt,yt,Re,Fe,Ft,Kt){var Ut,Fn=Kt-1>>1,yn=X[re+0]|de[Pe+0]<<16,mr=Qe[Je+0]|Ue[Vt+0]<<16;e(null!=F);var Cn=3*yn+mr+131074>>2;for(C(F[V+0],255&Cn,Cn>>16,yt,Re),null!=W&&C(W[G+0],255&(Cn=3*mr+yn+131074>>2),Cn>>16,Fe,Ft),Ut=1;Ut<=Fn;++Ut){var Bi=X[re+Ut]|de[Pe+Ut]<<16,Zi=Qe[Je+Ut]|Ue[Vt+Ut]<<16,Mi=yn+Bi+mr+Zi+524296,di=Mi+2*(Bi+mr)>>3;Cn=di+yn>>1,yn=(Mi=Mi+2*(yn+Zi)>>3)+Bi>>1,C(F[V+2*Ut-1],255&Cn,Cn>>16,yt,Re+(2*Ut-1)*P),C(F[V+2*Ut-0],255&yn,yn>>16,yt,Re+(2*Ut-0)*P),null!=W&&(yn=di+Zi>>1,C(W[G+2*Ut-1],255&(Cn=Mi+mr>>1),Cn>>16,Fe,Ft+(2*Ut-1)*P),C(W[G+2*Ut+0],255&yn,yn>>16,Fe,Ft+(2*Ut+0)*P)),yn=Bi,mr=Zi}1&Kt||(C(F[V+Kt-1],255&(Cn=3*yn+mr+131074>>2),Cn>>16,yt,Re+(Kt-1)*P),null!=W&&C(W[G+Kt-1],255&(Cn=3*mr+yn+131074>>2),Cn>>16,Fe,Ft+(Kt-1)*P))}}function en(){Xl[QN]=j1e,Xl[JN]=ZY,Xl[$Y]=V1e,Xl[eP]=YY,Xl[tP]=XY,Xl[yU]=QY,Xl[WY]=z1e,Xl[vU]=ZY,Xl[bU]=YY,Xl[nP]=XY,Xl[wU]=QY}function kn(y){return y&~H1e?0>y?0:255:y>>JY}function hr(y,C){return kn((19077*y>>8)+(26149*C>>8)-14234)}function zr(y,C,P){return kn((19077*y>>8)-(6419*C>>8)-(13320*P>>8)+8708)}function Qr(y,C){return kn((19077*y>>8)+(33050*C>>8)-17685)}function Ii(y,C,P,F,V){F[V+0]=hr(y,P),F[V+1]=zr(y,C,P),F[V+2]=Qr(y,C)}function qs(y,C,P,F,V){F[V+0]=Qr(y,C),F[V+1]=zr(y,C,P),F[V+2]=hr(y,P)}function so(y,C,P,F,V){var W=zr(y,C,P);C=W<<3&224|Qr(y,C)>>3,F[V+0]=248&hr(y,P)|W>>5,F[V+1]=C}function Eo(y,C,P,F,V){var W=240&Qr(y,C)|15;F[V+0]=240&hr(y,P)|zr(y,C,P)>>4,F[V+1]=W}function Va(y,C,P,F,V){F[V+0]=255,Ii(y,C,P,F,V+1)}function na(y,C,P,F,V){qs(y,C,P,F,V),F[V+3]=255}function Uu(y,C,P,F,V){Ii(y,C,P,F,V),F[V+3]=255}function _l(y,C){return 0>y?0:y>C?C:y}function Of(y,C,P){le[y]=function(F,V,W,G,X,re,de,Pe,Qe){for(var Je=Pe+(-2&Qe)*P;Pe!=Je;)C(F[V+0],W[G+0],X[re+0],de,Pe),C(F[V+1],W[G+0],X[re+0],de,Pe+P),V+=2,++G,++re,Pe+=2*P;1&Qe&&C(F[V+0],W[G+0],X[re+0],de,Pe)}}function KN(y,C,P){return 0==P?0==y?0==C?6:5:0==C?4:0:P}function tS(y,C,P,F,V){switch(y>>>30){case 3:H1(C,P,F,V,0);break;case 2:cS(C,P,F,V);break;case 1:Hu(C,P,F,V)}}function nS(y,C){var P,F,V=C.M,W=C.Nb,G=y.oc,X=y.pc+40,re=y.oc,de=y.pc+584,Pe=y.oc,Qe=y.pc+600;for(P=0;16>P;++P)G[X+32*P-1]=129;for(P=0;8>P;++P)re[de+32*P-1]=129,Pe[Qe+32*P-1]=129;for(0<V?G[X-1-32]=re[de-1-32]=Pe[Qe-1-32]=129:(i(G,X-32-1,127,21),i(re,de-32-1,127,9),i(Pe,Qe-32-1,127,9)),F=0;F<y.za;++F){var Je=C.ya[C.aa+F];if(0<F){for(P=-1;16>P;++P)r(G,X+32*P-4,G,X+32*P+12,4);for(P=-1;8>P;++P)r(re,de+32*P-4,re,de+32*P+4,4),r(Pe,Qe+32*P-4,Pe,Qe+32*P+4,4)}var Ue=y.Gd,Vt=y.Hd+F,yt=Je.ad,Re=Je.Hc;if(0<V&&(r(G,X-32,Ue[Vt].y,0,16),r(re,de-32,Ue[Vt].f,0,8),r(Pe,Qe-32,Ue[Vt].ea,0,8)),Je.Za){var Fe=G,Ft=X-32+16;for(0<V&&(F>=y.za-1?i(Fe,Ft,Ue[Vt].y[15],4):r(Fe,Ft,Ue[Vt+1].y,0,4)),P=0;4>P;P++)Fe[Ft+128+P]=Fe[Ft+256+P]=Fe[Ft+384+P]=Fe[Ft+0+P];for(P=0;16>P;++P,Re<<=2)$u[Je.Ob[P]](Fe=G,Ft=X+tX[P]),tS(Re,yt,16*+P,Fe,Ft)}else if(Fe=KN(F,V,Je.Ob[0]),lm[Fe](G,X),0!=Re)for(P=0;16>P;++P,Re<<=2)tS(Re,yt,16*+P,G,X+tX[P]);for(P=Je.Gc,Fe=KN(F,V,Je.Dd),jf[Fe](re,de),jf[Fe](Pe,Qe),Re=yt,Fe=re,Ft=de,255&(Je=P>>0)&&(170&Je?om(Re,256,Fe,Ft):Ff(Re,256,Fe,Ft)),Je=Pe,Re=Qe,255&(P>>=8)&&(170&P?om(yt,320,Je,Re):Ff(yt,320,Je,Re)),V<y.Ub-1&&(r(Ue[Vt].y,0,G,X+480,16),r(Ue[Vt].f,0,re,de+224,8),r(Ue[Vt].ea,0,Pe,Qe+224,8)),Ue=y.sa,Vt=y.ta+16*F+16*W*y.R,yt=y.qa,Je=y.ra+8*F+(P=8*W*y.B),Re=y.Ha,Fe=y.Ia+8*F+P,P=0;16>P;++P)r(Ue,Vt+P*y.R,G,X+32*P,16);for(P=0;8>P;++P)r(yt,Je+P*y.B,re,de+32*P,8),r(Re,Fe+P*y.B,Pe,Qe+32*P,8)}}function F1(y,C,P,F,V,W,G,X,re){var de=[0],Pe=[0],Qe=0,Je=null!=re?re.kd:0,Ue=re??new XC;if(null==y||12>P)return 7;Ue.data=y,Ue.w=C,Ue.ha=P,C=[C],P=[P],Ue.gb=[Ue.gb];e:{var Vt=C,yt=P,Re=Ue.gb;if(e(null!=y),e(null!=yt),e(null!=Re),Re[0]=0,12<=yt[0]&&!t(y,Vt[0],"RIFF")){if(t(y,Vt[0]+8,"WEBP")){Re=3;break e}var Fe=Un(y,Vt[0]+4);if(12>Fe||4294967286<Fe){Re=3;break e}if(Je&&Fe>yt[0]-8){Re=7;break e}Re[0]=Fe,Vt[0]+=12,yt[0]-=12}Re=0}if(0!=Re)return Re;for(Fe=0<Ue.gb[0],P=P[0];;){e:{var Ft=y;yt=C,Re=P;var Kt=de,Ut=Pe,Fn=Vt=[0];if((Cn=Qe=[Qe])[0]=0,8>Re[0])Re=7;else{if(!t(Ft,yt[0],"VP8X")){if(10!=Un(Ft,yt[0]+4)){Re=3;break e}if(18>Re[0]){Re=7;break e}var yn=Un(Ft,yt[0]+8),mr=1+Rn(Ft,yt[0]+12);if(2147483648<=mr*(Ft=1+Rn(Ft,yt[0]+15))){Re=3;break e}null!=Fn&&(Fn[0]=yn),null!=Kt&&(Kt[0]=mr),null!=Ut&&(Ut[0]=Ft),yt[0]+=18,Re[0]-=18,Cn[0]=1}Re=0}}if(Qe=Qe[0],0!=Re)return Re;if(yt=!!(2&(Vt=Vt[0])),!Fe&&Qe)return 3;if(null!=W&&(W[0]=!!(16&Vt)),null!=G&&(G[0]=yt),null!=X&&(X[0]=0),G=de[0],Vt=Pe[0],Qe&&yt&&null==re){Re=0;break}if(4>P){Re=7;break}if(Fe&&Qe||!Fe&&!Qe&&!t(y,C[0],"ALPH")){P=[P],Ue.na=[Ue.na],Ue.P=[Ue.P],Ue.Sa=[Ue.Sa];e:{Re=C,Fe=P;var Cn=Ue.gb;Kt=Ue.na,Ut=Ue.P,Fn=Ue.Sa,mr=22,e(null!=(yn=y)),e(null!=Fe),Ft=Re[0];var Bi=Fe[0];for(e(null!=Kt),e(null!=Fn),Kt[0]=null,Ut[0]=null,Fn[0]=0;;){if(Re[0]=Ft,Fe[0]=Bi,8>Bi){Re=7;break e}var Zi=Un(yn,Ft+4);if(4294967286<Zi){Re=3;break e}var Mi=8+Zi+1&-2;if(mr+=Mi,0<Cn&&mr>Cn){Re=3;break e}if(!t(yn,Ft,"VP8 ")||!t(yn,Ft,"VP8L")){Re=0;break e}if(Bi[0]<Mi){Re=7;break e}t(yn,Ft,"ALPH")||(Kt[0]=yn,Ut[0]=Ft+8,Fn[0]=Zi),Ft+=Mi,Bi-=Mi}}if(P=P[0],Ue.na=Ue.na[0],Ue.P=Ue.P[0],Ue.Sa=Ue.Sa[0],0!=Re)break}P=[P],Ue.Ja=[Ue.Ja],Ue.xa=[Ue.xa];e:if(Cn=y,Re=C,Fe=P,Kt=Ue.gb[0],Ut=Ue.Ja,Fn=Ue.xa,yn=Re[0],Ft=!t(Cn,yn,"VP8 "),mr=!t(Cn,yn,"VP8L"),e(null!=Cn),e(null!=Fe),e(null!=Ut),e(null!=Fn),8>Fe[0])Re=7;else{if(Ft||mr){if(Cn=Un(Cn,yn+4),12<=Kt&&Cn>Kt-12){Re=3;break e}if(Je&&Cn>Fe[0]-8){Re=7;break e}Ut[0]=Cn,Re[0]+=8,Fe[0]-=8,Fn[0]=mr}else Fn[0]=5<=Fe[0]&&47==Cn[yn+0]&&!(Cn[yn+4]>>5),Ut[0]=Fe[0];Re=0}if(P=P[0],Ue.Ja=Ue.Ja[0],Ue.xa=Ue.xa[0],C=C[0],0!=Re)break;if(4294967286<Ue.Ja)return 3;if(null==X||yt||(X[0]=Ue.xa?2:1),G=[G],Vt=[Vt],Ue.xa){if(5>P){Re=7;break}X=G,Je=Vt,yt=W,null==y||5>P?y=0:5<=P&&47==y[C+0]&&!(y[C+4]>>5)?(Fe=[0],Cn=[0],Kt=[0],Xe(Ut=new q,y,C,P),wr(Ut,Fe,Cn,Kt)?(null!=X&&(X[0]=Fe[0]),null!=Je&&(Je[0]=Cn[0]),null!=yt&&(yt[0]=Kt[0]),y=1):y=0):y=0}else{if(10>P){Re=7;break}X=Vt,null==y||10>P||!PN(y,C+3,P-3)?y=0:(Je=y[C+0]|y[C+1]<<8|y[C+2]<<16,yt=16383&(y[C+7]<<8|y[C+6]),y=16383&(y[C+9]<<8|y[C+8]),1&Je||3<(Je>>1&7)||!(Je>>4&1)||Je>>5>=Ue.Ja||!yt||!y?y=0:(G&&(G[0]=yt),X&&(X[0]=y),y=1))}if(!y||(G=G[0],Vt=Vt[0],Qe&&(de[0]!=G||Pe[0]!=Vt)))return 3;null!=re&&(re[0]=Ue,re.offset=C-re.w,e(4294967286>C-re.w),e(re.offset==re.ha-P));break}return 0==Re||7==Re&&Qe&&null==re?(null!=W&&(W[0]|=null!=Ue.na&&0<Ue.na.length),null!=F&&(F[0]=G),null!=V&&(V[0]=Vt),0):Re}function rS(y,C,P){var F=C.width,V=C.height,W=0,G=0,X=F,re=V;if(C.Da=null!=y&&0<y.Da,C.Da&&(X=y.cd,re=y.bd,W=y.v,G=y.j,11>P||(W&=-2,G&=-2),0>W||0>G||0>=X||0>=re||W+X>F||G+re>V))return 0;if(C.v=W,C.j=G,C.va=W+X,C.o=G+re,C.U=X,C.T=re,C.da=null!=y&&0<y.da,C.da){if(!Vr(X,re,P=[y.ib],W=[y.hb]))return 0;C.ib=P[0],C.hb=W[0]}return C.ob=null!=y&&y.ob,C.Kb=null==y||!y.Sd,C.da&&(C.ob=C.ib<3*F/4&&C.hb<3*V/4,C.Kb=0),1}function iS(y){if(null==y)return 2;if(11>y.S){var C=y.f.RGBA;C.fb+=(y.height-1)*C.A,C.A=-C.A}else(C=y.f.kb).O+=((y=y.height)-1)*C.fa,C.fa=-C.fa,C.N+=(y-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(y-1>>1)*C.Db,C.Db=-C.Db,null!=C.F&&(C.J+=(y-1)*C.lb,C.lb=-C.lb);return 0}function B1(y,C,P,F){if(null==F||0>=y||0>=C)return 2;if(null!=P){if(P.Da){var V=P.cd,W=P.bd,G=-2&P.v,X=-2&P.j;if(0>G||0>X||0>=V||0>=W||G+V>y||X+W>C)return 2;y=V,C=W}if(P.da){if(!Vr(y,C,V=[P.ib],W=[P.hb]))return 2;y=V[0],C=W[0]}}F.width=y,F.height=C;e:{var re=F.width,de=F.height;if(y=F.S,0>=re||0>=de||!(y>=QN&&13>y))y=2;else{if(0>=F.Rd&&null==F.sd){G=W=V=C=0;var Pe=(X=re*nX[y])*de;if(11>y||(W=(de+1)/2*(C=(re+1)/2),12==y&&(G=(V=re)*de)),null==(de=s(Pe+2*W+G))){y=1;break e}F.sd=de,11>y?((re=F.f.RGBA).eb=de,re.fb=0,re.A=X,re.size=Pe):((re=F.f.kb).y=de,re.O=0,re.fa=X,re.Fd=Pe,re.f=de,re.N=0+Pe,re.Ab=C,re.Cd=W,re.ea=de,re.W=0+Pe+W,re.Db=C,re.Ed=W,12==y&&(re.F=de,re.J=0+Pe+2*W),re.Tc=G,re.lb=V)}if(C=1,W=F.width,G=F.height,(V=F.S)>=QN&&13>V)if(11>V)y=F.f.RGBA,C&=(X=Math.abs(y.A))*(G-1)+W<=y.size,C&=X>=W*nX[V],C&=null!=y.eb;else{y=F.f.kb,X=(W+1)/2,Pe=(G+1)/2,re=Math.abs(y.fa),de=Math.abs(y.Ab);var Qe=Math.abs(y.Db),Je=Math.abs(y.lb);C&=re*(G-1)+W<=y.Fd,C&=de*(Pe-1)+X<=y.Cd,C=(C&=Qe*(Pe-1)+X<=y.Ed)&re>=W&de>=X&Qe>=X,C&=null!=y.y,C&=null!=y.f,C&=null!=y.ea,12==V&&(C&=Je>=W,C&=Je*(G-1)+W<=y.Tc,C&=null!=y.F)}else C=0;y=C?0:2}}return 0!=y||null!=P&&P.fd&&(y=iS(F)),y}var Bc=64,U1=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],j1=24,V1=32,sS=8,Uc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_n("Predictor0","PredictorAdd0"),le.Predictor0=function(){return 4278190080},le.Predictor1=function(y){return y},le.Predictor2=function(y,C,P){return C[P+0]},le.Predictor3=function(y,C,P){return C[P+1]},le.Predictor4=function(y,C,P){return C[P-1]},le.Predictor5=function(y,C,P){return Sn(Sn(y,C[P+1]),C[P+0])},le.Predictor6=function(y,C,P){return Sn(y,C[P-1])},le.Predictor7=function(y,C,P){return Sn(y,C[P+0])},le.Predictor8=function(y,C,P){return Sn(C[P-1],C[P+0])},le.Predictor9=function(y,C,P){return Sn(C[P+0],C[P+1])},le.Predictor10=function(y,C,P){return Sn(Sn(y,C[P-1]),Sn(C[P+0],C[P+1]))},le.Predictor11=function(y,C,P){var F=C[P+0];return 0>=Yr(F>>24&255,y>>24&255,(C=C[P-1])>>24&255)+Yr(F>>16&255,y>>16&255,C>>16&255)+Yr(F>>8&255,y>>8&255,C>>8&255)+Yr(255&F,255&y,255&C)?F:y},le.Predictor12=function(y,C,P){var F=C[P+0];return(lr((y>>24&255)+(F>>24&255)-((C=C[P-1])>>24&255))<<24|lr((y>>16&255)+(F>>16&255)-(C>>16&255))<<16|lr((y>>8&255)+(F>>8&255)-(C>>8&255))<<8|lr((255&y)+(255&F)-(255&C)))>>>0},le.Predictor13=function(y,C,P){var F=C[P-1];return(Br((y=Sn(y,C[P+0]))>>24&255,F>>24&255)<<24|Br(y>>16&255,F>>16&255)<<16|Br(y>>8&255,F>>8&255)<<8|Br(y>>0&255,F>>0&255))>>>0};var pU=le.PredictorAdd0;le.PredictorAdd1=ni,_n("Predictor2","PredictorAdd2"),_n("Predictor3","PredictorAdd3"),_n("Predictor4","PredictorAdd4"),_n("Predictor5","PredictorAdd5"),_n("Predictor6","PredictorAdd6"),_n("Predictor7","PredictorAdd7"),_n("Predictor8","PredictorAdd8"),_n("Predictor9","PredictorAdd9"),_n("Predictor10","PredictorAdd10"),_n("Predictor11","PredictorAdd11"),_n("Predictor12","PredictorAdd12"),_n("Predictor13","PredictorAdd13");var oS=le.PredictorAdd2;ii("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),ii("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var ZN,ju=le.ColorIndexInverseTransform,aS=le.MapARGB,gU=le.VP8LColorIndexInverseTransformAlpha,mU=le.MapAlpha,im=le.VP8LPredictorsAdd=[];im.length=16,(le.VP8LPredictors=[]).length=16,(le.VP8LPredictorsAdd_C=[]).length=16,(le.VP8LPredictors_C=[]).length=16;var Kl,Vu,sm,Jd,Lf,z1,zu,H1,cS,om,Hu,Ff,Ky,$1,Zy,am,lS,Zl,Bf,ms,_s,_o,Ho,Uf,cm,W1,YN,BY,UY=s(511),jY=s(2041),VY=s(225),zY=s(767),HY=0,_U=jY,XN=VY,yl=zY,Yl=UY,QN=0,JN=1,$Y=2,eP=3,tP=4,yU=5,WY=6,vU=7,bU=8,nP=9,wU=10,x1e=[2,3,7],A1e=[3,3,11],qY=[280,256,256,256,40],T1e=[0,1,1,1,0],D1e=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],M1e=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],N1e=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],P1e=8,EU=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],IU=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],uS=null,R1e=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],k1e=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],GY=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],O1e=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],L1e=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],F1e=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],B1e=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],lm=[],$u=[],jf=[],U1e=1,KY=2,um=[],Xl=[];Ct("UpsampleRgbLinePair",Ii,3),Ct("UpsampleBgrLinePair",qs,3),Ct("UpsampleRgbaLinePair",Uu,4),Ct("UpsampleBgraLinePair",na,4),Ct("UpsampleArgbLinePair",Va,4),Ct("UpsampleRgba4444LinePair",Eo,2),Ct("UpsampleRgb565LinePair",so,2);var j1e=le.UpsampleRgbLinePair,V1e=le.UpsampleBgrLinePair,ZY=le.UpsampleRgbaLinePair,YY=le.UpsampleBgraLinePair,XY=le.UpsampleArgbLinePair,QY=le.UpsampleRgba4444LinePair,z1e=le.UpsampleRgb565LinePair,rP=16,iP=1<<rP-1,dS=-227,CU=482,JY=6,H1e=(256<<JY)-1,eX=0,$1e=s(256),W1e=s(256),q1e=s(256),G1e=s(256),K1e=s(CU-dS),Z1e=s(CU-dS);Of("YuvToRgbRow",Ii,3),Of("YuvToBgrRow",qs,3),Of("YuvToRgbaRow",Uu,4),Of("YuvToBgraRow",na,4),Of("YuvToArgbRow",Va,4),Of("YuvToRgba4444Row",Eo,2),Of("YuvToRgb565Row",so,2);var tX=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],sP=[0,2,8],Y1e=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(y,C,P,F,V){var W=JN,G=new O1,X=new Pu;G.ba=X,X.S=W,X.width=[X.width],X.height=[X.height];var re=X.width,de=X.height,Pe=new Nf;if(null==Pe||null==y)var Qe=2;else e(null!=Pe),Qe=F1(y,C,P,Pe.width,Pe.height,Pe.Pd,Pe.Qd,Pe.format,null);if(0!=Qe?re=0:(null!=re&&(re[0]=Pe.width[0]),null!=de&&(de[0]=Pe.height[0]),re=1),re){X.width=X.width[0],X.height=X.height[0],null!=F&&(F[0]=X.width),null!=V&&(V[0]=X.height);e:{if(F=new T1,(V=new XC).data=y,V.w=C,V.ha=P,V.kd=1,C=[0],e(null!=V),(0==(y=F1(V.data,V.w,V.ha,null,null,null,C,null,V))||7==y)&&C[0]&&(y=4),0==(C=y)){if(e(null!=G),F.data=V.data,F.w=V.w+V.offset,F.ha=V.ha-V.offset,F.put=Gd,F.ac=Ca,F.bc=Kd,F.ma=G,V.xa){if(null==(y=Gl())){G=1;break e}if(function(Je,Ue){var Vt=[0],yt=[0],Re=[0];t:for(;;){if(null==Je)return 0;if(null==Ue)return Je.a=2,0;if(Je.l=Ue,Je.a=0,Xe(Je.m,Ue.data,Ue.w,Ue.ha),!wr(Je.m,Vt,yt,Re)){Je.a=3;break t}if(Je.xb=KY,Ue.width=Vt[0],Ue.height=yt[0],!Xd(Vt[0],yt[0],1,Je,null))break t;return 1}return e(0!=Je.a),0}(y,F)){if(F=0==(C=B1(F.width,F.height,G.Oa,G.ba))){t:{F=y;n:for(;;){if(null==F){F=0;break t}if(e(null!=F.s.yc),e(null!=F.s.Ya),e(0<F.s.Wb),e(null!=(P=F.l)),e(null!=(V=P.ma)),0!=F.xb){if(F.ca=V.ba,F.tb=V.tb,e(null!=F.ca),!rS(V.Oa,P,eP)){F.a=2;break n}if(!Hy(F,P.width)||P.da)break n;if((P.da||ji(F.ca.S))&&qe(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=F.ca.f.kb.F&&qe()),F.Pb&&0<F.s.ua&&null==F.s.vb.X&&!Ir(F.s.vb,F.s.Wa.Xa)){F.a=1;break n}F.xb=0}if(!Lu(F,F.V,F.Ba,F.c,F.i,P.o,E1))break n;V.Dc=F.Ma,F=1;break t}e(0!=F.a),F=0}F=!F}F&&(C=y.a)}else C=y.a}else{if(null==(y=new ZB)){G=1;break e}if(y.Fa=V.na,y.P=V.P,y.qc=V.Sa,RN(y,F)){if(0==(C=B1(F.width,F.height,G.Oa,G.ba))){if(y.Aa=0,P=G.Oa,e(null!=(V=y)),null!=P){if(0<(re=0>(re=P.Md)?0:100<re?255:255*re/100)){for(de=Pe=0;4>de;++de)12>(Qe=V.pb[de]).lc&&(Qe.ia=re*Y1e[0>Qe.lc?0:Qe.lc]>>3),Pe|=Qe.ia;Pe&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=P.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function YB(y,C){if(null==y)return 0;if(null==C)return mo(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!RN(y,C))return 0;if(e(y.cb),null==C.ac||C.ac(C)){C.ob&&(y.L=0);var P=sP[y.L];if(2==y.L?(y.yb=0,y.zb=0):(y.yb=C.v-P>>4,y.zb=C.j-P>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=C.o+15+P>>4,y.Hb=C.va+15+P>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var F=y.ed;for(P=0;4>P;++P){var V;if(y.Qa.Cb){var W=y.Qa.Lb[P];y.Qa.Fb||(W+=F.Tb)}else W=F.Tb;for(V=0;1>=V;++V){var G=y.gd[P][V],X=W;if(F.Pc&&(X+=F.vd[0],V&&(X+=F.od[0])),0<(X=0>X?0:63<X?63:X)){var re=X;0<F.wb&&(re=4<F.wb?re>>2:re>>1)>9-F.wb&&(re=9-F.wb),1>re&&(re=1),G.dd=re,G.tc=2*X+re,G.ld=40<=X?2:15<=X?1:0}else G.tc=0;G.La=V}}}P=0}else mo(y,6,"Frame setup failed"),P=y.a;if(P=0==P){if(P){y.$c=0,0<y.Aa||(y.Ic=1);e:{F=4*(re=y.za);var de=32*re,Pe=re+1,Qe=0<y.L?re*(0<y.Aa?2:1):0,Je=(2==y.Aa?2:1)*re;if((G=F+832+(V=3*(16*(P=y.Ic)+sP[y.L])/2*de)+(W=null!=y.Fa&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=G)P=0;else{if(G>y.Vb){if(y.Vb=0,y.Ec=s(G),y.Fc=0,null==y.Ec){P=mo(y,1,"no memory during frame initialization.");break e}y.Vb=G}X=y.Fc,y.Ac=G=y.Ec,y.Bc=X,X+=F,y.Gd=o(de,NN),y.Hd=0,y.rb=o(Pe+1,MN),y.sb=1,y.wa=Qe?o(Qe,A1):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=re),e(!0),y.oc=G,y.pc=X,X+=832,y.ya=o(Je,VC),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,2==y.Aa&&(y.D.aa+=re),y.R=16*re,y.B=8*re,re=(de=sP[y.L])*y.R,de=de/2*y.B,y.sa=G,y.ta=X+re,y.qa=y.sa,y.ra=y.ta+16*P*y.R+de,y.Ha=y.qa,y.Ia=y.ra+8*P*y.B+de,y.$c=0,X+=V,y.mb=W?G:null,y.nb=W?X:null,e(X+W<=y.Fc+y.Vb),zC(y),i(y.Ac,y.Bc,0,F),P=1}}if(P){if(C.ka=0,C.y=y.sa,C.O=y.ta,C.f=y.qa,C.N=y.ra,C.ea=y.Ha,C.Vd=y.Ia,C.fa=y.R,C.Rc=y.B,C.F=null,C.J=0,!HY){for(P=-255;255>=P;++P)UY[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)jY[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)VY[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)zY[255+P]=0>P?0:255<P?255:P;HY=1}zu=JB,H1=XB,om=LN,Hu=QB,Ff=FN,cS=ON,Ky=KC,$1=qy,Zy=hU,am=ZC,lS=dU,Zl=k1,Bf=YC,ms=qN,_s=WN,_o=kf,Ho=tm,Uf=uU,$u[0]=Qd,$u[1]=eU,$u[2]=iU,$u[3]=sU,$u[4]=jN,$u[5]=P1,$u[6]=VN,$u[7]=WC,$u[8]=aU,$u[9]=oU,lm[0]=BN,lm[1]=nU,lm[2]=Rf,lm[3]=M1,lm[4]=ja,lm[5]=rU,lm[6]=UN,jf[0]=em,jf[1]=tU,jf[2]=cU,jf[3]=qC,jf[4]=Wy,jf[5]=lU,jf[6]=GC,P=1}else P=0}P&&(P=function(Ue,Vt){for(Ue.M=0;Ue.M<Ue.Va;++Ue.M){var yt,Re=Ue.Jc[Ue.M&Ue.Xb],Fe=Ue.m,Ft=Ue;for(yt=0;yt<Ft.za;++yt){var Kt=Fe,Ut=Ft,Fn=Ut.Ac,yn=Ut.Bc+4*yt,mr=Ut.zc,Cn=Ut.ya[Ut.aa+yt];if(Cn.$b=Ut.Qa.Bb?gt(Kt,Ut.Pa.jb[0])?2+gt(Kt,Ut.Pa.jb[2]):gt(Kt,Ut.Pa.jb[1]):0,Ut.kc&&(Cn.Ad=gt(Kt,Ut.Bd)),Cn.Za=!gt(Kt,145)+0,Cn.Za){var Bi=Cn.Ob,Zi=0;for(Ut=0;4>Ut;++Ut){var Mi,di=mr[0+Ut];for(Mi=0;4>Mi;++Mi){for(var fs=GY[gt(Kt,(di=L1e[Fn[yn+Mi]][di])[0])];0<fs;)fs=GY[2*fs+gt(Kt,di[fs])];Fn[yn+Mi]=di=-fs}r(Bi,Zi,Fn,yn,4),Zi+=4,mr[0+Ut]=di}}else di=gt(Kt,156)?gt(Kt,128)?1:3:gt(Kt,163)?2:0,Cn.Ob[0]=di,i(Fn,yn,di,4),i(mr,0,di,4);Cn.Dd=gt(Kt,142)?gt(Kt,114)?gt(Kt,183)?1:3:2:0}if(Ft.m.Ka)return mo(Ue,7,"Premature end-of-partition0 encountered.");for(;Ue.ja<Ue.za;++Ue.ja){if(Ft=Re,Kt=(Fe=Ue).rb[Fe.sb-1],Fn=Fe.rb[Fe.sb+Fe.ja],yt=Fe.ya[Fe.aa+Fe.ja],yn=Fe.kc?yt.Ad:0)Kt.la=Fn.la=0,yt.Za||(Kt.Na=Fn.Na=0),yt.Hc=0,yt.Gc=0,yt.ia=0;else{var ss,qr;if(Kt=Fn,Fn=Ft,yn=Fe.Pa.Xc,Cn=Fe.pb[(mr=Fe.ya[Fe.aa+Fe.ja]).$b],Zi=Fe.rb[Fe.sb-1],di=Mi=0,i(Ut=mr.ad,Bi=0,0,384),mr.Za)var Io=0,jc=yn[3];else{fs=s(16);var Co=Kt.Na+Zi.Na;if(Co=uS(Fn,yn[1],Co,Cn.Eb,0,fs,0),Kt.Na=Zi.Na=(0<Co)+0,1<Co)zu(fs,0,Ut,Bi);else{var Vc=fs[0]+3>>3;for(fs=0;256>fs;fs+=16)Ut[Bi+fs]=Vc}Io=1,jc=yn[0]}var Yi=15&Kt.la,vl=15&Zi.la;for(fs=0;4>fs;++fs){var bl=1&vl;for(Vc=qr=0;4>Vc;++Vc)Yi=Yi>>1|(bl=(Co=uS(Fn,jc,Co=bl+(1&Yi),Cn.Sc,Io,Ut,Bi))>Io)<<7,qr=qr<<2|(3<Co?3:1<Co?2:0!=Ut[Bi+0]),Bi+=16;Yi>>=4,vl=vl>>1|bl<<7,Mi=(Mi<<8|qr)>>>0}for(jc=Yi,Io=vl>>4,ss=0;4>ss;ss+=2){for(qr=0,Yi=Kt.la>>4+ss,vl=Zi.la>>4+ss,fs=0;2>fs;++fs){for(bl=1&vl,Vc=0;2>Vc;++Vc)Yi=Yi>>1|(bl=0<(Co=uS(Fn,yn[2],Co=bl+(1&Yi),Cn.Qc,0,Ut,Bi)))<<3,qr=qr<<2|(3<Co?3:1<Co?2:0!=Ut[Bi+0]),Bi+=16;Yi>>=2,vl=vl>>1|bl<<5}di|=qr<<4*ss,jc|=Yi<<4<<ss,Io|=(240&vl)<<ss}Kt.la=jc,Zi.la=Io,mr.Hc=Mi,mr.Gc=di,mr.ia=43690&di?0:Cn.ia,yn=!(Mi|di)}if(0<Fe.L&&(Fe.wa[Fe.Y+Fe.ja]=Fe.gd[yt.$b][yt.Za],Fe.wa[Fe.Y+Fe.ja].La|=!yn),Ft.Ka)return mo(Ue,7,"Premature end-of-file encountered.")}if(zC(Ue),Fe=Vt,Ft=1,yt=(Re=Ue).D,Kt=0<Re.L&&Re.M>=Re.zb&&Re.M<=Re.Va,0==Re.Aa)e:{if(yt.M=Re.M,yt.uc=Kt,nS(Re,yt),Ft=1,yt=(qr=Re.D).Nb,Kt=(di=sP[Re.L])*Re.R,yn=Re.sa,mr=Re.ta-Kt+(fs=16*yt*Re.R),Cn=Re.qa,Ut=Re.ra-(Fn=di/2*Re.B)+(Vc=8*yt*Re.B),Bi=Re.Ha,Zi=Re.Ia-Fn+Vc,vl=0==(Yi=qr.M),Mi=Yi>=Re.Va-1,2==Re.Aa&&nS(Re,qr),qr.uc)for(bl=(Co=Re).D.M,e(Co.D.uc),qr=Co.yb;qr<Co.Hb;++qr){jc=bl;var ra=(Sa=(oo=Co).D).Nb,Sa=Sa.wa[Sa.Y+(Io=qr)],ac=oo.sa,Ql=oo.ta+16*ra*(ss=oo.R)+16*Io,eh=Sa.dd,ia=Sa.tc;if(0!=ia)if(e(3<=ia),1==oo.L)0<Io&&_o(ac,Ql,ss,ia+4),Sa.La&&Uf(ac,Ql,ss,ia),0<jc&&_s(ac,Ql,ss,ia+4),Sa.La&&Ho(ac,Ql,ss,ia);else{var Vf=oo.B,Yy=oo.qa,q1=oo.ra+8*ra*Vf+8*Io,dm=oo.Ha,oo=oo.Ia+8*ra*Vf+8*Io;ra=Sa.ld,0<Io&&($1(ac,Ql,ss,ia+4,eh,ra),am(Yy,q1,dm,oo,Vf,ia+4,eh,ra)),Sa.La&&(Zl(ac,Ql,ss,ia,eh,ra),ms(Yy,q1,dm,oo,Vf,ia,eh,ra)),0<jc&&(Ky(ac,Ql,ss,ia+4,eh,ra),Zy(Yy,q1,dm,oo,Vf,ia+4,eh,ra)),Sa.La&&(lS(ac,Ql,ss,ia,eh,ra),Bf(Yy,q1,dm,oo,Vf,ia,eh,ra))}}if(Re.ia&&alert("todo:DitherRow"),null!=Fe.put){if(qr=16*Yi,Yi=16*(Yi+1),vl?(Fe.y=Re.sa,Fe.O=Re.ta+fs,Fe.f=Re.qa,Fe.N=Re.ra+Vc,Fe.ea=Re.Ha,Fe.W=Re.Ia+Vc):(qr-=di,Fe.y=yn,Fe.O=mr,Fe.f=Cn,Fe.N=Ut,Fe.ea=Bi,Fe.W=Zi),Mi||(Yi-=di),Yi>Fe.o&&(Yi=Fe.o),Fe.F=null,Fe.J=null,null!=Re.Fa&&0<Re.Fa.length&&qr<Yi&&(Fe.J=eS(Re,Fe,qr,Yi-qr),Fe.F=Re.mb,null==Fe.F&&0==Fe.F.length)){Ft=mo(Re,3,"Could not decode alpha data.");break e}qr<Fe.j&&(di=Fe.j-qr,qr=Fe.j,e(!(1&di)),Fe.O+=Re.R*di,Fe.N+=Re.B*(di>>1),Fe.W+=Re.B*(di>>1),null!=Fe.F&&(Fe.J+=Fe.width*di)),qr<Yi&&(Fe.O+=Fe.v,Fe.N+=Fe.v>>1,Fe.W+=Fe.v>>1,null!=Fe.F&&(Fe.J+=Fe.v),Fe.ka=qr-Fe.j,Fe.U=Fe.va-Fe.v,Fe.T=Yi-qr,Ft=Fe.put(Fe))}yt+1!=Re.Ic||Mi||(r(Re.sa,Re.ta-Kt,yn,mr+16*Re.R,Kt),r(Re.qa,Re.ra-Fn,Cn,Ut+8*Re.B,Fn),r(Re.Ha,Re.Ia-Fn,Bi,Zi+8*Re.B,Fn))}if(!Ft)return mo(Ue,6,"Output aborted.")}return 1}(y,C)),null!=C.bc&&C.bc(C),P&=1}return P?(y.cb=0,P):0})(y,F)||(C=y.a)}}else C=y.a}0==C&&null!=G.Oa&&G.Oa.fd&&(C=iS(G.ba))}G=C}W=0!=G?null:11>W?X.f.RGBA.eb:X.f.kb.y}else W=null;return W};var nX=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(le,Be){for(var nt="",se=0;se<4;se++)nt+=String.fromCharCode(le[Be++]);return nt}function g(le,Be){return(le[Be+0]<<0|le[Be+1]<<8|le[Be+2]<<16)>>>0}function _(le,Be){return(le[Be+0]<<0|le[Be+1]<<8|le[Be+2]<<16|le[Be+3]<<24)>>>0}new u;var I=[0],w=[0],x=[],R=new u,O=n,L=function(le,Be){var nt={},se=0,ie=!1,Se=0,Ee=0;if(nt.frames=[],!function(fe,_e,Ne,je){for(var ot=0;ot<4;ot++)if(fe[_e+ot]!="RIFF".charCodeAt(ot))return!0;return!1}(le,Be)){var ze,Ze;for(_(le,Be+=4),Be+=8;Be<le.length;){var ht=h(le,Be),Xe=_(le,Be+=4);Be+=4;var Mt=Xe+(1&Xe);switch(ht){case"VP8 ":case"VP8L":void 0===nt.frames[se]&&(nt.frames[se]={}),(q=nt.frames[se]).src_off=ie?Ee:Be-8,q.src_size=Se+Xe+8,se++,ie&&(ie=!1,Se=0,Ee=0);break;case"VP8X":(q=nt.header={}).feature_flags=le[Be];var Et=Be+4;q.canvas_width=1+g(le,Et),q.canvas_height=1+g(le,Et+=3),Et+=3;break;case"ALPH":ie=!0,Se=Mt+8,Ee=Be-8;break;case"ANIM":(q=nt.header).bgcolor=_(le,Be),q.loop_count=(ze=le)[(Ze=Et=Be+4)+0]<<0|ze[Ze+1]<<8,Et+=2;break;case"ANMF":var bn,q;(q=nt.frames[se]={}).offset_x=2*g(le,Be),q.offset_y=2*g(le,Be+=3),q.width=1+g(le,Be+=3),q.height=1+g(le,Be+=3),q.duration=g(le,Be+=3),Be+=3,bn=le[Be++],q.dispose=1&bn,q.blend=bn>>1&1}"ANMF"!=ht&&(Be+=Mt)}return nt}}(O,0);L.response=O,L.rgbaoutput=!0,L.dataurl=!1;var U=L.header?L.header:null,Y=L.frames?L.frames:null;if(U){U.loop_counter=U.loop_count,I=[U.canvas_height],w=[U.canvas_width];for(var te=0;te<Y.length&&0!=Y[te].blend;te++);}var ce=Y[0],ye=R.WebPDecodeRGBA(O,ce.src_off,ce.src_size,w,I);ce.rgba=ye,ce.imgwidth=w[0],ce.imgheight=I[0];for(var pe=0;pe<w[0]*I[0]*4;pe++)x[pe]=ye[pe];return this.width=w,this.height=I,this.data=x,this}(function(n){var t=function(I,w,x,R){var O=4,L=o;switch(R){case n.image_compression.FAST:O=1,L=s;break;case n.image_compression.MEDIUM:O=6,L=c;break;case n.image_compression.SLOW:O=9,L=u}var U=m_(I=r(I,w,x,L),{level:O});return n.__addimage__.arrayBufferToBinaryString(U)},r=function(I,w,x,R){for(var O,L,U,Y=I.length/w,te=new Uint8Array(I.length+Y),ce=g(),ye=0;ye<Y;ye+=1){if(O=I.subarray(U=ye*w,U+w),R)te.set(R(O,x,L),U+ye);else{for(var pe,le=ce.length,Be=[];pe<le;pe+=1)Be[pe]=ce[pe](O,x,L);var nt=_(Be.concat());te.set(Be[nt],U+ye)}L=O}return te},i=function(I){var w=Array.apply([],I);return w.unshift(0),w},s=function(I,w){var R=[],O=I.length;R[0]=1;for(var L=0;L<O;L+=1)R[L+1]=I[L]-(I[L-w]||0)+256&255;return R},o=function(I,w,x){var O=[],L=I.length;O[0]=2;for(var U=0;U<L;U+=1)O[U+1]=I[U]-(x&&x[U]||0)+256&255;return O},c=function(I,w,x){var L=[],U=I.length;L[0]=3;for(var Y=0;Y<U;Y+=1)L[Y+1]=I[Y]+256-((I[Y-w]||0)+(x&&x[Y]||0)>>>1)&255;return L},u=function(I,w,x){var U,Y=[],te=I.length;Y[0]=4;for(var ce=0;ce<te;ce+=1)U=h(I[ce-w]||0,x&&x[ce]||0,x&&x[ce-w]||0),Y[ce+1]=I[ce]-U+256&255;return Y},h=function(I,w,x){if(I===w&&w===x)return I;var R=Math.abs(w-x),O=Math.abs(I-x),L=Math.abs(I+w-x-x);return R<=O&&R<=L?I:O<=L?w:x},g=function(){return[i,s,o,c,u]},_=function(I){var w=I.map(function(x){return x.reduce(function(R,O){return R+Math.abs(O)},0)});return w.indexOf(Math.min.apply(null,w))};n.processPNG=function(I,w,x,R){var O,L,U,Y,te,ce,ye,pe,le,Be,nt,se,ie,Se,Ee,ze=this.decode.FLATE_DECODE,Ze="";if(this.__addimage__.isArrayBuffer(I)&&(I=new Uint8Array(I)),this.__addimage__.isArrayBufferView(I)){if(I=(U=new ck(I)).imgData,L=U.bits,O=U.colorSpace,te=U.colors,-1!==[4,6].indexOf(U.colorType)){if(8===U.bits){le=(pe=32==U.pixelBitlength?new Uint32Array(U.decodePixels().buffer):16==U.pixelBitlength?new Uint16Array(U.decodePixels().buffer):new Uint8Array(U.decodePixels().buffer)).length,nt=new Uint8Array(le*U.colors),Be=new Uint8Array(le);var ht,Xe=U.pixelBitlength-U.bits;for(Se=0,Ee=0;Se<le;Se++){for(ie=pe[Se],ht=0;ht<Xe;)nt[Ee++]=ie>>>ht&255,ht+=U.bits;Be[Se]=ie>>>ht&255}}if(16===U.bits){le=(pe=new Uint32Array(U.decodePixels().buffer)).length,nt=new Uint8Array(le*(32/U.pixelBitlength)*U.colors),Be=new Uint8Array(le*(32/U.pixelBitlength)),se=U.colors>1,Se=0,Ee=0;for(var Mt=0;Se<le;)ie=pe[Se++],nt[Ee++]=ie>>>0&255,se&&(nt[Ee++]=ie>>>16&255,ie=pe[Se++],nt[Ee++]=ie>>>0&255),Be[Mt++]=ie>>>16&255;L=8}R!==n.image_compression.NONE?(I=t(nt,U.width*U.colors,U.colors,R),ye=t(Be,U.width,1,R)):(I=nt,ye=Be,ze=void 0)}if(3===U.colorType&&(O=this.color_spaces.INDEXED,ce=U.palette,U.transparency.indexed)){var Et=U.transparency.indexed,bn=0;for(Se=0,le=Et.length;Se<le;++Se)bn+=Et[Se];if((bn/=255)==le-1&&-1!==Et.indexOf(0))Y=[Et.indexOf(0)];else if(bn!==le){for(pe=U.decodePixels(),Be=new Uint8Array(pe.length),Se=0,le=pe.length;Se<le;Se++)Be[Se]=Et[pe[Se]];ye=t(Be,U.width,1)}}var q=function(fe){var _e;switch(fe){case n.image_compression.FAST:_e=11;break;case n.image_compression.MEDIUM:_e=13;break;case n.image_compression.SLOW:_e=14;break;default:_e=12}return _e}(R);return ze===this.decode.FLATE_DECODE&&(Ze="/Predictor "+q+" "),Ze+="/Colors "+te+" /BitsPerComponent "+L+" /Columns "+U.width,(this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),(ye&&this.__addimage__.isArrayBuffer(ye)||this.__addimage__.isArrayBufferView(ye))&&(ye=this.__addimage__.arrayBufferToBinaryString(ye)),{alias:x,data:I,index:w,filter:ze,decodeParameters:Ze,transparency:Y,palette:ce,sMask:ye,predictor:q,width:U.width,height:U.height,bitsPerComponent:L,colorSpace:O}}}})(gr.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new EE(e),o=s.width,c=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var h={data:u,width:o,height:c},g=new IE(100).encode(h,100);return n.processJPEG.call(this,g,t,r,i)},n.processGIF87A=n.processGIF89A}(gr.API),Cc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Cc.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(t){bi.log("bit decode error:"+t)}},Cc.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var u=this.palette[s>>7-c&1];this.data[o+4*c]=u.blue,this.data[o+4*c+1]=u.green,this.data[o+4*c+2]=u.red,this.data[o+4*c+3]=255}0!==t&&(this.pos+=4-t)}},Cc.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,u=15&s,h=this.palette[s>>4];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;this.data[o+4]=(h=this.palette[u]).blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}0!==e&&(this.pos+=4-e)}},Cc.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==n&&(this.pos+=4-n)}},Cc.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,c=(s>>5&e)/e*255|0,h=s>>15?255:0,g=r*this.width*4+4*i;this.data[g]=(s>>10&e)/e*255|0,this.data[g+1]=c,this.data[g+2]=o,this.data[g+3]=h}this.pos+=n}},Cc.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,u=(o>>5&t)/t*255|0,g=i*this.width*4+4*s;this.data[g]=(o>>11)/e*255|0,this.data[g+1]=u,this.data[g+2]=c,this.data[g+3]=255}this.pos+=n}},Cc.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Cc.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=s,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=o}},Cc.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new Cc(e,!1),o=s.width,c=s.height,u={data:s.getData(),width:o,height:c},h=new IE(100).encode(u,100);return n.processJPEG.call(this,h,t,r,i)}}(gr.API),EA.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new EA(e,!1),o=s.width,c=s.height,u={data:s.getData(),width:o,height:c},h=new IE(100).encode(u,100);return n.processJPEG.call(this,h,t,r,i)}}(gr.API),gr.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),c=0,u=0,h=0;h<i;h+=4){var _=r[h+1],I=r[h+2],w=r[h+3];s[c++]=r[h],s[c++]=_,s[c++]=I,o[u++]=w}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},gr.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},I_=(Wh=gr.API).getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:i.metadata.Unicode.widths,u=c.fof?c.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,g=h.fof?h.fof:1,_=!1!==e.doKerning,I=0,w=n.length,x=0,R=c[0]||u,O=[];for(t=0;t<w;t++)r=n.charCodeAt(t),"function"==typeof i.metadata.widthOfString?O.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(I=_&&"object"===Fi(h[r])&&!isNaN(parseInt(h[r][x],10))?h[r][x]/g:0,O.push((c[r]||R)/u+I)),x=r;return O},vA=Wh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Wh.processArabic&&(n=Wh.processArabic(n)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(n,t,i)/t:I_.apply(this,arguments).reduce(function(s,o){return s+o},0)},bA=function(n,e,t,r){for(var i=[],s=0,o=n.length,c=0;s!==o&&c+e[s]<t;)c+=e[s],s++;i.push(n.slice(0,s));var u=s;for(c=0;s!==o;)c+e[s]>r&&(i.push(n.slice(u,s)),c=0,u=s),c+=e[s],s++;return u!==s&&i.push(n.slice(u,s)),i},wA=function(n,e,t){t||(t={});var r,i,s,o,c,u,g=[],_=[g],I=t.textIndent||0,w=0,x=0,R=n.split(" "),O=I_.apply(this,[" ",t])[0];if(u=-1===t.lineIndent?R[0].length+2:t.lineIndent||0){var L=Array(u).join(" "),U=[];R.map(function(te){(te=te.split(/\s*\n/)).length>1?U=U.concat(te.map(function(ce,ye){return(ye&&ce.length?"\n":"")+ce})):U.push(te[0])}),R=U,u=vA.apply(this,[L,t])}for(s=0,o=R.length;s<o;s++){var Y=0;if(r=R[s],u&&"\n"==r[0]&&(r=r.substr(1),Y=1),I+w+(x=(i=I_.apply(this,[r,t])).reduce(function(te,ce){return te+ce},0))>e||Y){if(x>e){for(c=bA.apply(this,[r,i,e-(I+w),e]),g.push(c.shift()),g=[c.pop()];c.length;)_.push([c.shift()]);x=i.slice(r.length-(g[0]?g[0].length:0)).reduce(function(te,ce){return te+ce},0)}else g=[r];_.push(g),I=x+u,w=O}else g.push(r),I+=w+x,w=O}return _.map(u?function(te,ce){return(ce?L:"")+te.join(" ")}:function(te){return te.join(" ")})},Wh.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var _=this.internal.getFont(g.fontName,g.fontStyle);return _.metadata.Unicode?{widths:_.metadata.Unicode.widths||{0:1},kerning:_.metadata.Unicode.kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var c,u,h=[];for(c=0,u=r.length;c<u;c++)h=h.concat(wA.apply(this,[r[c],o,s]));return h},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(_){return"0x"+parseInt(_,10).toString(16)},o=n.__fontmetrics__.compress=function(_){var I,w,x,R,O=["{"];for(var L in _){if(I=_[L],isNaN(parseInt(L,10))?w="'"+L+"'":(L=parseInt(L,10),w=(w=s(L).slice(2)).slice(0,-1)+r[w.slice(-1)]),"number"==typeof I)I<0?(x=s(I).slice(3),R="-"):(x=s(I).slice(2),R=""),x=R+x.slice(0,-1)+r[x.slice(-1)];else{if("object"!==Fi(I))throw new Error("Don't know what to do with value type "+Fi(I)+".");x=o(I)}O.push(w+x)}return O.push("}"),O.join("")},c=n.__fontmetrics__.uncompress=function(_){if("string"!=typeof _)throw new Error("Invalid argument passed to uncompress.");for(var I,w,x,R,O={},L=1,U=O,Y=[],te="",ce="",ye=_.length-1,pe=1;pe<ye;pe+=1)"'"==(R=_[pe])?I?(x=I.join(""),I=void 0):I=[]:I?I.push(R):"{"==R?(Y.push([U,x]),U={},x=void 0):"}"==R?((w=Y.pop())[0][w[1]]=U,x=void 0,U=w[0]):"-"==R?L=-1:void 0===x?t.hasOwnProperty(R)?(te+=t[R],x=parseInt(te,16)*L,L=1,te=""):te+=R:t.hasOwnProperty(R)?(ce+=t[R],U[x]=parseInt(ce,16)*L,L=1,x=void 0,ce=""):ce+=R;return O},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},g={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var I=_.font,w=g.Unicode[I.postScriptName];w&&(I.metadata.Unicode={},I.metadata.Unicode.widths=w.widths,I.metadata.Unicode.kerning=w.kerning);var x=h.Unicode[I.postScriptName];x&&(I.metadata.Unicode.encoding=x,I.encoding=x.codePages[0])}])}(gr.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var o,c,r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===s.existsFileInVFS(i.postScriptName)?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");o=i,c=/^\x00\x01\x00\x00/.test(c=r)?e(c):e(Pl(c)),o.metadata=n.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]}}])}(gr),function(n){function e(){return(pr.canvg?Promise.resolve(pr.canvg):Q.e(489).then(Q.bind(Q,6489))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}gr.API.addSvgAsImage=function(t,r,i,s,o,c,u,h){if(isNaN(r)||isNaN(i))throw bi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw bi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=s,g.height=o;var _=g.getContext("2d");_.fillStyle="#fff",_.fillRect(0,0,g.width,g.height);var I={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return e().then(function(x){return x.fromString(_,t,I)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(I)}).then(function(){w.addImage(g.toDataURL("image/jpeg",1),r,i,s,o,u,h)})}}(),gr.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},gr.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),u=[],h=0,g=0,_=0;function I(x,R){var O,L=!1;for(O=0;O<x.length;O+=1)x[O]===R&&(L=!0);return L}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,"reset"===n||!0===e){var w=c.length;for(_=0;_<w;_+=1)t[c[_]].value=t[c[_]].defaultValue,t[c[_]].explicitSet=!1}if("object"===Fi(n))for(i in n)if(s=n[i],I(c,i)&&void 0!==s){if("boolean"===t[i].type&&"boolean"==typeof s)t[i].value=s;else if("name"===t[i].type&&I(t[i].valueSet,s))t[i].value=s;else if("integer"===t[i].type&&Number.isInteger(s))t[i].value=s;else if("array"===t[i].type){for(h=0;h<s.length;h+=1)if(r=!0,1===s[h].length&&"number"==typeof s[h][0])u.push(String(s[h]-1));else if(s[h].length>1){for(g=0;g<s[h].length;g+=1)"number"!=typeof s[h][g]&&(r=!1);!0===r&&u.push([s[h][0]-1,s[h][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var x,R=[];for(x in t)!0===t[x].explicitSet&&R.push("name"===t[x].type?"/"+x+" /"+t[x].value:"/"+x+" "+t[x].value);0!==R.length&&this.internal.write("/ViewerPreferences\n<<\n"+R.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+o.length+c.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+c+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(gr.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var c,u=o.metadata.Unicode.widths,h=["","0","00","000","0000"],g=[""],_=0,I=s.length;_<I;++_){if(c=o.metadata.characterToGlyph(s.charCodeAt(_)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=s.charCodeAt(_),-1==u.indexOf(c)&&(u.push(c),u.push([parseInt(o.metadata.widthOfGlyph(c),10)])),"0"==c)return g.join("");c=c.toString(16),g.push(h[4-c.length],c)}return g.join("")},r=function(s){var o,c,u,h,g,_,I;for(g="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",u=[],_=0,I=(c=Object.keys(s).sort(function(w,x){return w-x})).length;_<I;_++)o=c[_],u.length>=100&&(g+="\n"+u.length+" beginbfchar\n"+u.join("\n")+"\nendbfchar",u=[]),null!=s[o]&&"function"==typeof s[o].toString&&(h=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+h+">"));return u.length&&(g+="\n"+u.length+" beginbfchar\n"+u.join("\n")+"\nendbfchar\n"),g+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(s){!function(o){var c=o.font,u=o.out,h=o.newObject,g=o.putStream;if(c.metadata instanceof n.API.TTFFont&&"Identity-H"===c.encoding){for(var _=c.metadata.Unicode.widths,I=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),w="",x=0;x<I.length;x++)w+=String.fromCharCode(I[x]);var R=h();g({data:w,addLength1:!0,objectId:R}),u("endobj");var O=h();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:O}),u("endobj");var L=h();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+pu(c.fontName)),u("/FontFile2 "+R+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var U=h();u("<<"),u("/Type /Font"),u("/BaseFont /"+pu(c.fontName)),u("/FontDescriptor "+L+" 0 R"),u("/W "+n.API.PDFObject.convert(_)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=h(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+O+" 0 R"),u("/BaseFont /"+pu(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+U+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}}(s)}]),e.events.push(["putFont",function(s){!function(o){var c=o.font,u=o.out,h=o.newObject,g=o.putStream;if(c.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===c.encoding){for(var _=c.metadata.rawData,I="",w=0;w<_.length;w++)I+=String.fromCharCode(_[w]);var x=h();g({data:I,addLength1:!0,objectId:x}),u("endobj");var R=h();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:R}),u("endobj");var O=h();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+x+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+pu(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=h();for(var L=0;L<c.metadata.hmtx.widths.length;L++)c.metadata.hmtx.widths[L]=parseInt(c.metadata.hmtx.widths[L]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+R+" 0 R/BaseFont/"+pu(c.fontName)+"/FontDescriptor "+O+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}}(s)}]);var i=function(s){var o,c=s.text||"",u=s.x,h=s.y,g=s.options||{},_=s.mutex||{},I=_.pdfEscape,w=_.activeFontKey,x=_.fonts,R=w,O="",L=0,U="",Y=x[R].encoding;if("Identity-H"!==x[R].encoding)return{text:c,x:u,y:h,options:g,mutex:_};for(U=c,R=w,Array.isArray(c)&&(U=c[0]),L=0;L<U.length;L+=1)x[R].metadata.hasOwnProperty("cmap")&&(o=x[R].metadata.cmap.unicode.codeMap[U[L].charCodeAt(0)]),o||U[L].charCodeAt(0)<256&&x[R].metadata.hasOwnProperty("Unicode")?O+=U[L]:O+="";var te="";return parseInt(R.slice(1))<14||"WinAnsiEncoding"===Y?te=I(O,R).split("").map(function(ce){return ce.charCodeAt(0).toString(16)}).join(""):"Identity-H"===Y&&(te=t(O,x[R])),_.isHex=!0,{text:te,x:u,y:h,options:g,mutex:_}};e.events.push(["postProcessText",function(s){var o=s.text||"",c=[],u={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&3===o[h].length?c.push([i(Object.assign({},u,{text:o[h][0]})).text,o[h][1],o[h][2]]):c.push(i(Object.assign({},u,{text:o[h]})).text);s.text=c}else s.text=i(Object.assign({},u,{text:o})).text}])}(gr),function(n){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(gr.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,c,u,h,g,_=e,I=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},R={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},O=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),U=!1,Y=0;this.__bidiEngine__={};var te=function(se){var ie=se.charCodeAt(),Se=ie>>8,Ee=R[Se];return void 0!==Ee?_[256*Ee+(255&ie)]:252===Se||253===Se?"AL":L.test(Se)?"L":8===Se?"R":"N"},ce=function(se){for(var ie,Se=0;Se<se.length;Se++){if("L"===(ie=te(se.charAt(Se))))return!1;if("R"===ie)return!0}return!1},ye=function(se,ie,Se,Ee){var ze,Ze,ht,Xe,Mt=ie[Ee];switch(Mt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":U=!1;break;case"N":case"AN":break;case"EN":U&&(Mt="AN");break;case"AL":U=!0,Mt="R";break;case"WS":case"BN":Mt="N";break;case"CS":Ee<1||Ee+1>=ie.length||"EN"!==(ze=Se[Ee-1])&&"AN"!==ze||"EN"!==(Ze=ie[Ee+1])&&"AN"!==Ze?Mt="N":U&&(Ze="AN"),Mt=Ze===ze?Ze:"N";break;case"ES":Mt="EN"===(ze=Ee>0?Se[Ee-1]:"B")&&Ee+1<ie.length&&"EN"===ie[Ee+1]?"EN":"N";break;case"ET":if(Ee>0&&"EN"===Se[Ee-1]){Mt="EN";break}if(U){Mt="N";break}for(ht=Ee+1,Xe=ie.length;ht<Xe&&"ET"===ie[ht];)ht++;Mt=ht<Xe&&"EN"===ie[ht]?"EN":"N";break;case"NSM":if(o&&!c){for(Xe=ie.length,ht=Ee+1;ht<Xe&&"NSM"===ie[ht];)ht++;if(ht<Xe){var Et=se[Ee];if(ze=ie[ht],(Et>=1425&&Et<=2303||64286===Et)&&("R"===ze||"AL"===ze)){Mt="R";break}}}Mt=Ee<1||"B"===(ze=ie[Ee-1])?"N":Se[Ee-1];break;case"B":U=!1,i=!0,Mt=Y;break;case"S":s=!0,Mt="N"}return Mt},pe=function(se,ie,Se){var Ee=se.split("");return Se&&le(Ee,Se,{hiLevel:Y}),Ee.reverse(),ie&&ie.reverse(),Ee.join("")},le=function(se,ie,Se){var Ee,ze,Ze,ht,Xe,Mt=-1,Et=se.length,bn=0,q=[],fe=Y?w:I,_e=[];for(U=!1,i=!1,s=!1,ze=0;ze<Et;ze++)_e[ze]=te(se[ze]);for(Ze=0;Ze<Et;Ze++){if(Xe=bn,q[Ze]=ye(se,_e,q,Ze),Ee=240&(bn=fe[Xe][x[q[Ze]]]),ie[Ze]=ht=fe[bn&=15][5],Ee>0)if(16===Ee){for(ze=Mt;ze<Ze;ze++)ie[ze]=1;Mt=-1}else Mt=-1;if(fe[bn][6])-1===Mt&&(Mt=Ze);else if(Mt>-1){for(ze=Mt;ze<Ze;ze++)ie[ze]=ht;Mt=-1}"B"===_e[Ze]&&(ie[Ze]=0),Se.hiLevel|=ht}s&&function(Ne,je,ot){for(var ft=0;ft<ot;ft++)if("S"===Ne[ft]){je[ft]=Y;for(var gt=ft-1;gt>=0&&"WS"===Ne[gt];gt--)je[gt]=Y}}(_e,ie,Et)},Be=function(se,ie,Se,Ee,ze){if(!(ze.hiLevel<se)){if(1===se&&1===Y&&!i)return ie.reverse(),void(Se&&Se.reverse());for(var Ze,ht,Xe,Mt,Et=ie.length,bn=0;bn<Et;){if(Ee[bn]>=se){for(Xe=bn+1;Xe<Et&&Ee[Xe]>=se;)Xe++;for(Mt=bn,ht=Xe-1;Mt<ht;Mt++,ht--)Ze=ie[Mt],ie[Mt]=ie[ht],ie[ht]=Ze,Se&&(Ze=Se[Mt],Se[Mt]=Se[ht],Se[ht]=Ze);bn=Xe}bn++}}},nt=function(se,ie,Se){var Ee=se.split(""),ze={hiLevel:Y};return Se||(Se=[]),le(Ee,Se,ze),function(Ze,ht,Xe){if(0!==Xe.hiLevel&&g)for(var Mt,Et=0;Et<Ze.length;Et++)1===ht[Et]&&(Mt=O.indexOf(Ze[Et]))>=0&&(Ze[Et]=O[Mt+1])}(Ee,Se,ze),Be(2,Ee,ie,Se,ze),Be(1,Ee,ie,Se,ze),Ee.join("")};return this.__bidiEngine__.doBidiReorder=function(se,ie,Se){if(function(ze,Ze){if(Ze)for(var ht=0;ht<ze.length;ht++)Ze[ht]=ht;void 0===c&&(c=ce(ze)),void 0===h&&(h=ce(ze))}(se,ie),o||!u||h)if(o&&u&&c^h)Y=c?1:0,se=pe(se,ie,Se);else if(!o&&u&&h)Y=c?1:0,se=nt(se,ie,Se),se=pe(se,ie);else if(!o||c||u||h){if(o&&!u&&c^h)se=pe(se,ie),c?(Y=0,se=nt(se,ie,Se)):(Y=1,se=nt(se,ie,Se),se=pe(se,ie));else if(o&&c&&!u&&h)Y=1,se=nt(se,ie,Se),se=pe(se,ie);else if(!o&&!u&&c^h){var Ee=g;c?(Y=1,se=nt(se,ie,Se),Y=0,g=!1,se=nt(se,ie,Se),g=Ee):(Y=0,se=nt(se,ie,Se),se=pe(se,ie),Y=1,g=!1,se=nt(se,ie,Se),g=Ee,se=pe(se,ie))}}else Y=0,se=nt(se,ie,Se);else Y=c?1:0,se=nt(se,ie,Se);return se},this.__bidiEngine__.setOptions=function(se){se&&(o=se.isInputVisual,u=se.isOutputVisual,c=se.isInputRtl,h=se.isOutputRtl,g=se.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,s=r.options||{},o=[];if(s.isInputVisual="boolean"!=typeof s.isInputVisual||s.isInputVisual,t.setOptions(s),"[object Array]"===Object.prototype.toString.call(i)){var c=0;for(o=[],c=0;c<i.length;c+=1)"[object Array]"===Object.prototype.toString.call(i[c])?o.push([t.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):o.push([t.doBidiReorder(i[c])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(gr),gr.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new _u(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new pk(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new yv(this.contents),this.head=new IA(this),this.name=new TA(this),this.cmap=new C_(this),this.toUnicode={},this.hhea=new CA(this),this.maxp=new DA(this),this.hmtx=new MA(this),this.post=new xA(this),this.os2=new SA(this),this.loca=new fk(this),this.glyf=new uk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,c,u,h;for(h=[],o=0,c=(u=this.bbox).length;o<c;o++)h.push(Math.round(u[o]*this.scaleFactor));return h}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),0!=(32768&(t=i>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,c;for(o=0,s=0,c=(e=""+e).length;0<=c?s<c:s>c;s=0<=c?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},n}();var Sc,_u=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,c,u;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^c)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*c+u},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var r,i,s;for(s=[],r=0,i=e.length;r<i;r++)s.push(this.writeByte(e[r]));return s},n}(),yv=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,c,u,h,g,_,I,w,x,R;for(R in w=Object.keys(t).length,u=Math.log(2),_=16*Math.floor(Math.log(w)/u),o=Math.floor(_/u),g=16*w-_,(i=new _u).writeInt(this.scalarType),i.writeShort(w),i.writeShort(_),i.writeShort(o),i.writeShort(g),h=i.pos+16*w,c=null,x=[],t)for(I=t[R],i.writeString(R),i.writeInt(n(I)),i.writeInt(h),i.writeInt(I.length),x=x.concat(I),"head"===R&&(c=h),h+=I.length;h%4;)x.push(0),h++;return i.write(x),r=2981146554-n(i.data),i.pos=c+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=CE.call(t);t.length%4;)t.push(0);for(s=new _u(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),lk={}.hasOwnProperty,rl=function(n,e){for(var t in e)lk.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Sc=function(){function n(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var IA=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,Sc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new _u).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),vv=function(){function n(e,t){var r,i,s,o,c,u,h,g,_,I,w,x,R,O,L,U,Y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),_=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(w=e.readUInt16(),I=w/2,e.pos+=6,s=function(){var te,ce;for(ce=[],u=te=0;0<=I?te<I:te>I;u=0<=I?++te:--te)ce.push(e.readUInt16());return ce}(),e.pos+=2,R=function(){var te,ce;for(ce=[],u=te=0;0<=I?te<I:te>I;u=0<=I?++te:--te)ce.push(e.readUInt16());return ce}(),h=function(){var te,ce;for(ce=[],u=te=0;0<=I?te<I:te>I;u=0<=I?++te:--te)ce.push(e.readUInt16());return ce}(),g=function(){var te,ce;for(ce=[],u=te=0;0<=I?te<I:te>I;u=0<=I?++te:--te)ce.push(e.readUInt16());return ce}(),i=(this.length-e.pos+this.offset)/2,c=function(){var te,ce;for(ce=[],u=te=0;0<=i?te<i:te>i;u=0<=i?++te:--te)ce.push(e.readUInt16());return ce}(),u=L=0,Y=s.length;L<Y;u=++L)for(O=s[u],r=U=x=R[u];x<=O?U<=O:U>=O;r=x<=O?++U:--U)0===g[u]?o=r+h[u]:0!==(o=c[g[u]/2+(r-x)-(I-u)]||0)&&(o+=h[u]),this.codeMap[r]=65535&o}e.pos=_}return n.encode=function(e,t){var r,i,s,o,c,u,h,g,_,I,w,x,R,O,L,U,Y,ce,ye,pe,le,Be,nt,se,ie,Se,Ee,ze,Ze,ht,Xe,Mt,Et,bn,q,fe,_e,Ne,je,ot,ft,gt,ln,on,Rn;switch(Ee=new _u,o=Object.keys(e).sort(function(Un,Ir){return Un-Ir}),t){case"macroman":for(R=0,O=function(){var Un=[];for(x=0;x<256;++x)Un.push(0);return Un}(),U={0:0},s={},ze=0,Mt=o.length;ze<Mt;ze++)null==U[gt=e[i=o[ze]]]&&(U[gt]=++R),s[i]={old:e[i],new:U[e[i]]},O[i]=U[e[i]];return Ee.writeUInt16(1),Ee.writeUInt16(0),Ee.writeUInt32(12),Ee.writeUInt16(0),Ee.writeUInt16(262),Ee.writeUInt16(0),Ee.write(O),{charMap:s,subtable:Ee.data,maxGlyphID:R+1};case"unicode":for(ie=[],_=[],Y=0,U={},r={},L=h=null,Ze=0,Et=o.length;Ze<Et;Ze++)null==U[ce=e[i=o[Ze]]]&&(U[ce]=++Y),r[i]={old:ce,new:U[ce]},c=U[ce]-i,null!=L&&c===h||(L&&_.push(L),ie.push(i),h=c),L=i;for(L&&_.push(L),_.push(65535),ie.push(65535),nt=2*(Be=ie.length),le=2*Math.pow(Math.log(Be)/Math.LN2,2),I=Math.log(le/2)/Math.LN2,pe=2*Be-le,u=[],ye=[],w=[],x=ht=0,bn=ie.length;ht<bn;x=++ht){if(g=_[x],65535===(se=ie[x])){u.push(0),ye.push(0);break}if(se-(Se=r[se].new)>=32768)for(u.push(0),ye.push(2*(w.length+Be-x)),i=Xe=se;se<=g?Xe<=g:Xe>=g;i=se<=g?++Xe:--Xe)w.push(r[i].new);else u.push(Se-se),ye.push(0)}for(Ee.writeUInt16(3),Ee.writeUInt16(1),Ee.writeUInt32(12),Ee.writeUInt16(4),Ee.writeUInt16(16+8*Be+2*w.length),Ee.writeUInt16(0),Ee.writeUInt16(nt),Ee.writeUInt16(le),Ee.writeUInt16(I),Ee.writeUInt16(pe),ot=0,q=_.length;ot<q;ot++)Ee.writeUInt16(i=_[ot]);for(Ee.writeUInt16(0),ft=0,fe=ie.length;ft<fe;ft++)Ee.writeUInt16(i=ie[ft]);for(ln=0,_e=u.length;ln<_e;ln++)Ee.writeUInt16(c=u[ln]);for(on=0,Ne=ye.length;on<Ne;on++)Ee.writeUInt16(ye[on]);for(Rn=0,je=w.length;Rn<je;Rn++)Ee.writeUInt16(R=w[Rn]);return{charMap:r,subtable:Ee.data,maxGlyphID:Y+1}}},n}(),C_=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,Sc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new vv(t,this.offset),this.tables.push(r),r.isUnicode&&null==this.unicode&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return null==r&&(r="macroman"),i=vv.encode(t,r),(s=new _u).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),CA=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,Sc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),SA=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,Sc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),xA=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,Sc),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=function(){var c,u,h;for(h=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)h.push(t.readUInt32());return h}.call(this)}},e}(),AA=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},TA=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,Sc),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,c,u,h,g,_,I,w;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(h={},o=_=0,I=i.length;_<I;o=++_)t.pos=(s=i[o]).offset,g=t.readString(s.length),c=new AA(g,s),null==h[w=s.nameID]&&(h[w]=[]),h[s.nameID].push(c);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),DA=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,Sc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),MA=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,Sc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,c,u,h;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var g,_;for(_=[],r=g=0;0<=s?g<s:g>s;r=0<=s?++g:--g)_.push(t.readInt16());return _}(),this.widths=function(){var g,_,I,w;for(w=[],g=0,_=(I=this.metrics).length;g<_;g++)w.push(I[g].advance);return w}.call(this),i=this.widths[this.widths.length-1],h=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),CE=[].slice,uk=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,Sc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,c,u,h,g,_,I;return t in this.cache?this.cache[t]:(r=this.file.contents,i=(o=this.file.loca).indexOf(t),0===(s=o.lengthOf(t))?this.cache[t]=null:(r.pos=this.offset+i,c=(u=new _u(r.read(s))).readShort(),g=u.readShort(),I=u.readShort(),h=u.readShort(),_=u.readShort(),this.cache[t]=-1===c?new hk(u,g,I,h,_):new dk(u,c,g,I,h,_),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,c,u,h;for(c=[],o=[],u=0,h=r.length;u<h;u++)s=t[r[u]],o.push(c.length),s&&(c=c.concat(s.encode(i)));return o.push(c.length),{table:c,offsets:o}},e}(),dk=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),hk=function(){function n(e,t,r,i,s){var o,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new _u(CE.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),fk=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,Sc),e.prototype.tag="loca",e.prototype.parse=function(t){var i;return t.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}.call(this):function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<i.length;++c)if(i[c]=s,o<r.length&&r[o]==c){++o,i[c]=s;var h=this.offsets[c+1]-this.offsets[c];h>0&&(s+=h)}for(var g=new Array(4*i.length),_=0;_<i.length;++_)g[4*_+3]=255&i[_],g[4*_+2]=(65280&i[_])>>8,g[4*_+1]=(16711680&i[_])>>16,g[4*_]=(4278190080&i[_])>>24;return g},e}(),pk=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)e[t]=i[s[t]];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,c,u;for(i={},o=0,c=e.length;o<c;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)null!=(r=i[s])&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in u=this.glyphsFor(t))i[s]=r=u[s];return i},n.prototype.encode=function(e,t){var r,i,s,o,u,h,g,_,I,w,x,R,O,L;for(i in r=C_.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),w={0:0},L=r.charMap)w[(u=L[i]).old]=u.new;for(x in I=r.maxGlyphID,o)x in w||(w[x]=I++);return g=function(U){var Y,te;for(Y in te={},U)te[U[Y]]=Y;return te}(w),_=Object.keys(g).sort(function(U,Y){return U-Y}),R=function(){var U,Y,te;for(te=[],U=0,Y=_.length;U<Y;U++)te.push(g[_[U]]);return te}(),s=this.font.glyf.encode(o,R,w),h=this.font.loca.encode(s.offsets,R),O={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(O["OS/2"]=this.font.os2.raw()),this.font.directory.encode(O)},n}();gr.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var i,s;if(Array.isArray(t))return"["+function(){var c,u,h;for(h=[],c=0,u=t.length;c<u;c++)h.push(e.convert(t[c]));return h}().join(" ")+"]";if("string"==typeof t)return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(t)){for(i in s=["<<"],t)s.push("/"+i+" "+e.convert(t[i]));return s.push(">>"),s.join("\n")}return""+t},e}();const gk=gr,mk=["cvProfil","cvGeneralSkills","cvTraining","cvPresentation","cvTechnologies","cvExperience","cvProjects","cvBachelor","cvLibimbo","cvBachelorOption","cvBachelorDescription","cvBts","cvIcab","cvLicense","cvLicenseoption","cvDeveloperTechnician","cvExperienceFm1","cvExperienceFm2","cvExperienceFm3","cvExperienceFm4","cvExperienceFm5","cvExperienceFm6","cvExperienceFm7","cvExperienceFm8","cvExperienceFm9","cvExperienceFm10","cvDevStudioDescription","cvDevStudioTasks","cvDevStudioTechnology","cvPointAfrica","cvPointAfricaDescription","cvPointAfricaTasks","cvPointAfricaworking","cvLoadBalancerDescription","cvLoadBalancerTasks","cvLoadBalancerworking","cvAttendanceDescription","cvAttendanceTasks","cvAttendanceworking","cvDigitalSolutionsDescription","cvDigitalSolutionsTasks","cvDigitalSolutionsTechnology","cvFMDeveloperDescription","cvFMDeveloperTask","cvFMDeveloperFunction","cvFMDeveloperTechnologies","cvFMDeveloperReferences","cvReferences:","cvEU_CDescription","cvEU_CTasks","cvEU_CTechnologies","cvMobileMoneyDescription","cvMobileMoneyTasks","cvMobileMoneyReferences","cvMobileMoneyTechnologies","cvBafoussamCameroon","cvCategoryB","cvMale","cvCameroon","cvSingle","cvDynamic","cvRigorous","cvTeamSpirit","cvLanguages","cvFrench","cvEnglish","cvAreasOfInterest","cvTrips","cvFitnessWalking","cvSeeMyProfile","cvProductManagerworking","cvProductManagerDescription"],NA={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let bv;const _k=new Uint8Array(16);function yk(){if(!bv&&(bv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bv(_k)}const Fo=[];for(let n=0;n<256;++n)Fo.push((n+256).toString(16).slice(1));const bk=function vk(n,e,t){if(NA.randomUUID&&!e&&!n)return NA.randomUUID();const r=(n=n||{}).random||(n.rng||yk)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return function PA(n,e=0){return(Fo[n[e+0]]+Fo[n[e+1]]+Fo[n[e+2]]+Fo[n[e+3]]+"-"+Fo[n[e+4]]+Fo[n[e+5]]+"-"+Fo[n[e+6]]+Fo[n[e+7]]+"-"+Fo[n[e+8]]+Fo[n[e+9]]+"-"+Fo[n[e+10]]+Fo[n[e+11]]+Fo[n[e+12]]+Fo[n[e+13]]+Fo[n[e+14]]+Fo[n[e+15]]).toLowerCase()}(r)};function vn(...n){const e=(0,xh.yG)(n);return(0,Li.D)(n,e)}var wv=Q(6451),Ev=Q(3099);function Ji(n,e){return(0,Ys.e)((t,r)=>{let i=null,s=0,o=!1;const c=()=>o&&!i&&r.complete();t.subscribe((0,bs.x)(r,u=>{i?.unsubscribe();let h=0;const g=s++;(0,Dh.Xf)(n(u,g)).subscribe(i=(0,bs.x)(r,_=>r.next(e?e(u,_,g,h++):_),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function RA(n,e,t,r,i){return(s,o)=>{let c=t,u=e,h=0;s.subscribe((0,bs.x)(o,g=>{const _=h++;u=c?n(u,g,_):(c=!0,g),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function fd(n,e){return(0,Ys.e)(RA(n,e,arguments.length>=2,!0))}function Iv(n,e=nd.y){return n=n??kA,(0,Ys.e)((t,r)=>{let i,s=!0;t.subscribe((0,bs.x)(r,o=>{const c=e(o);(s||!n(i,c))&&(s=!1,i=c,r.next(o))}))})}function kA(n,e){return n===e}var Xt=Q(4027),ls=Q(2011),SE=(Q(9568),Q(3942)),yo=Q(4859),_t=Q(5861),gi=Q(9681),ne=Q(2090),Na=Q(1877);const xE="@firebase/database";let ar="";function FA(n){ar=n}class Ek{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,ne.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,ne.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Ik{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,ne.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const qh=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ek(e)}}catch{}return new Ik},Gh=qh("localStorage"),Qp=qh("sessionStorage"),yu=new Na.Yd("@firebase/database"),ws=function(){let n=1;return function(){return n++}}(),Ck=function(n){const e=(0,ne.dS)(n),t=new ne.gQ;t.update(e);const r=t.digest();return ne.US.encodeByteArray(r)},Jp=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Jp.apply(null,r):e+="object"==typeof r?(0,ne.Wl)(r):r,e+=" "}return e};let pd=null,BA=!0;const AE=function(n,e){(0,ne.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(yu.logLevel=Na.in.VERBOSE,pd=yu.log.bind(yu),e&&Qp.set("logging_enabled",!0)):"function"==typeof n?pd=n:(pd=null,Qp.remove("logging_enabled"))},lo=function(...n){if(!0===BA&&(BA=!1,null===pd&&!0===Qp.get("logging_enabled")&&AE(!0)),pd){const e=Jp.apply(null,n);pd(e)}},eg=function(n){return function(...e){lo(n,...e)}},Cv=function(...n){const e="FIREBASE INTERNAL ERROR: "+Jp(...n);yu.error(e)},kl=function(...n){const e=`FIREBASE FATAL ERROR: ${Jp(...n)}`;throw yu.error(e),new Error(e)},Zo=function(...n){const e="FIREBASE WARNING: "+Jp(...n);yu.warn(e)},gd=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},md="[MIN_NAME]",vu="[MAX_NAME]",Ol=function(n,e){if(n===e)return 0;if(n===md||e===vu)return-1;if(e===md||n===vu)return 1;{const t=$A(n),r=$A(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},UA=function(n,e){return n===e?0:n<e?-1:1},tg=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,ne.Wl)(e))},Sv=function(n){if("object"!=typeof n||null===n)return(0,ne.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,ne.Wl)(e[r]),t+=":",t+=Sv(n[e[r]]);return t+="}",t},jA=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function ks(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const ng=function(n){(0,ne.hu)(!gd(n),"Invalid JSON number");const r=1023;let i,s,o,c,u;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=c+r,o=Math.round(n*Math.pow(2,52-c)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const h=[];for(u=52;u;u-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const g=h.join("");let _="";for(u=0;u<64;u+=8){let I=parseInt(g.substr(u,8),2).toString(16);1===I.length&&(I="0"+I),_+=I}return _.toLowerCase()},VA=new RegExp("^-?(0*)\\d{1,10}$"),$A=function(n){if(VA.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Kh=function(n){try{n()}catch(e){setTimeout(()=>{throw Zo("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},S_=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class oj{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Zo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class aj{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(lo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Zo(e)}}let xv=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const WA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,GA="websocket",KA="long_polling";class NE{constructor(e,t,r,i,s=!1,o="",c=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gh.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Gh.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ZA(n,e,t){let r;if((0,ne.hu)("string"==typeof e,"typeof type must == string"),(0,ne.hu)("object"==typeof t,"typeof params must == object"),e===GA)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==KA)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Rk(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return ks(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class YA{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,ne.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,ne.p$)(this.counters_)}}const PE={},RE={};function Yh(n){const e=n.toString();return PE[e]||(PE[e]=new YA),PE[e]}class XA{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Kh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class _d{constructor(e,t,r,i,s,o,c){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=eg(e),this.stats_=Yh(t),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),ZA(t,KA,u))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new XA(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ne.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kE((...s)=>{const[o,c,u,h,g]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=c,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&WA.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_d.forceAllow_=!0}static forceDisallow(){_d.forceDisallow_=!0}static isAvailable(){return!((0,ne.Yr)()||!_d.forceAllow_&&(_d.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,ne.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,ne.h$)(t),i=jA(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,ne.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,ne.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class kE{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ne.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=ws(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=kE.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){lo("frame writing exception"),c.stack&&lo(c.stack),lo(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||lo("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,ne.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{lo("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Dv=null;typeof MozWebSocket<"u"?Dv=MozWebSocket:typeof WebSocket<"u"&&(Dv=WebSocket);let rg=(()=>{class n{constructor(t,r,i,s,o,c,u){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=eg(this.connId),this.stats_=Yh(r),this.connURL=n.connectionURL_(r,c,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const c={v:"5"};return!(0,ne.Yr)()&&typeof location<"u"&&location.hostname&&WA.test(location.hostname)&&(c.r="f"),r&&(c.s=r),i&&(c.ls=i),s&&(c.ac=s),o&&(c.p=o),ZA(t,GA,c)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gh.set("previous_websocket_failure",!0);try{let i;if((0,ne.Yr)()){i={headers:{"User-Agent":`Firebase/5/${ar}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,c=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;c&&(i.proxy={origin:c})}this.mySock=new Dv(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==Dv&&!n.forceDisallow_}static previouslyFailed(){return Gh.isInMemoryStorage||!0===Gh.get("previous_websocket_failure")}markConnectionHealthy(){Gh.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,ne.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,ne.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,ne.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=jA(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),OE=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[_d,rg]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=rg&&rg.isAvailable();let i=r&&!rg.previouslyFailed();if(t.webSocketOnly&&(r||Zo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[rg];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class hT{constructor(e,t,r,i,s,o,c,u,h,g){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=u,this.onKill_=h,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=eg("c:"+this.id+":"),this.transportManager_=new OE(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=S_(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=tg("t",e),r=tg("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=tg("t",e),r=tg("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=tg("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?Cv("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cv("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Zo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),S_(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):S_(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class fT{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class Xh{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,ne.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){(0,ne.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class A_ extends Xh{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ne.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new A_}getInitialEvent(e){return(0,ne.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ai{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function oi(){return new Ai("")}function Kr(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ll(n){return n.pieces_.length-n.pieceNum_}function Wi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ai(n.pieces_,e)}function Pv(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ig(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function VE(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ai(e,0)}function us(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Ai)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Ai(t,0)}function $r(n){return n.pieceNum_>=n.pieces_.length}function ha(n,e){const t=Kr(n),r=Kr(e);if(null===t)return e;if(t===r)return ha(Wi(n),Wi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Gk(n,e){const t=ig(n,0),r=ig(e,0);for(let i=0;i<t.length&&i<r.length;i++){const s=Ol(t[i],r[i]);if(0!==s)return s}return t.length===r.length?0:t.length<r.length?-1:1}function zE(n,e){if(Ll(n)!==Ll(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function xc(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Ll(n)>Ll(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class gT{constructor(e,t){this.errorPrefix_=t,this.parts_=ig(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,ne.ug)(this.parts_[r]);_T(this)}}function _T(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Qh(n))}function Qh(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class yT extends Xh{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new yT}getInitialEvent(e){return(0,ne.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const T_=1e3;let kv,Jh=(()=>{class n extends fT{constructor(t,r,i,s,o,c,u,h){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=u,this.authOverride_=h,this.id=n.nextPersistentConnectionId_++,this.log_=eg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=T_,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!(0,ne.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yT.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&A_.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_((0,ne.Wl)(o)),(0,ne.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new ne.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:c=>{const u=c.d;"ok"===c.s?r.resolve(u):r.reject(u)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,c=t._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),(0,ne.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ne.hu)(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(c).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,u=>{const h=u.d,g=u.s;n.warnOnListenWarnings_(h,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",u),"ok"!==g&&this.removeListen_(i,s),t.onComplete&&t.onComplete(g,h))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,ne.r3)(t,"w")){const i=(0,ne.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Zo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,ne.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,ne.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,c=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,ne.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const c={p:r,d:i};void 0!==o&&(c.h=o),this.outstandingPuts_.push({action:t,request:c,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,ne.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):Cv("Unrecognized action received from server: "+(0,ne.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,ne.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=T_,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=T_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=T_),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,_t.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,c=t.lastSessionId;let u=!1,h=null;const g=function(){h?h.close():(u=!0,s())};t.realtime_={close:g,sendRequest:function(w){(0,ne.hu)(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(w)}};const I=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[w,x]=yield Promise.all([t.authTokenProvider_.getToken(I),t.appCheckTokenProvider_.getToken(I)]);u?lo("getToken() completed but was canceled"):(lo("getToken() completed. Creating connection."),t.authToken_=w&&w.accessToken,t.appCheckToken_=x&&x.token,h=new hT(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,R=>{Zo(R+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},c))}catch(w){t.log_("Failed to get token: "+w),u||(t.repoInfo_.nodeAdmin&&Zo(w),g())}}})()}interrupt(t){lo("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){lo("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,ne.xb)(this.interruptReasons_)&&(this.reconnectDelay_=T_,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>Sv(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Ai(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){lo("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){lo("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,ne.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+ar.replace(/\./g,"-")]=1,(0,ne.uI)()?t["framework.cordova"]=1:(0,ne.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=A_.getInstance().currentlyOnline();return(0,ne.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Xr{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Xr(e,t)}}class Rv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Xr(md,e),i=new Xr(md,t);return 0!==this.compare(r,i)}minPost(){return Xr.MIN}}class wT extends Rv{static get __EMPTY_NODE(){return kv}static set __EMPTY_NODE(e){kv=e}compare(e,t){return Ol(e.name,t.name)}isDefinedOn(e){throw(0,ne.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Xr.MIN}maxPost(){return new Xr(vu,kv)}makePost(e,t){return(0,ne.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Xr(e,kv)}toString(){return".key"}}const Pa=new wT;class D_{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let HE,Ac=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??fa.EMPTY_NODE,this.right=o??fa.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return fa.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return fa.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class fa{constructor(e,t=fa.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new fa(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ac.BLACK,null,null))}remove(e){return new fa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ac.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new D_(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new D_(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new D_(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new D_(this.root_,null,this.comparator_,!0,e)}}function IT(n,e){return Ol(n.name,e.name)}function Ov(n,e){return Ol(n,e)}fa.EMPTY_NODE=new class ET{copy(e,t,r,i,s){return this}insert(e,t,r){return new Ac(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const $E=function(n){return"number"==typeof n?"number:"+ng(n):"string:"+n},CT=function(n){if(n.isLeafNode()){const e=n.val();(0,ne.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,ne.r3)(e,".sv"),"Priority must be a string or number.")}else(0,ne.hu)(n===HE||n.isEmpty(),"priority of unexpected type.");(0,ne.hu)(n===HE||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ST,xT,og,sg=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,ne.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),CT(this.priorityNode_)}static set __childrenNodeConstructor(t){ST=t}static get __childrenNodeConstructor(){return ST}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return $r(t)?this:".priority"===Kr(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Kr(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,ne.hu)(".priority"!==i||1===Ll(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Wi(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+$E(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?ng(this.value_):this.value_,this.lazyHash_=Ck(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,ne.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return(0,ne.hu)(s>=0,"Unknown leaf type: "+r),(0,ne.hu)(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const es=new class Fl extends Rv{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?Ol(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Xr.MIN}maxPost(){return new Xr(vu,new sg("[PRIORITY-POST]",og))}makePost(e,t){const r=xT(e);return new Xr(t,new sg("[PRIORITY-POST]",r))}toString(){return".priority"}},qE=Math.log(2);class M_{constructor(e){this.count=parseInt(Math.log(e+1)/qE,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Lv=function(n,e,t,r){n.sort(e);const i=function(u,h){const g=h-u;let _,I;if(0===g)return null;if(1===g)return _=n[u],I=t?t(_):_,new Ac(I,_.node,Ac.BLACK,null,null);{const w=parseInt(g/2,10)+u,x=i(u,w),R=i(w+1,h);return _=n[w],I=t?t(_):_,new Ac(I,_.node,Ac.BLACK,x,R)}},c=function(u){let h=null,g=null,_=n.length;const I=function(x,R){const O=_-x,L=_;_-=x;const U=i(O+1,L),Y=n[O],te=t?t(Y):Y;w(new Ac(te,Y.node,R,null,U))},w=function(x){h?(h.left=x,h=x):(g=x,h=x)};for(let x=0;x<u.count;++x){const R=u.nextBitIsOne(),O=Math.pow(2,u.count-(x+1));R?I(O,Ac.BLACK):(I(O,Ac.BLACK),I(O,Ac.RED))}return g}(new M_(n.length));return new fa(r||e,c)};let GE;const ag={};class Tc{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,ne.hu)(ag&&es,"ChildrenNode.ts has not been loaded"),GE=GE||new Tc({".priority":ag},{".priority":es}),GE}get(e){const t=(0,ne.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof fa?t:null}hasIndex(e){return(0,ne.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,ne.hu)(e!==Pa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Xr.Wrap);let c,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();c=i?Lv(r,e.getCompare()):ag;const u=e.toString(),h=Object.assign({},this.indexSet_);h[u]=e;const g=Object.assign({},this.indexes_);return g[u]=c,new Tc(g,h)}addToIndexes(e,t){const r=(0,ne.UI)(this.indexes_,(i,s)=>{const o=(0,ne.DV)(this.indexSet_,s);if((0,ne.hu)(o,"Missing index implementation for "+s),i===ag){if(o.isDefinedOn(e.node)){const c=[],u=t.getIterator(Xr.Wrap);let h=u.getNext();for(;h;)h.name!==e.name&&c.push(h),h=u.getNext();return c.push(e),Lv(c,o.getCompare())}return ag}{const c=t.get(e.name);let u=i;return c&&(u=u.remove(new Xr(e.name,c))),u.insert(e,e.node)}});return new Tc(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,ne.UI)(this.indexes_,i=>{if(i===ag)return i;{const s=t.get(e.name);return s?i.remove(new Xr(e.name,s)):i}});return new Tc(r,this.indexSet_)}}let yd,Rr=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&CT(this.priorityNode_),this.children_.isEmpty()&&(0,ne.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return yd||(yd=new n(new fa(Ov),null,Tc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yd}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?yd:r}}getChild(t){const r=Kr(t);return null===r?this:this.getImmediateChild(r).getChild(Wi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,ne.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Xr(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const c=s.isEmpty()?yd:this.priorityNode_;return new n(s,c,o)}}updateChild(t,r){const i=Kr(t);if(null===i)return r;{(0,ne.hu)(".priority"!==Kr(t)||1===Ll(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Wi(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(es,(c,u)=>{r[c]=u.val(t),i++,o&&n.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):o=!1}),!t&&o&&s<2*i){const c=[];for(const u in r)c[u]=r[u];return c}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+$E(this.getPriority().val())+":"),this.forEachChild(es,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":Ck(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new Xr(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Xr(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Xr(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Xr.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Xr.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===cg?-1:0}withIndex(t){if(t===Pa||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Pa||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(es),s=r.getIterator(es);let o=i.getNext(),c=s.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=s.getNext()}return null===o&&null===c}return!1}return!1}}resolveIndex_(t){return t===Pa?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const cg=new class Jk extends Rr{constructor(){super(new fa(Ov),Rr.EMPTY_NODE,Tc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Rr.EMPTY_NODE}isEmpty(){return!1}};function ds(n,e=null){if(null===n)return Rr.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,ne.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new sg(n,ds(e));if(n instanceof Array){let t=Rr.EMPTY_NODE;return ks(n,(r,i)=>{if((0,ne.r3)(n,r)&&"."!==r.substring(0,1)){const s=ds(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(ds(e))}{const t=[];let r=!1;if(ks(n,(o,c)=>{if("."!==o.substring(0,1)){const u=ds(c);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),t.push(new Xr(o,u)))}}),0===t.length)return Rr.EMPTY_NODE;const s=Lv(t,IT,o=>o.name,Ov);if(r){const o=Lv(t,es.getCompare());return new Rr(s,ds(e),new Tc({".priority":o},{".priority":es}))}return new Rr(s,ds(e),Tc.Default)}}Object.defineProperties(Xr,{MIN:{value:new Xr(md,Rr.EMPTY_NODE)},MAX:{value:new Xr(vu,cg)}}),wT.__EMPTY_NODE=Rr.EMPTY_NODE,sg.__childrenNodeConstructor=Rr,function lj(n){HE=n}(cg),function WE(n){og=n}(cg),function Qk(n){xT=n}(ds);class Fv extends Rv{constructor(e){super(),this.indexPath_=e,(0,ne.hu)(!$r(e)&&".priority"!==Kr(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?Ol(e.name,t.name):s}makePost(e,t){const r=ds(e),i=Rr.EMPTY_NODE.updateChild(this.indexPath_,r);return new Xr(t,i)}maxPost(){const e=Rr.EMPTY_NODE.updateChild(this.indexPath_,cg);return new Xr(vu,e)}toString(){return ig(this.indexPath_,0).join("/")}}const KE=new class eO extends Rv{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Ol(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Xr.MIN}maxPost(){return Xr.MAX}makePost(e,t){const r=ds(e);return new Xr(t,r)}toString(){return".value"}};function tO(n){return{type:"value",snapshotNode:n}}function vd(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function ef(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function lg(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class N_{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){(0,ne.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(t);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(ef(t,c)):(0,ne.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(vd(t,r)):o.trackChildChange(lg(t,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(es,(i,s)=>{t.hasChild(i)||r.trackChildChange(ef(i,s))}),t.isLeafNode()||t.forEachChild(es,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(lg(i,s,o))}else r.trackChildChange(vd(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Rr.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class P_{constructor(e){this.indexedFilter_=new N_(e.getIndex()),this.index_=e.getIndex(),this.startPost_=P_.getStartPost_(e),this.endPost_=P_.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,o){return this.matches(new Xr(t,r))||(r=Rr.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Rr.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(Rr.EMPTY_NODE);const s=this;return t.forEachChild(es,(o,c)=>{s.matches(new Xr(o,c))||(i=i.updateImmediateChild(o,Rr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class nO{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new P_(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new Xr(t,r))||(r=Rr.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=Rr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=Rr.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c)){if(!this.withinDirectionalEnd(c))break;i=i.updateImmediateChild(c.name,c.node),o++}}}else{let s;i=t.withIndex(this.index_),i=i.updatePriority(Rr.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let o=0;for(;s.hasNext();){const c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:i=i.updateImmediateChild(c.name,Rr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){const _=this.index_.getCompare();o=(I,w)=>_(w,I)}else o=this.index_.getCompare();const c=e;(0,ne.hu)(c.numChildren()===this.limit_,"");const u=new Xr(t,r),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(u);if(c.hasChild(t)){const _=c.getImmediateChild(t);let I=i.getChildAfterChild(this.index_,h,this.reverse_);for(;null!=I&&(I.name===t||c.hasChild(I.name));)I=i.getChildAfterChild(this.index_,I,this.reverse_);const w=null==I?1:o(I,u);if(g&&!r.isEmpty()&&w>=0)return s?.trackChildChange(lg(t,r,_)),c.updateImmediateChild(t,r);{s?.trackChildChange(ef(t,_));const R=c.updateImmediateChild(t,Rr.EMPTY_NODE);return null!=I&&this.rangedFilter_.matches(I)?(s?.trackChildChange(vd(I.name,I.node)),R.updateImmediateChild(I.name,I.node)):R}}return r.isEmpty()?e:g&&o(h,u)>=0?(null!=s&&(s.trackChildChange(ef(h.name,h.node)),s.trackChildChange(vd(t,r))),c.updateImmediateChild(t,r).updateImmediateChild(h.name,Rr.EMPTY_NODE)):e}}class Bv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=es}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ne.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ne.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:md}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ne.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ne.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ne.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===es}copy(){const e=new Bv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Uv(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function jv(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function Vv(n,e){const t=n.copy();return t.index_=e,t}function XE(n){const e={};if(n.isDefault())return e;let t;if(n.index_===es?t="$priority":n.index_===KE?t="$value":n.index_===Pa?t="$key":((0,ne.hu)(n.index_ instanceof Fv,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,ne.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,ne.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,ne.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,ne.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,ne.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function QE(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==es&&(e.i=n.index_.toString()),e}class zv extends fT{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=eg("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,ne.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=zv.getListenId_(e,r),c={};this.listens_[o]=c;const u=XE(e._queryParams);this.restRequest_(s+".json",u,(h,g)=>{let _=g;if(404===h&&(_=null,h=null),null===h&&this.onDataUpdate_(s,_,!1,r),(0,ne.DV)(this.listens_,o)===c){let I;I=h?401===h?"permission_denied":"rest_error:"+h:"ok",i(I,null)}})}unlisten(e,t){const r=zv.getListenId_(e,t);delete this.listens_[r]}get(e){const t=XE(e._queryParams),r=e._path.toString(),i=new ne.BH;return this.restRequest_(r+".json",t,(s,o)=>{let c=o;404===s&&(c=null,s=null),null===s?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,ne.xO)(t);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&4===c.readyState){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=(0,ne.cI)(c.responseText)}catch{Zo("Failed to parse JSON response for "+o+": "+c.responseText)}r(null,u)}else 401!==c.status&&404!==c.status&&Zo("Got unsuccessful REST response for "+o+" Status: "+c.status),r(c.status);r=null}},c.open("GET",o,!0),c.send()})}}class NT{constructor(){this.rootNode_=Rr.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Hv(){return{value:null,children:new Map}}function Xs(n,e,t){if($r(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Kr(e);n.children.has(r)||n.children.set(r,Hv()),Xs(n.children.get(r),e=Wi(e),t)}}function bd(n,e){if($r(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(es,(r,i)=>{Xs(n,new Ai(r),i)}),bd(n,e)}}if(n.children.size>0){const t=Kr(e);return e=Wi(e),n.children.has(t)&&bd(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function JE(n,e,t){null!==n.value?t(e,n.value):function iO(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{JE(i,new Ai(e.toString()+"/"+r),t)})}class uj{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ks(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class R_{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new uj(e);const r=1e4+2e4*Math.random();S_(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;ks(e,(i,s)=>{s>0&&(0,ne.r3)(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),S_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Dc=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Dc||(Dc={})),Dc))();function $v(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Wv{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Dc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if($r(this.path)){if(null!=this.affectedTree.value)return(0,ne.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ai(e));return new Wv(oi(),t,this.revert)}}return(0,ne.hu)(Kr(this.path)===e,"operationForChild called for unrelated child."),new Wv(Wi(this.path),this.affectedTree,this.revert)}}class O_{constructor(e,t){this.source=e,this.path=t,this.type=Dc.LISTEN_COMPLETE}operationForChild(e){return $r(this.path)?new O_(this.source,oi()):new O_(this.source,Wi(this.path))}}class tf{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Dc.OVERWRITE}operationForChild(e){return $r(this.path)?new tf(this.source,oi(),this.snap.getImmediateChild(e)):new tf(this.source,Wi(this.path),this.snap)}}class wd{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Dc.MERGE}operationForChild(e){if($r(this.path)){const t=this.children.subtree(new Ai(e));return t.isEmpty()?null:t.value?new tf(this.source,oi(),t.value):new wd(this.source,oi(),t)}return(0,ne.hu)(Kr(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new wd(this.source,Wi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class bu{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($r(e))return this.isFullyInitialized()&&!this.filtered_;const t=Kr(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class kT{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function nf(n,e,t,r,i,s){const o=r.filter(c=>c.type===t);o.sort((c,u)=>function OT(n,e,t){if(null==e.childName||null==t.childName)throw(0,ne.g5)("Should only compare child_ events.");const r=new Xr(e.childName,e.snapshotNode),i=new Xr(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,c,u)),o.forEach(c=>{const u=function dj(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,c,s);i.forEach(h=>{h.respondsTo(c.type)&&e.push(h.createEvent(u,n.query_))})})}function Gv(n,e){return{eventCache:n,serverCache:e}}function ug(n,e,t,r){return Gv(new bu(e,t,r),n.serverCache)}function rf(n,e,t,r){return Gv(n.eventCache,new bu(e,t,r))}function Kv(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ed(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let L_;class ts{constructor(e,t=(()=>(L_||(L_=new fa(UA)),L_))()){this.value=e,this.children=t}static fromObject(e){let t=new ts(null);return ks(e,(r,i)=>{t=t.set(new Ai(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:oi(),value:this.value};if($r(e))return null;{const r=Kr(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Wi(e),t);return null!=s?{path:us(new Ai(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($r(e))return this;{const t=Kr(e),r=this.children.get(t);return null!==r?r.subtree(Wi(e)):new ts(null)}}set(e,t){if($r(e))return new ts(t,this.children);{const r=Kr(e),s=(this.children.get(r)||new ts(null)).set(Wi(e),t),o=this.children.insert(r,s);return new ts(this.value,o)}}remove(e){if($r(e))return this.children.isEmpty()?new ts(null):new ts(null,this.children);{const t=Kr(e),r=this.children.get(t);if(r){const i=r.remove(Wi(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new ts(null):new ts(this.value,s)}return this}}get(e){if($r(e))return this.value;{const t=Kr(e),r=this.children.get(t);return r?r.get(Wi(e)):null}}setTree(e,t){if($r(e))return t;{const r=Kr(e),s=(this.children.get(r)||new ts(null)).setTree(Wi(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new ts(this.value,o)}}fold(e){return this.fold_(oi(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(us(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,oi(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if($r(e))return null;{const s=Kr(e),o=this.children.get(s);return o?o.findOnPath_(Wi(e),us(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,oi(),t)}foreachOnPath_(e,t,r){if($r(e))return this;{this.value&&r(t,this.value);const i=Kr(e),s=this.children.get(i);return s?s.foreachOnPath_(Wi(e),us(t,i),r):new ts(null)}}foreach(e){this.foreach_(oi(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(us(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Bl{constructor(e){this.writeTree_=e}static empty(){return new Bl(new ts(null))}}function F_(n,e,t){if($r(e))return new Bl(new ts(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=ha(i,e);return s=s.updateChild(o,t),new Bl(n.writeTree_.set(i,s))}{const i=new ts(t),s=n.writeTree_.setTree(e,i);return new Bl(s)}}}function tI(n,e,t){let r=n;return ks(t,(i,s)=>{r=F_(r,us(e,i),s)}),r}function LT(n,e){if($r(e))return Bl.empty();{const t=n.writeTree_.setTree(e,new ts(null));return new Bl(t)}}function Zv(n,e){return null!=Id(n,e)}function Id(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ha(t.path,e)):null}function FT(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(es,(r,i)=>{e.push(new Xr(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Xr(r,i.value))}),e}function wu(n,e){if($r(e))return n;{const t=Id(n,e);return new Bl(null!=t?new ts(t):n.writeTree_.subtree(e))}}function Yv(n){return n.writeTree_.isEmpty()}function dg(n,e){return BT(oi(),n.writeTree_,e)}function BT(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?((0,ne.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=BT(us(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(us(n,".priority"),r)),t}}function B_(n,e){return oI(e,n)}function zT(n,e){if(n.snap)return xc(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&xc(us(n.path,t),e))return!0;return!1}function cO(n){return n.visible}function lO(n,e,t){let r=Bl.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let c;if(s.snap)xc(t,o)?(c=ha(t,o),r=F_(r,c,s.snap)):xc(o,t)&&(c=ha(o,t),r=F_(r,oi(),s.snap.getChild(c)));else{if(!s.children)throw(0,ne.g5)("WriteRecord should have .snap or .children");if(xc(t,o))c=ha(t,o),r=tI(r,c,s.children);else if(xc(o,t))if(c=ha(o,t),$r(c))r=tI(r,oi(),s.children);else{const u=(0,ne.DV)(s.children,Kr(c));if(u){const h=u.getChild(Wi(c));r=F_(r,oi(),h)}}}}}return r}function nI(n,e,t,r,i){if(r||i){const s=wu(n.visibleWrites,e);return!i&&Yv(s)?t:i||null!=t||Zv(s,oi())?dg(lO(n.allWrites,function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(xc(h.path,e)||xc(e,h.path))},e),t||Rr.EMPTY_NODE):null}{const s=Id(n.visibleWrites,e);if(null!=s)return s;{const o=wu(n.visibleWrites,e);return Yv(o)?t:null!=t||Zv(o,oi())?dg(o,t||Rr.EMPTY_NODE):null}}}function rI(n,e,t,r){return nI(n.writeTree,n.treePath,e,t,r)}function HT(n,e){return function fj(n,e,t){let r=Rr.EMPTY_NODE;const i=Id(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(es,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=wu(n.visibleWrites,e);return t.forEachChild(es,(o,c)=>{const u=dg(wu(s,new Ai(o)),c);r=r.updateImmediateChild(o,u)}),FT(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return FT(wu(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function U_(n,e,t,r){return function pj(n,e,t,r,i){(0,ne.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=us(e,t);if(Zv(n.visibleWrites,s))return null;{const o=wu(n.visibleWrites,s);return Yv(o)?i.getChild(t):dg(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function iI(n,e){return function mj(n,e){return Id(n.visibleWrites,e)}(n.writeTree,us(n.treePath,e))}function hg(n,e,t){return function gj(n,e,t,r){const i=us(e,t),s=Id(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?dg(wu(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function sI(n,e){return oI(us(n.treePath,e),n.writeTree)}function oI(n,e){return{treePath:n,writeTree:e}}class vj{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,ne.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,ne.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,lg(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,ef(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,vd(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,ne.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,lg(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const cI=new class aI{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class lI{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new bu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hg(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ed(this.viewCache_),s=function $T(n,e,t,r,i,s){return function _j(n,e,t,r,i,s,o){let c;const u=wu(n.visibleWrites,e),h=Id(u,oi());if(null!=h)c=h;else{if(null==t)return[];c=dg(u,t)}if(c=c.withIndex(o),c.isEmpty()||c.isLeafNode())return[];{const g=[],_=o.getCompare(),I=s?c.getReverseIteratorFrom(r,o):c.getIteratorFrom(r,o);let w=I.getNext();for(;w&&g.length<i;)0!==_(w,r)&&g.push(w),w=I.getNext();return g}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function WT(n,e,t,r,i,s){const o=e.eventCache;if(null!=iI(r,t))return e;{let c,u;if($r(t))if((0,ne.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=Ed(e),_=HT(r,h instanceof Rr?h:Rr.EMPTY_NODE);c=n.filter.updateFullNode(e.eventCache.getNode(),_,s)}else{const h=rI(r,Ed(e));c=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=Kr(t);if(".priority"===h){(0,ne.hu)(1===Ll(t),"Can't have a priority with additional path components");const g=o.getNode();u=e.serverCache.getNode();const _=U_(r,t,g,u);c=null!=_?n.filter.updatePriority(g,_):o.getNode()}else{const g=Wi(t);let _;if(o.isCompleteForChild(h)){u=e.serverCache.getNode();const I=U_(r,t,o.getNode(),u);_=null!=I?o.getNode().getImmediateChild(h).updateChild(g,I):o.getNode().getImmediateChild(h)}else _=hg(r,h,e.serverCache);c=null!=_?n.filter.updateChild(o.getNode(),h,_,g,i,s):o.getNode()}}return ug(e,c,o.isFullyInitialized()||$r(t),n.filter.filtersNodes())}}function sf(n,e,t,r,i,s,o,c){const u=e.serverCache;let h;const g=o?n.filter:n.filter.getIndexedFilter();if($r(t))h=g.updateFullNode(u.getNode(),r,null);else if(g.filtersNodes()&&!u.isFiltered()){const w=u.getNode().updateChild(t,r);h=g.updateFullNode(u.getNode(),w,null)}else{const w=Kr(t);if(!u.isCompleteForPath(t)&&Ll(t)>1)return e;const x=Wi(t),O=u.getNode().getImmediateChild(w).updateChild(x,r);h=".priority"===w?g.updatePriority(u.getNode(),O):g.updateChild(u.getNode(),w,O,x,cI,null)}const _=rf(e,h,u.isFullyInitialized()||$r(t),g.filtersNodes());return WT(n,_,t,i,new lI(i,_,s),c)}function uI(n,e,t,r,i,s,o){const c=e.eventCache;let u,h;const g=new lI(i,e,s);if($r(t))h=n.filter.updateFullNode(e.eventCache.getNode(),r,o),u=ug(e,h,!0,n.filter.filtersNodes());else{const _=Kr(t);if(".priority"===_)h=n.filter.updatePriority(e.eventCache.getNode(),r),u=ug(e,h,c.isFullyInitialized(),c.isFiltered());else{const I=Wi(t),w=c.getNode().getImmediateChild(_);let x;if($r(I))x=r;else{const R=g.getCompleteChild(_);x=null!=R?".priority"===Pv(I)&&R.getChild(VE(I)).isEmpty()?R:R.updateChild(I,r):Rr.EMPTY_NODE}u=w.equals(x)?e:ug(e,n.filter.updateChild(c.getNode(),_,x,I,g,o),c.isFullyInitialized(),n.filter.filtersNodes())}}return u}function fO(n,e){return n.eventCache.isCompleteForChild(e)}function pO(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function dI(n,e,t,r,i,s,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h,u=e;h=$r(t)?r:new ts(null).setTree(t,r);const g=e.serverCache.getNode();return h.children.inorderTraversal((_,I)=>{if(g.hasChild(_)){const x=pO(0,e.serverCache.getNode().getImmediateChild(_),I);u=sf(n,u,new Ai(_),x,i,s,o,c)}}),h.children.inorderTraversal((_,I)=>{const w=!e.serverCache.isCompleteForChild(_)&&null===I.value;if(!g.hasChild(_)&&!w){const R=pO(0,e.serverCache.getNode().getImmediateChild(_),I);u=sf(n,u,new Ai(_),R,i,s,o,c)}}),u}class _O{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new N_(r.getIndex()),s=function rO(n){return n.loadsAllData()?new N_(n.getIndex()):n.hasLimit()?new nO(n):new P_(n)}(r);this.processor_=function uO(n){return{filter:n}}(s);const o=t.serverCache,c=t.eventCache,u=i.updateFullNode(Rr.EMPTY_NODE,o.getNode(),null),h=s.updateFullNode(Rr.EMPTY_NODE,c.getNode(),null),g=new bu(u,o.isFullyInitialized(),i.filtersNodes()),_=new bu(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=Gv(_,g),this.eventGenerator_=new kT(this.query_)}get query(){return this.query_}}function Ij(n,e){const t=Ed(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!$r(e)&&!t.getImmediateChild(Kr(e)).isEmpty())?t.getChild(e):null}function Mc(n){return 0===n.eventRegistrations_.length}function Xv(n,e,t){const r=[];if(t){(0,ne.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(o)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function KT(n,e,t,r){e.type===Dc.MERGE&&null!==e.source.queryId&&((0,ne.hu)(Ed(n.viewCache_),"We should always have a full cache before handling merges"),(0,ne.hu)(Kv(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function dO(n,e,t,r,i){const s=new vj;let o,c;if(t.type===Dc.OVERWRITE){const h=t;h.source.fromUser?o=uI(n,e,h.path,h.snap,r,i,s):((0,ne.hu)(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered()&&!$r(h.path),o=sf(n,e,h.path,h.snap,r,i,c,s))}else if(t.type===Dc.MERGE){const h=t;h.source.fromUser?o=function wj(n,e,t,r,i,s,o){let c=e;return r.foreach((u,h)=>{const g=us(t,u);fO(e,Kr(g))&&(c=uI(n,c,g,h,i,s,o))}),r.foreach((u,h)=>{const g=us(t,u);fO(e,Kr(g))||(c=uI(n,c,g,h,i,s,o))}),c}(n,e,h.path,h.children,r,i,s):((0,ne.hu)(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered(),o=dI(n,e,h.path,h.children,r,i,c,s))}else if(t.type===Dc.ACK_USER_WRITE){const h=t;o=h.revert?function Ej(n,e,t,r,i,s){let o;if(null!=iI(r,t))return e;{const c=new lI(r,e,i),u=e.eventCache.getNode();let h;if($r(t)||".priority"===Kr(t)){let g;if(e.serverCache.isFullyInitialized())g=rI(r,Ed(e));else{const _=e.serverCache.getNode();(0,ne.hu)(_ instanceof Rr,"serverChildren would be complete if leaf node"),g=HT(r,_)}h=n.filter.updateFullNode(u,g,s)}else{const g=Kr(t);let _=hg(r,g,e.serverCache);null==_&&e.serverCache.isCompleteForChild(g)&&(_=u.getImmediateChild(g)),h=null!=_?n.filter.updateChild(u,g,_,Wi(t),c,s):e.eventCache.getNode().hasChild(g)?n.filter.updateChild(u,g,Rr.EMPTY_NODE,Wi(t),c,s):u,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=rI(r,Ed(e)),o.isLeafNode()&&(h=n.filter.updateFullNode(h,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=iI(r,oi()),ug(e,h,o,n.filter.filtersNodes())}}(n,e,h.path,r,i,s):function gO(n,e,t,r,i,s,o){if(null!=iI(i,t))return e;const c=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if($r(t)&&u.isFullyInitialized()||u.isCompleteForPath(t))return sf(n,e,t,u.getNode().getChild(t),i,s,c,o);if($r(t)){let h=new ts(null);return u.getNode().forEachChild(Pa,(g,_)=>{h=h.set(new Ai(g),_)}),dI(n,e,t,h,i,s,c,o)}return e}{let h=new ts(null);return r.foreach((g,_)=>{const I=us(t,g);u.isCompleteForPath(I)&&(h=h.set(g,u.getNode().getChild(I)))}),dI(n,e,t,h,i,s,c,o)}}(n,e,h.path,h.affectedTree,r,i,s)}else{if(t.type!==Dc.LISTEN_COMPLETE)throw(0,ne.g5)("Unknown operation type: "+t.type);o=function mO(n,e,t,r,i){const s=e.serverCache;return WT(n,rf(e,s.getNode(),s.isFullyInitialized()||$r(t),s.isFiltered()),t,r,cI,i)}(n,e,t.path,r,s)}const u=s.getChanges();return function hO(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Kv(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(tO(Kv(e)))}}(e,o,u),{viewCache:o,changes:u}}(n.processor_,i,e,t,r);return function bj(n,e){(0,ne.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ne.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,ne.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,Za(n,s.changes,s.viewCache.eventCache.getNode(),null)}function Za(n,e,t,r){return function qv(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function ZE(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),nf(n,i,"child_removed",e,r,t),nf(n,i,"child_added",e,r,t),nf(n,i,"child_moved",s,r,t),nf(n,i,"child_changed",e,r,t),nf(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let Qv,j_;class Jv{constructor(){this.views=new Map}}function eb(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return(0,ne.hu)(null!=s,"SyncTree gave us an op for an invalid query."),KT(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(KT(o,e,t,r));return s}}function fI(n,e,t,r,i){const o=n.views.get(e._queryIdentifier);if(!o){let c=rI(t,i?r:null),u=!1;c?u=!0:r instanceof Rr?(c=HT(t,r),u=!1):(c=Rr.EMPTY_NODE,u=!1);const h=Gv(new bu(c,u,!1),new bu(r,i,!1));return new _O(e,h)}return o}function pI(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Cd(n,e){let t=null;for(const r of n.views.values())t=t||Ij(r,e);return t}function gI(n,e){return e._queryParams.loadsAllData()?il(n):n.views.get(e._queryIdentifier)}function YT(n,e){return null!=gI(n,e)}function Ul(n){return null!=il(n)}function il(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let EO=1;class IO{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ts(null),this.pendingWriteTree_=function yj(){return{visibleWrites:Bl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _I(n,e,t,r,i){return function oO(n,e,t,r,i){(0,ne.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=F_(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?af(n,new tf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Sd(n,e,t=!1){const r=function jT(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function VT(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);(0,ne.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const c=n.allWrites[o];c.visible&&(o>=t&&zT(c,r.path)?i=!1:xc(r.path,c.path)&&(s=!0)),o--}return!!i&&(s?(function aO(n){n.visibleWrites=lO(n.allWrites,cO,oi()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=LT(n.visibleWrites,r.path):ks(r.children,u=>{n.visibleWrites=LT(n.visibleWrites,us(r.path,u))}),!0))}(n.pendingWriteTree_,e)){let s=new ts(null);return null!=r.snap?s=s.set(oi(),!0):ks(r.children,o=>{s=s.set(new Ai(o),!0)}),af(n,new Wv(r.path,s,t))}return[]}function V_(n,e,t){return af(n,new tf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function tb(n,e,t,r,i=!1){const s=e._path,o=n.syncPointTree_.get(s);let c=[];if(o&&("default"===e._queryIdentifier||YT(o,e))){const u=function ZT(n,e,t,r){const i=e._queryIdentifier,s=[];let o=[];const c=Ul(n);if("default"===i)for(const[u,h]of n.views.entries())o=o.concat(Xv(h,t,r)),Mc(h)&&(n.views.delete(u),h.query._queryParams.loadsAllData()||s.push(h.query));else{const u=n.views.get(i);u&&(o=o.concat(Xv(u,t,r)),Mc(u)&&(n.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return c&&!Ul(n)&&s.push(new(function bO(){return(0,ne.hu)(Qv,"Reference.ts has not been loaded"),Qv}())(e._repo,e._path)),{removed:s,events:o}}(o,e,t,r);(function hI(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const h=u.removed;if(c=u.events,!i){const g=-1!==h.findIndex(I=>I._queryParams.loadsAllData()),_=n.syncPointTree_.findOnPath(s,(I,w)=>Ul(w));if(g&&!_){const I=n.syncPointTree_.subtree(s);if(!I.isEmpty()){const w=function Tj(n){return n.fold((e,t,r)=>{if(t&&Ul(t))return[il(t)];{let i=[];return t&&(i=pI(t)),ks(r,(s,o)=>{i=i.concat(o)}),i}})}(I);for(let x=0;x<w.length;++x){const R=w[x],O=R.query,L=nb(n,R);n.listenProvider_.startListening(rb(O),xd(n,O),L.hashFn,L.onComplete)}}}!_&&h.length>0&&!r&&(g?n.listenProvider_.stopListening(rb(e),null):h.forEach(I=>{const w=n.queryToTagMap.get($_(I));n.listenProvider_.stopListening(rb(I),w)}))}!function tD(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=$_(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,h)}return c}function yI(n,e,t,r){const i=wI(n,r);if(null!=i){const s=EI(i),o=s.path,c=s.queryId,u=ha(o,e);return eD(n,o,new tf($v(c),u,t))}return[]}function z_(n,e,t,r=!1){const i=e._path;let s=null,o=!1;n.syncPointTree_.foreachOnPath(i,(I,w)=>{const x=ha(I,i);s=s||Cd(w,x),o=o||Ul(w)});let u,c=n.syncPointTree_.get(i);c?(o=o||Ul(c),s=s||Cd(c,oi())):(c=new Jv,n.syncPointTree_=n.syncPointTree_.set(i,c)),null!=s?u=!0:(u=!1,s=Rr.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((w,x)=>{const R=Cd(x,oi());R&&(s=s.updateImmediateChild(w,R))}));const h=YT(c,e);if(!h&&!e._queryParams.loadsAllData()){const I=$_(e);(0,ne.hu)(!n.queryToTagMap.has(I),"View does not exist, but we have a tag");const w=function CO(){return EO++}();n.queryToTagMap.set(I,w),n.tagToQueryMap.set(w,I)}let _=function wO(n,e,t,r,i,s){const o=fI(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),function yO(n,e){n.eventRegistrations_.push(e)}(o,t),function Cj(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(es,(s,o)=>{r.push(vd(s,o))}),t.isFullyInitialized()&&r.push(tO(t.getNode())),Za(n,r,t.getNode(),e)}(o,t)}(c,e,t,B_(n.pendingWriteTree_,i),s,u);if(!h&&!o&&!r){const I=gI(c,e);_=_.concat(function SO(n,e,t){const r=e._path,i=xd(n,e),s=nb(n,t),o=n.listenProvider_.startListening(rb(e),i,s.hashFn,s.onComplete),c=n.syncPointTree_.subtree(r);if(i)(0,ne.hu)(!Ul(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((h,g,_)=>{if(!$r(h)&&g&&Ul(g))return[il(g).query];{let I=[];return g&&(I=I.concat(pI(g).map(w=>w.query))),ks(_,(w,x)=>{I=I.concat(x)}),I}});for(let h=0;h<u.length;++h){const g=u[h];n.listenProvider_.stopListening(rb(g),xd(n,g))}}return o}(n,e,I))}return _}function H_(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,c)=>{const h=Cd(c,ha(o,e));if(h)return h});return nI(i,e,s,t,!0)}function af(n,e){return vI(e,n.syncPointTree_,null,B_(n.pendingWriteTree_,oi()))}function vI(n,e,t,r){if($r(n.path))return bI(n,e,t,r);{const i=e.get(oi());null==t&&null!=i&&(t=Cd(i,oi()));let s=[];const o=Kr(n.path),c=n.operationForChild(o),u=e.children.get(o);if(u&&c){const h=t?t.getImmediateChild(o):null,g=sI(r,o);s=s.concat(vI(c,u,h,g))}return i&&(s=s.concat(eb(i,n,r,t))),s}}function bI(n,e,t,r){const i=e.get(oi());null==t&&null!=i&&(t=Cd(i,oi()));let s=[];return e.children.inorderTraversal((o,c)=>{const u=t?t.getImmediateChild(o):null,h=sI(r,o),g=n.operationForChild(o);g&&(s=s.concat(bI(g,c,u,h)))}),i&&(s=s.concat(eb(i,n,r,t))),s}function nb(n,e){const t=e.query,r=xd(n,t);return{hashFn:()=>(function qT(n){return n.viewCache_.serverCache.getNode()}(e)||Rr.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function QT(n,e,t){const r=wI(n,t);if(r){const i=EI(r),s=i.path,o=i.queryId,c=ha(s,e);return eD(n,s,new O_($v(o),c))}return[]}(n,t._path,r):function xj(n,e){return af(n,new O_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function Dk(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return tb(n,t,null,s)}}}}function xd(n,e){const t=$_(e);return n.queryToTagMap.get(t)}function $_(n){return n._path.toString()+"$"+n._queryIdentifier}function wI(n,e){return n.tagToQueryMap.get(e)}function EI(n){const e=n.indexOf("$");return(0,ne.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ai(n.substr(0,e))}}function eD(n,e,t){const r=n.syncPointTree_.get(e);return(0,ne.hu)(r,"Missing sync point for query tag that we're tracking"),eb(r,t,B_(n.pendingWriteTree_,e),null)}function rb(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Eu(){return(0,ne.hu)(j_,"Reference.ts has not been loaded"),j_}())(n._repo,n._path):n}class II{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new II(t)}node(){return this.node_}}class nD{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=us(this.path_,e);return new nD(this.syncTree_,t)}node(){return H_(this.syncTree_,this.path_)}}const xO=function(n,e,t){return n&&"object"==typeof n?((0,ne.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Mj(n[".sv"],e,t):"object"==typeof n[".sv"]?Nj(n[".sv"],e):void(0,ne.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Mj=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,ne.hu)(!1,"Unexpected server value: "+n)},Nj=function(n,e,t){n.hasOwnProperty("increment")||(0,ne.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,ne.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,ne.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},rD=function(n,e,t,r){return CI(e,new nD(t,n),r)},fg=function(n,e,t){return CI(n,new II(e),t)};function CI(n,e,t){const r=n.getPriority().val(),i=xO(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,c=xO(o.getValue(),e,t);return c!==o.getValue()||i!==o.getPriority().val()?new sg(c,ds(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new sg(i))),o.forEachChild(es,(c,u)=>{const h=CI(u,e.getImmediateChild(c),t);h!==u&&(s=s.updateImmediateChild(c,h))}),s}}class SI{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function W_(n,e){let t=e instanceof Ai?e:new Ai(e),r=n,i=Kr(t);for(;null!==i;){const s=(0,ne.DV)(r.node.children,i)||{children:{},childCount:0};r=new SI(i,r,s),t=Wi(t),i=Kr(t)}return r}function Ya(n){return n.node.value}function ib(n,e){n.node.value=e,iD(n)}function sb(n){return n.node.childCount>0}function ob(n,e){ks(n.node.children,(t,r)=>{e(new SI(t,n,r))})}function ab(n,e,t,r){t&&!r&&e(n),ob(n,i=>{ab(i,e,!0,r)}),t&&r&&e(n)}function Ad(n){return new Ai(null===n.parent?n.name:Ad(n.parent)+"/"+n.name)}function iD(n){null!==n.parent&&function Pj(n,e,t){const r=function xI(n){return void 0===Ya(n)&&!sb(n)}(t),i=(0,ne.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,iD(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,iD(n))}(n.parent,n.name,n)}const Rj=/[\[\].#$\/\u0000-\u001F\u007F]/,kj=/[\[\].#$\u0000-\u001F\u007F]/,cb=10485760,lb=function(n){return"string"==typeof n&&0!==n.length&&!Rj.test(n)},sD=function(n){return"string"==typeof n&&0!==n.length&&!kj.test(n)},q_=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!gd(n)||n&&"object"==typeof n&&(0,ne.r3)(n,".sv")},sl=function(n,e,t,r){r&&void 0===e||pg((0,ne.gK)(n,"value"),e,t)},pg=function(n,e,t){const r=t instanceof Ai?new gT(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Qh(r));if("function"==typeof e)throw new Error(n+"contains a function "+Qh(r)+" with contents = "+e.toString());if(gd(e))throw new Error(n+"contains "+e.toString()+" "+Qh(r));if("string"==typeof e&&e.length>cb/3&&(0,ne.ug)(e)>cb)throw new Error(n+"contains a string greater than "+cb+" utf8 bytes "+Qh(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(ks(e,(o,c)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!lb(o)))throw new Error(n+" contains an invalid key ("+o+") "+Qh(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function cj(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,ne.ug)(e),_T(n)})(r,o),pg(n,c,r),function mT(n){const e=n.parts_.pop();n.byteLength_-=(0,ne.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+Qh(r)+" in addition to actual children.")}},aD=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,ne.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];ks(e,(o,c)=>{const u=new Ai(o);if(pg(i,c,us(t,u)),".priority"===Pv(u)&&!q_(c))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const s=ig(r);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!lb(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Gk);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&xc(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},TI=function(n,e,t){if(!t||void 0!==e){if(gd(e))throw new Error((0,ne.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!q_(e))throw new Error((0,ne.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},gg=function(n,e,t,r){if(!(r&&void 0===t||lb(t)))throw new Error((0,ne.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},cf=function(n,e,t,r){if(!(r&&void 0===t||sD(t)))throw new Error((0,ne.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xa=function(n,e){if(".info"===Kr(e))throw new Error(n+" failed = Can't modify data under /.info/")},ub=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!lb(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),sD(n)}(t))throw new Error((0,ne.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class TO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function db(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!zE(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function DO(n,e,t){db(n,t),cD(n,r=>zE(r,e))}function Nc(n,e,t){db(n,t),cD(n,r=>xc(r,e)||xc(e,r))}function cD(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(MO(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function MO(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();pd&&lo("event: "+t.toString()),Kh(r)}}}const lD="repo_interrupt";class Fj{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new TO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hv(),this.transactionQueueTree_=new SI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function NO(n){const t=n.infoData_.getNode(new Ai(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function hb(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:NO(n)})}function uD(n,e,t,r,i){n.dataUpdateCount++;const s=new Ai(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const u=(0,ne.UI)(t,h=>ds(h));o=function Aj(n,e,t,r){const i=wI(n,r);if(i){const s=EI(i),o=s.path,c=s.queryId,u=ha(o,e),h=ts.fromObject(t);return eD(n,o,new wd($v(c),u,h))}return[]}(n.serverSyncTree_,s,u,i)}else{const u=ds(t);o=yI(n.serverSyncTree_,s,u,i)}else if(r){const u=(0,ne.UI)(t,h=>ds(h));o=function XT(n,e,t){const r=ts.fromObject(t);return af(n,new wd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,u)}else{const u=ds(t);o=V_(n.serverSyncTree_,s,u)}let c=s;o.length>0&&(c=dn(n,s)),Nc(n.eventQueue_,c,o)}function PO(n,e){dD(n,"connected",e),!1===e&&function l(n){$(n,"onDisconnectEvents");const e=hb(n),t=Hv();JE(n.onDisconnect_,oi(),(i,s)=>{const o=rD(i,s,n.serverSyncTree_,e);Xs(t,i,o)});let r=[];JE(t,oi(),(i,s)=>{r=r.concat(V_(n.serverSyncTree_,i,s));const o=Es(n,i);dn(n,o)}),n.onDisconnect_=Hv(),Nc(n.eventQueue_,oi(),r)}(n)}function dD(n,e,t){const r=new Ai("/.info/"+e),i=ds(t);n.infoData_.updateSnapshot(r,i);const s=V_(n.infoSyncTree_,r,i);Nc(n.eventQueue_,r,s)}function DI(n){return n.nextWriteId_++}function hD(n,e,t,r,i){$(n,"set",{path:e.toString(),value:t,priority:r});const s=hb(n),o=ds(t,r),c=H_(n.serverSyncTree_,e),u=fg(o,c,s),h=DI(n),g=_I(n.serverSyncTree_,e,u,h,!0);db(n.eventQueue_,g),n.server_.put(e.toString(),o.val(!0),(I,w)=>{const x="ok"===I;x||Zo("set at "+e+" failed: "+I);const R=Sd(n.serverSyncTree_,h,!x);Nc(n.eventQueue_,e,R),ue(0,i,I,w)});const _=Es(n,e);dn(n,_),Nc(n.eventQueue_,_,[])}function d(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&bd(n.onDisconnect_,e),ue(0,t,r,i)})}function f(n,e,t,r){const i=ds(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{"ok"===s&&Xs(n.onDisconnect_,e,i),ue(0,r,s,o)})}function M(n,e,t){let r;r=".info"===Kr(e._path)?tb(n.infoSyncTree_,e,t):tb(n.serverSyncTree_,e,t),DO(n.eventQueue_,e._path,r)}function k(n){n.persistentConnection_&&n.persistentConnection_.interrupt(lD)}function $(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),lo(t,...e)}function ue(n,e,t,r){e&&Kh(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function We(n,e,t){return H_(n.serverSyncTree_,e,t)||Rr.EMPTY_NODE}function wt(n,e=n.transactionQueueTree_){if(e||qi(n,e),Ya(e)){const t=Gt(n,e);(0,ne.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function nn(n,e,t){const r=t.map(h=>h.currentWriteId),i=We(n,e,r);let s=i;const o=i.hash();for(let h=0;h<t.length;h++){const g=t[h];(0,ne.hu)(0===g.status,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const _=ha(e,g.path);s=s.updateChild(_,g.currentOutputSnapshotRaw)}const c=s.val(!0),u=e;n.server_.put(u.toString(),c,h=>{$(n,"transaction put response",{path:u.toString(),status:h});let g=[];if("ok"===h){const _=[];for(let I=0;I<t.length;I++)t[I].status=2,g=g.concat(Sd(n.serverSyncTree_,t[I].currentWriteId)),t[I].onComplete&&_.push(()=>t[I].onComplete(null,!0,t[I].currentOutputSnapshotResolved)),t[I].unwatcher();qi(n,W_(n.transactionQueueTree_,e)),wt(n,n.transactionQueueTree_),Nc(n.eventQueue_,e,g);for(let I=0;I<_.length;I++)Kh(_[I])}else{if("datastale"===h)for(let _=0;_<t.length;_++)t[_].status=3===t[_].status?4:0;else{Zo("transaction at "+u.toString()+" failed: "+h);for(let _=0;_<t.length;_++)t[_].status=4,t[_].abortReason=h}dn(n,e)}},o)}(n,Ad(e),t)}else sb(e)&&ob(e,t=>{wt(n,t)})}function dn(n,e){const t=dr(n,e),r=Ad(t);return function Wn(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(c=>0===c.status).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const u=e[c],h=ha(t,u.path);let _,g=!1;if((0,ne.hu)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)g=!0,_=u.abortReason,i=i.concat(Sd(n.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)g=!0,_="maxretry",i=i.concat(Sd(n.serverSyncTree_,u.currentWriteId,!0));else{const I=We(n,u.path,o);u.currentInputSnapshot=I;const w=e[c].update(I.val());if(void 0!==w){pg("transaction failed: Data returned ",w,u.path);let x=ds(w);"object"==typeof w&&null!=w&&(0,ne.r3)(w,".priority")||(x=x.updatePriority(I.getPriority()));const O=u.currentWriteId,L=hb(n),U=fg(x,I,L);u.currentOutputSnapshotRaw=x,u.currentOutputSnapshotResolved=U,u.currentWriteId=DI(n),o.splice(o.indexOf(O),1),i=i.concat(_I(n.serverSyncTree_,u.path,U,u.currentWriteId,u.applyLocally)),i=i.concat(Sd(n.serverSyncTree_,O,!0))}else g=!0,_="nodata",i=i.concat(Sd(n.serverSyncTree_,u.currentWriteId,!0))}Nc(n.eventQueue_,t,i),i=[],g&&(e[c].status=2,setTimeout(e[c].unwatcher,Math.floor(0)),e[c].onComplete&&r.push("nodata"===_?()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot):()=>e[c].onComplete(new Error(_),!1,null)))}qi(n,n.transactionQueueTree_);for(let c=0;c<r.length;c++)Kh(r[c]);wt(n,n.transactionQueueTree_)}(n,Gt(n,t),r),r}function dr(n,e){let t,r=n.transactionQueueTree_;for(t=Kr(e);null!==t&&void 0===Ya(r);)r=W_(r,t),t=Kr(e=Wi(e));return r}function Gt(n,e){const t=[];return Ar(n,e,t),t.sort((r,i)=>r.order-i.order),t}function Ar(n,e,t){const r=Ya(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);ob(e,i=>{Ar(n,i,t)})}function qi(n,e){const t=Ya(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,ib(e,t.length>0?t:void 0)}ob(e,r=>{qi(n,r)})}function Es(n,e){const t=Ad(dr(n,e)),r=W_(n.transactionQueueTree_,e);return function AI(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{fD(n,i)}),fD(n,r),ab(r,i=>{fD(n,i)}),t}function fD(n,e){const t=Ya(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?((0,ne.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):((0,ne.hu)(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Sd(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?ib(e,void 0):t.length=s+1,Nc(n.eventQueue_,Ad(e),i);for(let o=0;o<r.length;o++)Kh(r[o])}}const RO=function(n,e){const t=OX(n),r=t.namespace;return"firebase.com"===t.domain&&kl(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&kl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Zo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new NE(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Ai(t.pathString)}},OX=function(n){let e="",t="",r="",i="",s="",o=!0,c="https",u=443;if("string"==typeof n){let h=n.indexOf("//");h>=0&&(c=n.substring(0,h-1),n=n.substring(h+2));let g=n.indexOf("/");-1===g&&(g=n.length);let _=n.indexOf("?");-1===_&&(_=n.length),e=n.substring(0,Math.min(g,_)),g<_&&(i=function RX(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(g,_)));const I=function kX(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Zo(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,_)));h=e.indexOf(":"),h>=0?(o="https"===c||"wss"===c,u=parseInt(e.substring(h+1),10)):h=e.length;const w=e.slice(0,h);if("localhost"===w.toLowerCase())t="localhost";else if(w.split(".").length<=2)t=w;else{const x=e.indexOf(".");r=e.substring(0,x).toLowerCase(),t=e.substring(x+1),s=r}"ns"in I&&(s=I.ns)}return{host:e,port:u,domain:t,subdomain:r,secure:o,scheme:c,pathString:i,namespace:s}},Vj="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",LX=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Vj.charAt(t%64),t=Math.floor(t/64);(0,ne.hu)(0===t,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=Vj.charAt(e[i]);return(0,ne.hu)(20===o.length,"nextPushId: Length should be 20."),o}}();class zj{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ne.Wl)(this.snapshot.exportVal())}}class Hj{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class kO{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,ne.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class $j{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new ne.BH;return d(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Xa("OnDisconnect.remove",this._path);const e=new ne.BH;return f(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Xa("OnDisconnect.set",this._path),sl("OnDisconnect.set",e,this._path,!1);const t=new ne.BH;return f(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Xa("OnDisconnect.setWithPriority",this._path),sl("OnDisconnect.setWithPriority",e,this._path,!1),TI("OnDisconnect.setWithPriority",t,!1);const r=new ne.BH;return function m(n,e,t,r,i){const s=ds(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(o,c)=>{"ok"===o&&Xs(n.onDisconnect_,e,s),ue(0,i,o,c)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){Xa("OnDisconnect.update",this._path),aD("OnDisconnect.update",e,this._path,!1);const t=new ne.BH;return function v(n,e,t,r){if((0,ne.xb)(t))return lo("onDisconnect().update() called with empty data.  Don't do anything."),void ue(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{"ok"===i&&ks(t,(o,c)=>{const u=ds(c);Xs(n.onDisconnect_,us(e,o),u)}),ue(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Pc{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return $r(this._path)?null:Pv(this._path)}get ref(){return new jl(this._repo,this._path)}get _queryIdentifier(){const e=QE(this._queryParams),t=Sv(e);return"{}"===t?"default":t}get _queryObject(){return QE(this._queryParams)}isEqual(e){if(!((e=(0,ne.m9)(e))instanceof Pc))return!1;const t=this._repo===e._repo,r=zE(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function jE(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function pD(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function mg(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Pa){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==md)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==vu)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===es){if(null!=e&&!q_(e)||null!=t&&!q_(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ne.hu)(n.getIndex()instanceof Fv||n.getIndex()===KE,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function gD(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class jl extends Pc{constructor(e,t){super(e,t,new Bv,!1)}get parent(){const e=VE(this._path);return null===e?null:new jl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class G_{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ai(e),r=K_(this.ref,e);return new G_(this._node.getChild(t),r,es)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new G_(i,K_(this.ref,r),es)))}hasChild(e){const t=new Ai(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Wj(n,e){return(n=(0,ne.m9)(n))._checkNotDeleted("ref"),void 0!==e?K_(n._root,e):n._root}function qj(n,e){(n=(0,ne.m9)(n))._checkNotDeleted("refFromURL");const t=RO(e,n._repo.repoInfo_.nodeAdmin);ub("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&kl("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),Wj(n,t.path.toString())}function K_(n,e){return null===Kr((n=(0,ne.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),cf("child","path",t,!1)):cf("child","path",e,!1),new jl(n._repo,us(n._path,e));var t}function OO(n,e){n=(0,ne.m9)(n),Xa("set",n._path),sl("set",e,n._path,!1);const t=new ne.BH;return hD(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function VX(n,e){aD("update",e,n._path,!1);const t=new ne.BH;return function a(n,e,t,r){$(n,"update",{path:e.toString(),value:t});let i=!0;const s=hb(n),o={};if(ks(t,(c,u)=>{i=!1,o[c]=rD(us(e,c),ds(u),n.serverSyncTree_,s)}),i)lo("update() called with empty data.  Don't do anything."),ue(0,r,"ok",void 0);else{const c=DI(n),u=function Sj(n,e,t,r){!function UT(n,e,t,r){(0,ne.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=tI(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=ts.fromObject(t);return af(n,new wd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,o,c);db(n.eventQueue_,u),n.server_.merge(e.toString(),t,(h,g)=>{const _="ok"===h;_||Zo("update at "+e+" failed: "+h);const I=Sd(n.serverSyncTree_,c,!_),w=I.length>0?dn(n,e):e;Nc(n.eventQueue_,w,I),ue(0,r,h,g)}),ks(t,h=>{const g=Es(n,us(e,h));dn(n,g)}),Nc(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function zX(n){n=(0,ne.m9)(n);const e=new kO(()=>{}),t=new MI(e);return function jj(n,e,t){const r=function JT(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(h,g)=>{const _=ha(h,t);r=r||Cd(g,_)});let i=n.syncPointTree_.get(t);i?r=r||Cd(i,oi()):(i=new Jv,n.syncPointTree_=n.syncPointTree_.set(t,i));const s=null!=r,o=s?new bu(r,!0,!1):null;return function GT(n){return Kv(n.viewCache_)}(fI(i,e,B_(n.pendingWriteTree_,e._path),s?o.getNode():Rr.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=r?Promise.resolve(r):n.server_.get(e).then(i=>{const s=ds(i).withIndex(e._queryParams.getIndex());let o;if(z_(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())o=V_(n.serverSyncTree_,e._path,s);else{const c=xd(n.serverSyncTree_,e);o=yI(n.serverSyncTree_,e._path,s,c)}return Nc(n.eventQueue_,e._path,o),tb(n.serverSyncTree_,e,t,null,!0),s},i=>($(n,"get for query "+(0,ne.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(n._repo,n,t).then(r=>new G_(r,new jl(n._repo,n._path),n._queryParams.getIndex()))}class MI{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new zj("value",this,new G_(e.snapshotNode,new jl(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Hj(this,e,t):null}matches(e){return e instanceof MI&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class mD{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Hj(this,e,t):null}createEvent(e,t){(0,ne.hu)(null!=e.childName,"Child events should have a childName.");const r=K_(new jl(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new zj(e.type,this,new G_(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof mD&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function NI(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const u=t,h=(g,_)=>{M(n._repo,n,c),u(g,_)};h.userCallback=t.userCallback,h.context=t.context,t=h}const o=new kO(t,s||void 0),c="value"===e?new MI(o):new mD(e,o);return function S(n,e,t){let r;r=".info"===Kr(e._path)?z_(n.infoSyncTree_,e,t):z_(n.serverSyncTree_,e,t),DO(n.eventQueue_,e._path,r)}(n._repo,n,c),()=>M(n._repo,n,c)}function LO(n,e,t,r){return NI(n,"value",e,t,r)}function Gj(n,e,t,r){return NI(n,"child_added",e,t,r)}function Kj(n,e,t,r){return NI(n,"child_changed",e,t,r)}function Zj(n,e,t,r){return NI(n,"child_moved",e,t,r)}function Yj(n,e,t,r){return NI(n,"child_removed",e,t,r)}function Xj(n,e,t){let r=null;const i=t?new kO(t):null;"value"===e?r=new MI(i):e&&(r=new mD(e,i)),M(n._repo,n,r)}class Iu{}class Qj extends Iu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){sl("endAt",this._value,e._path,!0);const t=jv(e._queryParams,this._value,this._key);if(gD(t),mg(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Pc(e._repo,e._path,t,e._orderByCalled)}}class $X extends Iu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){sl("endBefore",this._value,e._path,!1);const t=function MT(n,e,t){let r;return r=jv(n,e,n.index_===Pa||t?t:md),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(gD(t),mg(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Pc(e._repo,e._path,t,e._orderByCalled)}}class Jj extends Iu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){sl("startAt",this._value,e._path,!0);const t=Uv(e._queryParams,this._value,this._key);if(gD(t),mg(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Pc(e._repo,e._path,t,e._orderByCalled)}}class GX extends Iu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){sl("startAfter",this._value,e._path,!1);const t=function DT(n,e,t){let r;return r=Uv(n,e,n.index_===Pa||t?t:vu),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(gD(t),mg(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Pc(e._repo,e._path,t,e._orderByCalled)}}class ZX extends Iu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Pc(e._repo,e._path,function TT(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class XX extends Iu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Pc(e._repo,e._path,function YE(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class JX extends Iu{constructor(e){super(),this._path=e}_apply(e){pD(e,"orderByChild");const t=new Ai(this._path);if($r(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Fv(t),i=Vv(e._queryParams,r);return mg(i),new Pc(e._repo,e._path,i,!0)}}class tQ extends Iu{_apply(e){pD(e,"orderByKey");const t=Vv(e._queryParams,Pa);return mg(t),new Pc(e._repo,e._path,t,!0)}}class rQ extends Iu{_apply(e){pD(e,"orderByPriority");const t=Vv(e._queryParams,es);return mg(t),new Pc(e._repo,e._path,t,!0)}}class sQ extends Iu{_apply(e){pD(e,"orderByValue");const t=Vv(e._queryParams,KE);return mg(t),new Pc(e._repo,e._path,t,!0)}}class aQ extends Iu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(sl("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Qj(this._value,this._key)._apply(new Jj(this._value,this._key)._apply(e))}}function Cu(n,...e){let t=(0,ne.m9)(n);for(const r of e)t=r._apply(t);return t}(function vO(n){(0,ne.hu)(!Qv,"__referenceConstructor has already been defined"),Qv=n})(jl),function mI(n){(0,ne.hu)(!j_,"__referenceConstructor has already been defined"),j_=n}(jl);const FO={};function t7(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||kl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lo("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u,h,o=RO(s,i),c=o.repoInfo;typeof process<"u"&&process.env&&(h=process.env.FIREBASE_DATABASE_EMULATOR_HOST),h?(u=!0,s=`http://${h}?ns=${c.namespace}`,o=RO(s,i),c=o.repoInfo):u=!o.repoInfo.secure;const g=i&&u?new xv(xv.OWNER):new aj(n.name,n.options,e);ub("Invalid Firebase Database URL",o),$r(o.path)||kl("Database URL must point to the root of a Firebase Database (not including a child path).");const _=function hQ(n,e,t,r){let i=FO[e.name];i||(i={},FO[e.name]=i);let s=i[n.toURLString()];return s&&kl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Fj(n,false,t,r),i[n.toURLString()]=s,s}(c,n,g,new oj(n.name,t));return new pQ(_,n)}class pQ{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Bj(n,e,t){if(n.stats_=Yh(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new zv(n.repoInfo_,(r,i,s,o)=>{uD(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>PO(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ne.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Jh(n.repoInfo_,e,(r,i,s,o)=>{uD(n,r,i,s,o)},r=>{PO(n,r)},r=>{!function Uj(n,e){ks(e,(t,r)=>{dD(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function kk(n,e){const t=n.toString();return RE[t]||(RE[t]=e()),RE[t]}(n.repoInfo_,()=>new R_(n.stats_,n.server_)),n.infoData_=new NT,n.infoSyncTree_=new IO({startListening:(r,i,s,o)=>{let c=[];const u=n.infoData_.getNode(r._path);return u.isEmpty()||(c=V_(n.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),dD(n,"connected",!1),n.serverSyncTree_=new IO({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(c,u)=>{const h=o(c,u);Nc(n.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new jl(this._repo,oi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function dQ(n,e){const t=FO[e];(!t||t[n.key]!==n)&&kl(`Database ${e}(${n.repoInfo_}) has already been deleted.`),k(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&kl("Cannot call "+e+" on a deleted database.")}}function n7(){OE.IS_TRANSPORT_INITIALIZED&&Zo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function gQ(){n7(),_d.forceDisallow()}function mQ(){n7(),rg.forceDisallow(),_d.forceAllow()}function _Q(n=(0,gi.getApp)(),e){const t=(0,gi._getProvider)(n,"database").getImmediate({identifier:e}),r=(0,ne.P0)("database");return r&&r7(t,...r),t}function r7(n,e,t,r={}){(n=(0,ne.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&kl("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&kl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new xv(xv.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:(0,ne.Sg)(r.mockUserToken,n.app.options.projectId);s=new xv(o)}!function uQ(n,e,t,r){n.repoInfo_=new NE(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,s)}function bQ(n,e){AE(n,e)}const EQ={".sv":"timestamp"};class SQ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Jh.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Jh.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function wQ(n){FA(gi.SDK_VERSION),(0,gi._registerComponent)(new yo.wA("database",(e,{instanceIdentifier:t})=>t7(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,gi.registerVersion)(xE,"0.14.0",n),(0,gi.registerVersion)(xE,"0.14.0","esm2017")}();const DQ=new Na.Yd("@firebase/database-compat"),i7=function(n){DQ.warn("FIREBASE WARNING: "+n)};class PQ{constructor(e){this._delegate=e}cancel(e){(0,ne.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ne.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,ne.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ne.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,ne.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ne.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,ne.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ne.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if((0,ne.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,i7("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ne.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class RQ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,ne.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class _g{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,ne.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ne.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ne.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ne.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,ne.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),cf("DataSnapshot.child","path",e,!1),new _g(this._database,this._delegate.child(e))}hasChild(e){return(0,ne.Dv)("DataSnapshot.hasChild",1,1,arguments.length),cf("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,ne.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,ne.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ne.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new _g(this._database,t)))}hasChildren(){return(0,ne.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ne.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ne.Dv)("DataSnapshot.ref",0,0,arguments.length),new ol(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class pa{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var s;(0,ne.Dv)("Query.on",2,4,arguments.length),(0,ne.Wj)("Query.on","callback",t,!1);const o=pa.getCancelAndContextArgs_("Query.on",r,i),c=(h,g)=>{t.call(o.context,new _g(this.database,h),g)};c.userCallback=t,c.context=o.context;const u=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(e){case"value":return LO(this._delegate,c,u),t;case"child_added":return Gj(this._delegate,c,u),t;case"child_removed":return Yj(this._delegate,c,u),t;case"child_changed":return Kj(this._delegate,c,u),t;case"child_moved":return Zj(this._delegate,c,u),t;default:throw new Error((0,ne.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,ne.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ne.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,ne.Wj)("Query.off","callback",t,!0),(0,ne.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,Xj(this._delegate,e,i)}else Xj(this._delegate,e)}get(){return zX(this._delegate).then(e=>new _g(this.database,e))}once(e,t,r,i){(0,ne.Dv)("Query.once",1,4,arguments.length),(0,ne.Wj)("Query.once","callback",t,!0);const s=pa.getCancelAndContextArgs_("Query.once",r,i),o=new ne.BH,c=(h,g)=>{const _=new _g(this.database,h);t&&t.call(s.context,_,g),o.resolve(_)};c.userCallback=t,c.context=s.context;const u=h=>{s.cancel&&s.cancel.call(s.context,h),o.reject(h)};switch(e){case"value":LO(this._delegate,c,u,{onlyOnce:!0});break;case"child_added":Gj(this._delegate,c,u,{onlyOnce:!0});break;case"child_removed":Yj(this._delegate,c,u,{onlyOnce:!0});break;case"child_changed":Kj(this._delegate,c,u,{onlyOnce:!0});break;case"child_moved":Zj(this._delegate,c,u,{onlyOnce:!0});break;default:throw new Error((0,ne.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return(0,ne.Dv)("Query.limitToFirst",1,1,arguments.length),new pa(this.database,Cu(this._delegate,function YX(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ZX(n)}(e)))}limitToLast(e){return(0,ne.Dv)("Query.limitToLast",1,1,arguments.length),new pa(this.database,Cu(this._delegate,function QX(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new XX(n)}(e)))}orderByChild(e){return(0,ne.Dv)("Query.orderByChild",1,1,arguments.length),new pa(this.database,Cu(this._delegate,function eQ(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return cf("orderByChild","path",n,!1),new JX(n)}(e)))}orderByKey(){return(0,ne.Dv)("Query.orderByKey",0,0,arguments.length),new pa(this.database,Cu(this._delegate,function nQ(){return new tQ}()))}orderByPriority(){return(0,ne.Dv)("Query.orderByPriority",0,0,arguments.length),new pa(this.database,Cu(this._delegate,function iQ(){return new rQ}()))}orderByValue(){return(0,ne.Dv)("Query.orderByValue",0,0,arguments.length),new pa(this.database,Cu(this._delegate,function oQ(){return new sQ}()))}startAt(e=null,t){return(0,ne.Dv)("Query.startAt",0,2,arguments.length),new pa(this.database,Cu(this._delegate,function qX(n=null,e){return gg("startAt","key",e,!0),new Jj(n,e)}(e,t)))}startAfter(e=null,t){return(0,ne.Dv)("Query.startAfter",0,2,arguments.length),new pa(this.database,Cu(this._delegate,function KX(n,e){return gg("startAfter","key",e,!0),new GX(n,e)}(e,t)))}endAt(e=null,t){return(0,ne.Dv)("Query.endAt",0,2,arguments.length),new pa(this.database,Cu(this._delegate,function HX(n,e){return gg("endAt","key",e,!0),new Qj(n,e)}(e,t)))}endBefore(e=null,t){return(0,ne.Dv)("Query.endBefore",0,2,arguments.length),new pa(this.database,Cu(this._delegate,function WX(n,e){return gg("endBefore","key",e,!0),new $X(n,e)}(e,t)))}equalTo(e,t){return(0,ne.Dv)("Query.equalTo",1,2,arguments.length),new pa(this.database,Cu(this._delegate,function cQ(n,e){return gg("equalTo","key",e,!0),new aQ(n,e)}(e,t)))}toString(){return(0,ne.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ne.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,ne.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof pa))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,ne.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,ne.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,ne.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new ol(this.database,new jl(this._delegate._repo,this._delegate._path))}}class ol extends pa{constructor(e,t){super(e,new Pc(t._repo,t._path,new Bv,!1)),this.database=e,this._delegate=t}getKey(){return(0,ne.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,ne.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new ol(this.database,K_(this._delegate,e))}getParent(){(0,ne.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new ol(this.database,e):null}getRoot(){return(0,ne.Dv)("Reference.root",0,0,arguments.length),new ol(this.database,this._delegate.root)}set(e,t){(0,ne.Dv)("Reference.set",1,2,arguments.length),(0,ne.Wj)("Reference.set","onComplete",t,!0);const r=OO(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,ne.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,i7("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xa("Reference.update",this._delegate._path),(0,ne.Wj)("Reference.update","onComplete",t,!0);const r=VX(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,ne.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ne.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function jX(n,e,t){if(Xa("setWithPriority",n._path),sl("setWithPriority",e,n._path,!1),TI("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new ne.BH;return hD(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){(0,ne.Dv)("Reference.remove",0,1,arguments.length),(0,ne.Wj)("Reference.remove","onComplete",e,!0);const t=function BX(n){return Xa("remove",n._path),OO(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,ne.Dv)("Reference.transaction",1,3,arguments.length),(0,ne.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,ne.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,ne.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function xQ(n,e,t){var r;if(n=(0,ne.m9)(n),Xa("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=t?.applyLocally)||void 0===r||r,s=new ne.BH,c=LO(n,()=>{});return function Me(n,e,t,r,i,s){$(n,"transaction on "+e);const o={path:e,update:t,onComplete:r,status:null,order:ws(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=We(n,e,void 0);o.currentInputSnapshot=c;const u=o.update(c.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{pg("transaction failed: Data returned ",u,o.path),o.status=0;const h=W_(n.transactionQueueTree_,e),g=Ya(h)||[];let _;g.push(o),ib(h,g),"object"==typeof u&&null!==u&&(0,ne.r3)(u,".priority")?(_=(0,ne.DV)(u,".priority"),(0,ne.hu)(q_(_),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):_=(H_(n.serverSyncTree_,e)||Rr.EMPTY_NODE).getPriority().val();const I=hb(n),w=ds(u,_),x=fg(w,c,I);o.currentOutputSnapshotRaw=w,o.currentOutputSnapshotResolved=x,o.currentWriteId=DI(n);const R=_I(n.serverSyncTree_,e,x,o.currentWriteId,o.applyLocally);Nc(n.eventQueue_,e,R),wt(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(u,h,g)=>{let _=null;u?s.reject(u):(_=new G_(g,new jl(n._repo,n._path),es),s.resolve(new SQ(h,_)))},c,i),s.promise}(this._delegate,e,{applyLocally:r}).then(s=>new RQ(s.committed,new _g(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){(0,ne.Dv)("Reference.setPriority",1,2,arguments.length),(0,ne.Wj)("Reference.setPriority","onComplete",t,!0);const r=function UX(n,e){n=(0,ne.m9)(n),Xa("setPriority",n._path),TI("setPriority",e,!1);const t=new ne.BH;return hD(n._repo,us(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,ne.Dv)("Reference.push",0,2,arguments.length),(0,ne.Wj)("Reference.push","onComplete",t,!0);const r=function FX(n,e){n=(0,ne.m9)(n),Xa("push",n._path),sl("push",e,n._path,!0);const t=NO(n._repo),r=LX(t),i=K_(n,r),s=K_(n,r);let o;return o=null!=e?OO(s,e).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(this._delegate,e),i=r.then(o=>new ol(this.database,o));t&&i.then(()=>t(null),o=>t(o));const s=new ol(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return Xa("Reference.onDisconnect",this._delegate._path),new PQ(new $j(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class PI{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:gQ,forceLongPolling:mQ}}useEmulator(e,t,r={}){r7(this._delegate,e,t,r)}ref(e){if((0,ne.Dv)("database.ref",0,1,arguments.length),e instanceof ol){const t=qj(this._delegate,e.toString());return new ol(this,t)}{const t=Wj(this._delegate,e);return new ol(this,t)}}refFromURL(e){(0,ne.Dv)("database.refFromURL",1,1,arguments.length);const r=qj(this._delegate,e);return new ol(this,r)}goOffline(){return(0,ne.Dv)("database.goOffline",0,0,arguments.length),function yQ(n){(n=(0,ne.m9)(n))._checkNotDeleted("goOffline"),k(n._repo)}(this._delegate)}goOnline(){return(0,ne.Dv)("database.goOnline",0,0,arguments.length),function vQ(n){(n=(0,ne.m9)(n))._checkNotDeleted("goOnline"),function B(n){n.persistentConnection_&&n.persistentConnection_.resume(lD)}(n._repo)}(this._delegate)}}PI.ServerValue={TIMESTAMP:function IQ(){return EQ}(),increment:n=>function CQ(n){return{".sv":{increment:n}}}(n)};var OQ=Object.freeze({__proto__:null,initStandalone:function kQ({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){FA(t);const o=new yo.zt("auth-internal",new yo.H0("database-standalone"));return o.setComponent(new yo.wA("auth-internal",()=>r,"PRIVATE")),{instance:new PI(t7(n,o,void 0,e,s),n),namespace:i}}});const LQ=PI.ServerValue;!function FQ(n){n.INTERNAL.registerComponent(new yo.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new PI(i,r)},"PUBLIC").setServiceProps({Reference:ol,Query:pa,Database:PI,DataSnapshot:_g,enableLogging:bQ,INTERNAL:OQ,ServerValue:LQ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.0")}(SE.Z);var _D=Q(5363),BQ=Q(6063);class UQ extends Ta.x{constructor(e=1/0,t=1/0,r=BQ.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let c=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)c=u;c&&r.splice(0,c+1)}}}function yD(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Ev.B)({connector:()=>new UQ(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const vD=(0,Q(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function bD(n){return(0,Ys.e)((e,t)=>{let r=!1;e.subscribe((0,bs.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function s7(n=VQ){return(0,Ys.e)((e,t)=>{let r=!1;e.subscribe((0,bs.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function VQ(){return new vD}function lf(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vc((i,s)=>n(i,s,r)):nd.y,du(1),t?bD(e):s7(()=>new vD))}var RI=Q(576);function o7(n,e){return(0,RI.m)(e)?Ji(()=>n,e):Ji(()=>n)}var BO=Q(9468),ga=Q(259);class al{constructor(e){return e}}class Td{constructor(){return(0,ga.C6)()}}const UO=new p.OlP("angularfire2._apps"),HQ={provide:al,useFactory:function zQ(n){return n&&1===n.length?n[0]:new al((0,ga.Mq)())},deps:[[new p.FiY,UO]]},$Q={provide:Td,deps:[[new p.FiY,UO]]};function WQ(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new al(r)}}let qQ=(()=>{class n{constructor(t){(0,ga.KN)("angularfire",Xt.q4.full,"core"),(0,ga.KN)("angularfire",Xt.q4.full,"app"),(0,ga.KN)("angular",p.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.Lbi))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[HQ,$Q]}),n})();function GQ(n,...e){return{ngModule:qQ,providers:[{provide:UO,useFactory:WQ(n),multi:!0,deps:[p.R0b,p.zs3,Xt.HU,...e]}]}}const KQ=(0,Xt.u3)(ga.ZF,!0),jO=new Map,a7={activated:!1,tokenObservers:[]},ZQ={initialized:!1,enabled:!1};function ma(n){return jO.get(n)||Object.assign({},a7)}function wD(){return ZQ}class tJ{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_t.Z)(function*(){t.stop();try{t.pending=new ne.BH,yield function nJ(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ne.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qa=new ne.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function l7(n){if(!ma(n).activated)throw Qa.create("use-before-activation",{appName:n.name})}function HO(n,e){return $O.apply(this,arguments)}function $O(){return $O=(0,_t.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const _=yield i.getHeartbeatsHeader();_&&(r["X-Firebase-Client"]=_)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,c;try{o=yield fetch(n,s)}catch(_){throw Qa.create("fetch-network-error",{originalErrorMessage:_?.message})}if(200!==o.status)throw Qa.create("fetch-status-error",{httpStatus:o.status});try{c=yield o.json()}catch(_){throw Qa.create("fetch-parse-error",{originalErrorMessage:_?.message})}const u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Qa.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const h=1e3*Number(u[1]),g=Date.now();return{token:c.token,expireTimeMillis:g+h,issuedAtTimeMillis:g}}),$O.apply(this,arguments)}function oJ(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const kI="firebase-app-check-store";let CD=null;function d7(){return CD||(CD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Qa.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(kI,{keyPath:"compositeKey"})}}catch(t){e(Qa.create("storage-open",{originalErrorMessage:t?.message}))}}),CD)}function WO(){return WO=(0,_t.Z)(function*(n,e){const r=(yield d7()).transaction(kI,"readwrite"),s=r.objectStore(kI).put({compositeKey:n,value:e});return new Promise((o,c)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var h;c(Qa.create("storage-set",{originalErrorMessage:null===(h=u.target.error)||void 0===h?void 0:h.message}))}})}),WO.apply(this,arguments)}const OI=new Na.Yd("@firebase/app-check");function KO(n,e){return(0,ne.hl)()?function uJ(n,e){return function h7(n,e){return WO.apply(this,arguments)}(function p7(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{OI.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function g7(){return wD().enabled}function m7(){return YO.apply(this,arguments)}function YO(){return YO=(0,_t.Z)(function*(){const n=wD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),YO.apply(this,arguments)}const mJ={error:"UNKNOWN_ERROR"};function _J(n){return ne.US.encodeString(JSON.stringify(n),!1)}function SD(n){return XO.apply(this,arguments)}function XO(){return XO=(0,_t.Z)(function*(n,e=!1){const t=n.app;l7(t);const r=ma(t);let s,i=r.token;if(i&&!fb(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(fb(u)?i=u:yield KO(t,void 0))}if(!e&&i&&fb(i))return{token:i.token};let c,o=!1;if(g7()){r.exchangeTokenPromise||(r.exchangeTokenPromise=HO(oJ(t,yield m7()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield KO(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield ma(t).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?OI.warn(u.message):OI.error(u),s=u}return i?s?c=fb(i)?{token:i.token,internalError:s}:v7(s):(c={token:i.token},r.token=i,yield KO(t,i)):c=v7(s),o&&y7(t,c),c}),XO.apply(this,arguments)}function JO(n,e){const t=ma(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function _7(n){const{app:e}=n,t=ma(e);let r=t.tokenRefresher;r||(r=function yJ(n){const{app:e}=n;return new tJ((0,_t.Z)(function*(){let r;if(r=ma(e).token?yield SD(n,!0):yield SD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ma(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function y7(n,e){const t=ma(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function fb(n){return n.expireTimeMillis-Date.now()>0}function v7(n){return{token:_J(mJ),error:n}}class vJ{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ma(this.app);for(const t of e)JO(this.app,t.next);return Promise.resolve()}}const A7="app-check-internal";!function RJ(){(0,gi._registerComponent)(new yo.wA("app-check",n=>function bJ(n,e){return new vJ(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(A7).initialize()})),(0,gi._registerComponent)(new yo.wA(A7,n=>function wJ(n){return{getToken:e=>SD(n,e),addTokenListener:e=>function QO(n,e,t,r){const{app:i}=n,s=ma(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&fb(s.token)){const c=s.token;Promise.resolve().then(()=>{t({token:c.token}),_7(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>_7(n))}(n,"INTERNAL",e),removeTokenListener:e=>JO(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,gi.registerVersion)("@firebase/app-check","0.6.0")}();class Dd{constructor(){return(0,Xt.vb)("app-check")}}typeof window<"u"&&window;var AD=Q(9260);const iL=new p.OlP("angularfire2.auth.use-emulator"),sL=new p.OlP("angularfire2.auth.settings"),oL=new p.OlP("angularfire2.auth.tenant-id"),aL=new p.OlP("angularfire2.auth.langugage-code"),cL=new p.OlP("angularfire2.auth.use-device-language"),lL=new p.OlP("angularfire.auth.persistence"),uL=(n,e,t,r,i,s,o,c)=>(0,ls.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const u=e.runOutsideAngular(()=>n.auth());if(t&&u.useEmulator(...t),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[h,g]of Object.entries(o))u.settings[h]=g;return c&&u.setPersistence(c),u},[t,r,i,s,o,c]);let TD=(()=>{class n{constructor(t,r,i,s,o,c,u,h,g,_,I,w){const x=new Ta.x,R=vn(void 0).pipe((0,_D.Q)(o.outsideAngular),Ji(()=>s.runOutsideAngular(()=>Promise.resolve().then(Q.bind(Q,9568)))),(0,In.U)(()=>(0,ls.on)(t,s,r)),(0,In.U)(O=>uL(O,s,c,h,g,_,u,I)),yD({bufferSize:1,refCount:!1}));if(sh(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=vn(null);else{R.pipe(lf()).subscribe();const L=R.pipe(Ji(te=>te.getRedirectResult().then(ce=>ce,()=>null)),Xt.iC,yD({bufferSize:1,refCount:!1})),U=R.pipe(Ji(te=>new Ko.y(ce=>({unsubscribe:s.runOutsideAngular(()=>te.onAuthStateChanged(ye=>ce.next(ye),ye=>ce.error(ye),()=>ce.complete()))})))),Y=R.pipe(Ji(te=>new Ko.y(ce=>({unsubscribe:s.runOutsideAngular(()=>te.onIdTokenChanged(ye=>ce.next(ye),ye=>ce.error(ye),()=>ce.complete()))}))));this.authState=L.pipe(o7(U),(0,BO.R)(o.outsideAngular),(0,_D.Q)(o.insideAngular)),this.user=L.pipe(o7(Y),(0,BO.R)(o.outsideAngular),(0,_D.Q)(o.insideAngular)),this.idToken=this.user.pipe(Ji(te=>te?(0,Li.D)(te.getIdToken()):vn(null))),this.idTokenResult=this.user.pipe(Ji(te=>te?(0,Li.D)(te.getIdTokenResult()):vn(null))),this.credential=(0,wv.T)(L,x,this.authState.pipe(vc(te=>!te))).pipe((0,In.U)(te=>te?.user?te:null),(0,BO.R)(o.outsideAngular),(0,_D.Q)(o.insideAngular))}return(0,ls.pX)(this,R,s,{spy:{apply:(O,L,U)=>{(O.startsWith("signIn")||O.startsWith("createUser"))&&U.then(Y=>x.next(Y))}}})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ls.Dh),p.LFG(ls.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Xt.HU),p.LFG(iL,8),p.LFG(sL,8),p.LFG(oL,8),p.LFG(aL,8),p.LFG(cL,8),p.LFG(lL,8),p.LFG(Dd,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),UJ=(()=>{class n{constructor(){AD.Z.registerVersion("angularfire",Xt.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[TD]}),n})();function D7(n){return null==n}function M7(n){return"function"==typeof n.set}function N7(n,e){return M7(e)?e:n.ref(e)}function P7(n,e){if(function jJ(n){return"string"==typeof n}(n))return e.stringCase();if(M7(n))return e.firebaseCase();if(function VJ(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function LI(n,e,t="on",r=Yc.z){return new Ko.y(i=>{let s=null;return s=n[t](e,(o,c)=>{r.schedule(()=>{i.next({snapshot:o,prevKey:c})}),"once"===t&&r.schedule(()=>i.complete())},o=>{r.schedule(()=>i.error(o))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,In.U)(i=>{const{snapshot:s,prevKey:o}=i;let c=null;return s.exists()&&(c=s.key),{type:e,payload:s,prevKey:o,key:c}}),(0,Ev.B)())}function R7(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function $J(n,e){const{payload:t,prevKey:r,key:i}=e,s=R7(n,i),o=function HJ(n,e){if(D7(e))return 0;{const t=R7(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let c=null;e.payload.forEach(u=>{const h={payload:u,type:"value",prevKey:c,key:u.key};return c=u.key,n=[...n,h],!1})}return n;case"child_added":if(s>-1){const c=n[s-1];(c&&c.key||null)!==r&&(n=n.filter(u=>u.payload.key!==t.key)).splice(o,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(o,0,e)}return n;case"child_removed":return n.filter(c=>c.payload.key!==t.key);case"child_changed":return n.map(c=>c.payload.key===i?e:c);case"child_moved":if(s>-1){const c=n.splice(s,1)[0];return(n=n.slice()).splice(o,0,c),n}return n;default:return n}}function k7(n){return(D7(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function O7(n,e,t){return function zJ(n,e,t){return LI(n,"value","once",t).pipe(Ji(r=>{const i=[vn(r)];return e.forEach(s=>i.push(LI(n,s,"on",t))),(0,wv.T)(...i).pipe(fd($J,[]))}),Iv())}(n,e=k7(e),t)}function L7(n,e,t){const r=(e=k7(e)).map(i=>LI(n,i,"on",t));return(0,wv.T)(...r)}function F7(n,e){return function(r,i){return P7(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function KJ(n){return function(t){return t?P7(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function B7(n,e){return function(){return LI(n,"value","on",e)}}const XJ=new p.OlP("angularfire2.realtimeDatabaseURL"),QJ=new p.OlP("angularfire2.database.use-emulator");let U7=(()=>{class n{constructor(t,r,i,s,o,c,u,h,g,_,I,w,x,R,O){this.schedulers=c;const L=u,U=(0,ls.on)(t,o,r);h&&uL(U,o,g,I,w,x,_,R),this.database=(0,ls.cc)(`${U.name}.database.${i}`,"AngularFireDatabase",U.name,()=>{const Y=o.runOutsideAngular(()=>U.database(i||void 0));return L&&Y.useEmulator(...L),Y},[L])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>N7(this.database,t));let s=i;return r&&(s=r(i)),function ZJ(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:F7(r,"update"),set:F7(r,"set"),push:i=>r.push(i),remove:KJ(r),snapshotChanges:i=>O7(n,i,t).pipe(Xt.iC),stateChanges:i=>L7(n,i,t).pipe(Xt.iC),auditTrail:i=>function WJ(n,e,t){return function GJ(n,e,t){return function qJ(n,e){return LI(n,"value","on",e).pipe((0,In.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function OA(...n){const e=(0,xh.jO)(n);return(0,Ys.e)((t,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),c=!1;for(let u=0;u<i;u++)(0,Dh.Xf)(n[u]).subscribe((0,bs.x)(r,h=>{s[u]=h,!c&&!o[u]&&(o[u]=!0,(c=o.every(nd.y))&&(o=null))},gx.Z));t.subscribe((0,bs.x)(r,u=>{if(c){const h=[u,...s];r.next(e?e(...h):h)}}))})}(e),(0,In.U)(([i,s])=>{const o=i.lastKeyToLoad,c=s.map(u=>u.key);return{actions:s,lastKeyToLoad:o,loadedKeys:c}}),function LA(n){return(0,Ys.e)((e,t)=>{let r=!1,i=0;e.subscribe((0,bs.x)(t,s=>(r||(r=!n(s,i++)))&&t.next(s)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,In.U)(i=>i.actions))}(n,L7(n,e).pipe(fd((i,s)=>[...i,s],[])),t)}(n,i,t).pipe(Xt.iC),valueChanges:(i,s)=>O7(n,i,t).pipe((0,In.U)(c=>c.map(u=>s&&s.idField?Object.assign(Object.assign({},u.payload.val()),{[s.idField]:u.key}):u.payload.val())),Xt.iC)}}(s,this)}object(t){return function YJ(n,e){return{query:n,snapshotChanges:()=>B7(n,e.schedulers.outsideAngular)().pipe(Xt.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>B7(n,e.schedulers.outsideAngular)().pipe(Xt.iC,(0,In.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>N7(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ls.Dh),p.LFG(ls.xv,8),p.LFG(XJ,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Xt.HU),p.LFG(QJ,8),p.LFG(TD,8),p.LFG(iL,8),p.LFG(sL,8),p.LFG(oL,8),p.LFG(aL,8),p.LFG(cL,8),p.LFG(lL,8),p.LFG(Dd,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),JJ=(()=>{class n{constructor(){AD.Z.registerVersion("angularfire",Xt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[U7]}),n})();class pb{constructor(e){this.db=e,this.studentsRef=this.db.list("/visits")}AddVisit(e){return console.log("visit date: ",e.date.toString()),this.studentsRef.push({date:e.date.toString(),bowserLanguage:e.bowserLanguage,deviceHeight:e.deviceHeight,deviceWidth:e.deviceWidth,deviceID:e.deviceID,visitHome:e.visitHome,visitProfile:e.visitProfile})}GetStudent(e){return this.studentRef=this.db.object("visits-list/"+e),this.studentRef}GetStudentsList(){return this.studentsRef=this.db.list("visits-list"),this.studentsRef}UpdateStudent(e){return this.studentRef.update({date:e.date,bowserLanguage:e.bowserLanguage,deviceHeight:e.deviceHeight,deviceWidth:e.deviceWidth,deviceID:e.deviceID,visitHome:e.visitHome,visitProfile:e.visitProfile})}DeleteStudent(e){this.studentRef=this.db.object("visits-list/"+e),this.studentRef.remove()}generateUUIDV4(){let e=localStorage.getItem("deviceId");return e||(e=bk(),localStorage.setItem("deviceId",e)),e}static#e=this.\u0275fac=function(t){return new(t||pb)(p.LFG(U7))};static#t=this.\u0275prov=p.Yz7({token:pb,factory:pb.\u0275fac,providedIn:"root"})}function Z_(n){return!!n&&(n instanceof Ko.y||(0,RI.m)(n.lift)&&(0,RI.m)(n.subscribe))}function DD(n){return new Ko.y(e=>{(0,Dh.Xf)(n()).subscribe(e)})}var Ja=Q(5577);function yg(n,e){return(0,RI.m)(e)?(0,Ja.z)(n,e,1):(0,Ja.z)(n,1)}class FI{}let V7=(()=>{class n extends FI{getTranslation(t){return vn({})}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class dL{}let z7=(()=>{class n{handle(t){return t.key}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function MD(n,e){if(n===e)return!0;if(null===n||null===e)return!1;if(n!=n&&e!=e)return!0;let i,s,o,t=typeof n;if(t==typeof e&&"object"==t){if(!Array.isArray(n)){if(Array.isArray(e))return!1;for(s in o=Object.create(null),n){if(!MD(n[s],e[s]))return!1;o[s]=!0}for(s in e)if(!(s in o)&&typeof e[s]<"u")return!1;return!0}if(!Array.isArray(e))return!1;if((i=n.length)==e.length){for(s=0;s<i;s++)if(!MD(n[s],e[s]))return!1;return!0}}return!1}function vg(n){return typeof n<"u"&&null!==n}function hL(n){return n&&"object"==typeof n&&!Array.isArray(n)}function H7(n,e){let t=Object.assign({},n);return hL(n)&&hL(e)&&Object.keys(e).forEach(r=>{hL(e[r])?r in n?t[r]=H7(n[r],e[r]):Object.assign(t,{[r]:e[r]}):Object.assign(t,{[r]:e[r]})}),t}class ND{}let $7=(()=>{class n extends ND{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,r){let i;return i="string"==typeof t?this.interpolateString(t,r):"function"==typeof t?this.interpolateFunction(t,r):t,i}getValue(t,r){let i="string"==typeof r?r.split("."):[r];r="";do{r+=i.shift(),!vg(t)||!vg(t[r])||"object"!=typeof t[r]&&i.length?i.length?r+=".":t=void 0:(t=t[r],r="")}while(i.length);return t}interpolateFunction(t,r){return t(r)}interpolateString(t,r){return r?t.replace(this.templateMatcher,(i,s)=>{let o=this.getValue(r,s);return vg(o)?o:i}):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class PD{}let W7=(()=>{class n extends PD{compile(t,r){return t}compileTranslations(t,r){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class q7{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new p.vpe,this.onLangChange=new p.vpe,this.onDefaultLangChange=new p.vpe}}const fL=new p.OlP("USE_STORE"),pL=new p.OlP("USE_DEFAULT_LANG"),gL=new p.OlP("DEFAULT_LANGUAGE"),mL=new p.OlP("USE_EXTEND");let BI=(()=>{class n{constructor(t,r,i,s,o,c=!0,u=!1,h=!1,g){this.store=t,this.currentLoader=r,this.compiler=i,this.parser=s,this.missingTranslationHandler=o,this.useDefaultLang=c,this.isolate=u,this.extend=h,this.pending=!1,this._onTranslationChange=new p.vpe,this._onLangChange=new p.vpe,this._onDefaultLangChange=new p.vpe,this._langs=[],this._translations={},this._translationRequests={},g&&this.setDefaultLang(g)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let r=this.retrieveTranslations(t);typeof r<"u"?(null==this.defaultLang&&(this.defaultLang=t),r.pipe(du(1)).subscribe(i=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return vn(this.translations[t]);let r=this.retrieveTranslations(t);return typeof r<"u"?(this.currentLang||(this.currentLang=t),r.pipe(du(1)).subscribe(i=>{this.changeLang(t)}),r):(this.changeLang(t),vn(this.translations[t]))}retrieveTranslations(t){let r;return(typeof this.translations[t]>"u"||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),r=this._translationRequests[t]),r}getTranslation(t){this.pending=!0;const r=this.currentLoader.getTranslation(t).pipe(yD(1),du(1));return this.loadingTranslations=r.pipe((0,In.U)(i=>this.compiler.compileTranslations(i,t)),yD(1),du(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[t]=this.extend&&this.translations[t]?{...i,...this.translations[t]}:i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),r}setTranslation(t,r,i=!1){r=this.compiler.compileTranslations(r,t),this.translations[t]=(i||this.extend)&&this.translations[t]?H7(this.translations[t],r):r,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(r=>{-1===this.langs.indexOf(r)&&this.langs.push(r)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,r,i){let s;if(r instanceof Array){let o={},c=!1;for(let u of r)o[u]=this.getParsedResult(t,u,i),Z_(o[u])&&(c=!0);return c?function j7(...n){const e=(0,xh.jO)(n),{args:t,keys:r}=Lw(n),i=new Ko.y(s=>{const{length:o}=t;if(!o)return void s.complete();const c=new Array(o);let u=o,h=o;for(let g=0;g<o;g++){let _=!1;(0,Dh.Xf)(t[g]).subscribe((0,bs.x)(s,I=>{_||(_=!0,h--),c[g]=I},()=>u--,void 0,()=>{(!u||!_)&&(h||s.next(r?H0(r,c):c),s.complete())}))}});return e?i.pipe(GP(e)):i}(r.map(h=>Z_(o[h])?o[h]:vn(o[h]))).pipe((0,In.U)(h=>{let g={};return h.forEach((_,I)=>{g[r[I]]=_}),g})):o}if(t&&(s=this.parser.interpolate(this.parser.getValue(t,r),i)),typeof s>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],r),i)),typeof s>"u"){let o={key:r,translateService:this};typeof i<"u"&&(o.interpolateParams=i),s=this.missingTranslationHandler.handle(o)}return typeof s<"u"?s:r}get(t,r){if(!vg(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(yg(i=>Z_(i=this.getParsedResult(i,t,r))?i:vn(i)));{let i=this.getParsedResult(this.translations[this.currentLang],t,r);return Z_(i)?i:vn(i)}}getStreamOnTranslationChange(t,r){if(!vg(t)||!t.length)throw new Error('Parameter "key" required');return yc(DD(()=>this.get(t,r)),this.onTranslationChange.pipe(Ji(i=>{const s=this.getParsedResult(i.translations,t,r);return"function"==typeof s.subscribe?s:vn(s)})))}stream(t,r){if(!vg(t)||!t.length)throw new Error('Parameter "key" required');return yc(DD(()=>this.get(t,r)),this.onLangChange.pipe(Ji(i=>{const s=this.getParsedResult(i.translations,t,r);return Z_(s)?s:vn(s)})))}instant(t,r){if(!vg(t)||!t.length)throw new Error('Parameter "key" required');let i=this.getParsedResult(this.translations[this.currentLang],t,r);if(Z_(i)){if(t instanceof Array){let s={};return t.forEach((o,c)=>{s[t[c]]=t[c]}),s}return t}return i}set(t,r,i=this.currentLang){this.translations[i][t]=this.compiler.compile(r,i),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof t>"u"?void 0:(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(q7),p.LFG(FI),p.LFG(PD),p.LFG(ND),p.LFG(dL),p.LFG(pL),p.LFG(fL),p.LFG(mL),p.LFG(gL))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),_L=(()=>{class n{constructor(t,r){this.translate=t,this._ref=r,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(t,r,i){let s=o=>{this.value=void 0!==o?o:t,this.lastKey=t,this._ref.markForCheck()};if(i){let o=this.translate.getParsedResult(i,t,r);Z_(o.subscribe)?o.subscribe(s):s(o)}this.translate.get(t,r).subscribe(s)}transform(t,...r){if(!t||!t.length)return t;if(MD(t,this.lastKey)&&MD(r,this.lastParams))return this.value;let i;if(vg(r[0])&&r.length)if("string"==typeof r[0]&&r[0].length){let s=r[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{i=JSON.parse(s)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${r[0]}`)}}else"object"==typeof r[0]&&!Array.isArray(r[0])&&(i=r[0]);return this.lastKey=t,this.lastParams=r,this.updateValue(t,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,i,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,i,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(BI,16),p.Y36(p.sBO,16))},n.\u0275pipe=p.Yjl({name:"translate",type:n,pure:!1}),n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),eee=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[t.loader||{provide:FI,useClass:V7},t.compiler||{provide:PD,useClass:W7},t.parser||{provide:ND,useClass:$7},t.missingTranslationHandler||{provide:dL,useClass:z7},q7,{provide:fL,useValue:t.isolate},{provide:pL,useValue:t.useDefaultLang},{provide:mL,useValue:t.extend},{provide:gL,useValue:t.defaultLanguage},BI]}}static forChild(t={}){return{ngModule:n,providers:[t.loader||{provide:FI,useClass:V7},t.compiler||{provide:PD,useClass:W7},t.parser||{provide:ND,useClass:$7},t.missingTranslationHandler||{provide:dL,useClass:z7},{provide:fL,useValue:t.isolate},{provide:pL,useValue:t.useDefaultLang},{provide:mL,useValue:t.extend},{provide:gL,useValue:t.defaultLanguage},BI]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();const tee=["softSkills"];class UI{constructor(){this.color="primary",this.mode="determinate",this.mode2="determinate",this.bufferValue=0,this.percentage=0}ngAfterViewInit(){const t=new IntersectionObserver(r=>{r.forEach(i=>{if(i.isIntersecting){const s=(o,c)=>{setTimeout(()=>{this.percentage=o},c*o)};for(let o=0;o<this.progressValue;o++)s(o,10);t.disconnect()}})},{threshold:.2});t.observe(this.yourElement.nativeElement)}static#e=this.\u0275fac=function(t){return new(t||UI)};static#t=this.\u0275cmp=p.Xpm({type:UI,selectors:[["app-progress-bar"]],viewQuery:function(t,r){if(1&t&&(p.Gf(tee,5),p.Gf(Bx,5)),2&t){let i;p.iGM(i=p.CRH())&&(r.yourElement=i.first),p.iGM(i=p.CRH())&&(r.progressBar=i.first)}},inputs:{progressValue:"progressValue"},decls:4,vars:2,consts:[["softSkills",""],[2,"width","100%","background","#eceeef","position","relative","padding","0px"],[2,"height","5px","background-color","#3949ab"]],template:function(t,r){1&t&&(p.TgZ(0,"div",null,0)(2,"div",1),p._UZ(3,"div",2),p.qZA()()),2&t&&(p.xp6(3),p.Udp("width",r.percentage,"%"))},styles:[".example-h2[_ngcontent-%COMP%]{margin:10px}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}.example-margin[_ngcontent-%COMP%]{margin:0 10px}.example-card[_ngcontent-%COMP%]{margin-bottom:10px}"]})}const nee=["profile"];class RD{constructor(e,t){this.appService=e,this.translate=t,this.value1=78,this.value2=80,this.value3=90,this.langueFR=85,this.langueEn=25}ngOnInit(){}ngAfterViewInit(){const t=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&(this.appVisit={id$:"",date:new Date,deviceWidth:window.innerWidth,deviceHeight:window.innerHeight,bowserLanguage:navigator.language||window.navigator.language,deviceID:this.appService.generateUUIDV4(),visitHome:!0,visitProfile:!0},this.appService.AddVisit(this.appVisit),t.disconnect())})},{threshold:.2});t.observe(this.yourElement.nativeElement)}static#e=this.\u0275fac=function(t){return new(t||RD)(p.Y36(pb),p.Y36(BI))};static#t=this.\u0275cmp=p.Xpm({type:RD,selectors:[["app-personal-details"]],viewQuery:function(t,r){if(1&t&&p.Gf(nee,5),2&t){let i;p.iGM(i=p.CRH())&&(r.yourElement=i.first)}},decls:153,vars:61,consts:[[1,"personnalDetails"],["profile",""],[1,"detailsTitle"],[1,"title"],[1,"hr1"],[1,"datails"],[1,"detailItems",2,"display","none"],[1,"detailIcon"],[1,"bi","bi-person-fill"],[1,"detailValue"],[1,"detailItems"],[1,"bi","bi-envelope-fill"],["href","mailto:borientm@gmail.com",1,"text-white"],[1,"bi","bi-telephone-fill"],[1,"bi","bi-house-fill"],[1,"bi","bi-calendar3"],[1,"bi","bi-geo-alt-fill"],[1,"bi","bi-taxi-front-fill"],[1,"bi","bi-gender-male"],[1,"bi","bi-flag-fill"],[1,"bi","bi-people-fill"],[1,"bi","bi-linkedin"],[1,"softSkills"],[1,""],[3,"progressValue"],[1,"w-100","d-flex"],[1,"CInteret","h-40","w-50"],[1,"h-70"],[1,"bi","bi-bus-front"]],template:function(t,r){1&t&&(p.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),p._uU(4),p.ALo(5,"uppercase"),p.ALo(6,"translate"),p.qZA(),p.TgZ(7,"div",4),p._UZ(8,"hr"),p.qZA()(),p.TgZ(9,"div",5)(10,"div",6)(11,"div",7),p._UZ(12,"i",8),p.qZA(),p.TgZ(13,"div",9),p._uU(14," MANFOUO KENFOUO Borient "),p.qZA()(),p.TgZ(15,"div",10)(16,"div",7),p._UZ(17,"i",11),p.qZA(),p.TgZ(18,"div",9)(19,"a",12),p._uU(20,"borientm@gmail.com"),p.qZA()()(),p.TgZ(21,"div",10)(22,"div",7),p._UZ(23,"i",13),p.qZA(),p.TgZ(24,"div",9)(25,"span"),p._uU(26,"(+237) 655 393 119"),p.qZA(),p._UZ(27,"br"),p.TgZ(28,"span"),p._uU(29,"(+237) 651 070 418"),p.qZA(),p._UZ(30,"br"),p.TgZ(31,"span"),p._uU(32,"(+237) 620 357 133"),p.qZA(),p._UZ(33,"br"),p.qZA()(),p.TgZ(34,"div",6)(35,"div",7),p._UZ(36,"i",14),p.qZA(),p.TgZ(37,"div",9),p._uU(38," Bafoussam "),p.qZA()(),p.TgZ(39,"div",10)(40,"div",7),p._UZ(41,"i",15),p.qZA(),p.TgZ(42,"div",9),p._uU(43," 04 Juin 1997 "),p.qZA()(),p.TgZ(44,"div",10)(45,"div",7),p._UZ(46,"i",16),p.qZA(),p.TgZ(47,"div",9),p._uU(48),p.ALo(49,"translate"),p.qZA()(),p.TgZ(50,"div",10)(51,"div",7),p._UZ(52,"i",17),p.qZA(),p.TgZ(53,"div",9),p._uU(54),p.ALo(55,"translate"),p.qZA()(),p.TgZ(56,"div",10)(57,"div",7),p._UZ(58,"i",18),p.qZA(),p.TgZ(59,"div",9),p._uU(60),p.ALo(61,"translate"),p.qZA()(),p.TgZ(62,"div",10)(63,"div",7),p._UZ(64,"i",19),p.qZA(),p.TgZ(65,"div",9),p._uU(66),p.ALo(67,"translate"),p.qZA()(),p.TgZ(68,"div",10)(69,"div",7),p._UZ(70,"i",20),p.qZA(),p.TgZ(71,"div",9),p._uU(72),p.ALo(73,"translate"),p.qZA()(),p.TgZ(74,"div",10)(75,"div",7),p._UZ(76,"i",21),p.qZA(),p.TgZ(77,"div",9),p._uU(78," Borientm "),p.qZA()(),p._UZ(79,"br")(80,"br"),p.TgZ(81,"div")(82,"div",2)(83,"div",3),p._uU(84),p.ALo(85,"uppercase"),p.ALo(86,"translate"),p.qZA(),p.TgZ(87,"div",4),p._UZ(88,"hr"),p.qZA()(),p.TgZ(89,"div",22)(90,"div",23),p._uU(91),p.ALo(92,"translate"),p.qZA(),p.TgZ(93,"div",23),p._UZ(94,"app-progress-bar",24),p.qZA()(),p.TgZ(95,"div",22)(96,"div",23),p._uU(97),p.ALo(98,"translate"),p.qZA(),p.TgZ(99,"div",23),p._UZ(100,"app-progress-bar",24),p.qZA()(),p.TgZ(101,"div",22)(102,"div",23),p._uU(103),p.ALo(104,"translate"),p.qZA(),p.TgZ(105,"div",23),p._UZ(106,"app-progress-bar",24),p.qZA()()(),p._UZ(107,"br")(108,"br"),p.TgZ(109,"div")(110,"div",2)(111,"div",3),p._uU(112),p.ALo(113,"uppercase"),p.ALo(114,"translate"),p.qZA(),p.TgZ(115,"div",4),p._UZ(116,"hr"),p.qZA()(),p.TgZ(117,"div",22)(118,"div",23),p._uU(119),p.ALo(120,"translate"),p.qZA(),p.TgZ(121,"div",23),p._UZ(122,"app-progress-bar",24),p.qZA()(),p.TgZ(123,"div",22)(124,"div",23),p._uU(125),p.ALo(126,"translate"),p.qZA(),p.TgZ(127,"div",23),p._UZ(128,"app-progress-bar",24),p.qZA()()(),p._UZ(129,"br")(130,"br"),p.TgZ(131,"div")(132,"div",2)(133,"div",3),p._uU(134),p.ALo(135,"uppercase"),p.ALo(136,"translate"),p.qZA(),p.TgZ(137,"div",4),p._UZ(138,"hr"),p.qZA()(),p._UZ(139,"br"),p.TgZ(140,"div",25)(141,"div",26)(142,"div",27),p._UZ(143,"i",28),p.qZA(),p.TgZ(144,"div",23),p._uU(145),p.ALo(146,"translate"),p.qZA()(),p.TgZ(147,"div",26)(148,"div",27),p._UZ(149,"i",8),p.qZA(),p.TgZ(150,"div",23),p._uU(151),p.ALo(152,"translate"),p.qZA()()()()()()),2&t&&(p.xp6(4),p.hij(" // ",p.lcZ(5,21,p.lcZ(6,23,"cvProfil"))," "),p.xp6(44),p.hij(" ",p.lcZ(49,25,"cvBafoussamCameroon")," "),p.xp6(6),p.hij(" ",p.lcZ(55,27,"cvCategoryB")," "),p.xp6(6),p.hij(" ",p.lcZ(61,29,"cvMale")," "),p.xp6(6),p.hij(" ",p.lcZ(67,31,"cvCameroon")," "),p.xp6(6),p.hij(" ",p.lcZ(73,33,"cvSingle")," "),p.xp6(12),p.hij(" // ",p.lcZ(85,35,p.lcZ(86,37,"cvGeneralSkills"))," "),p.xp6(7),p.hij(" ",p.lcZ(92,39,"cvDynamic"),""),p.xp6(3),p.Q6J("progressValue",r.value1),p.xp6(3),p.hij(" ",p.lcZ(98,41,"cvRigorous"),""),p.xp6(3),p.Q6J("progressValue",r.value2),p.xp6(3),p.Oqu(p.lcZ(104,43,"cvTeamSpirit")),p.xp6(3),p.Q6J("progressValue",r.value3),p.xp6(6),p.hij(" // ",p.lcZ(113,45,p.lcZ(114,47,"cvLanguages"))," "),p.xp6(7),p.hij(" ",p.lcZ(120,49,"cvFrench"),""),p.xp6(3),p.Q6J("progressValue",r.langueFR),p.xp6(3),p.hij(" ",p.lcZ(126,51,"cvEnglish"),""),p.xp6(3),p.Q6J("progressValue",r.langueEn),p.xp6(6),p.hij(" // ",p.lcZ(135,53,p.lcZ(136,55,"cvAreasOfInterest"))," "),p.xp6(11),p.Oqu(p.lcZ(146,57,"cvTrips")),p.xp6(6),p.Oqu(p.lcZ(152,59,"cvFitnessWalking")))},dependencies:[UI,mm,_L],styles:[".personnalDetails[_ngcontent-%COMP%]{width:100%;padding-left:15px}.detailsTitle[_ngcontent-%COMP%]{width:100%;display:flex;color:var(--white)}.detailsTitle[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:var(--generalFont);font-weight:700;display:flex;flex:none;justify-content:center;align-items:center}.detailsTitle[_ngcontent-%COMP%]   .hr1[_ngcontent-%COMP%]{width:-webkit-fill-available;display:flex;justify-content:end}.detailsTitle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > hr[_ngcontent-%COMP%]{width:90%}.datails[_ngcontent-%COMP%]{margin-top:15px;width:90%}.detailItems[_ngcontent-%COMP%]{width:90%;display:flex;align-items:center;margin-top:3px}.detailIcon[_ngcontent-%COMP%]{width:25px;height:25px;display:flex;justify-content:center;align-items:center}.detailIcon[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:20px;color:var(--white)}.detailValue[_ngcontent-%COMP%]{width:auto;height:auto;font-size:var(--titleFont);padding-left:10px;color:var(--white)}.softSkills[_ngcontent-%COMP%]{width:100%;color:var(--white);margin-top:10px;font-size:var(--titleFont)}.softSkills[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.presentation[_ngcontent-%COMP%]{display:contents;width:max-content;display:table-cell;text-align:justify}.CInteret[_ngcontent-%COMP%]{height:100px;display:flex;align-items:center;color:var(--white);flex-direction:column}.CInteret[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.CInteret[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:30px}.CInteret[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{font-size:var(--titleFont)}@media screen and (max-width: 600px){.cv[_ngcontent-%COMP%]{width:100%;display:block}.presonalInfos[_ngcontent-%COMP%]{width:100%;height:auto}.profile[_ngcontent-%COMP%]{width:100%}}"]})}function ree(n,e){if(1&n&&(p.TgZ(0,"div",5),p._uU(1),p.qZA()),2&n){const t=p.oxw();p.xp6(1),p.Oqu(null==t.periodItem?null:t.periodItem.period)}}function iee(n,e){if(1&n&&(p.TgZ(0,"div",6),p._uU(1),p.qZA()),2&n){const t=p.oxw();p.xp6(1),p.Oqu(null==t.periodItem?null:t.periodItem.libellet)}}function see(n,e){1&n&&p._UZ(0,"div",6)}function oee(n,e){if(1&n&&p._UZ(0,"app-progress-bar",12),2&n){const t=p.oxw().$implicit;p.Q6J("progressValue",t.valueInt)}}function aee(n,e){if(1&n&&(p.TgZ(0,"li",9),p._UZ(1,"span",10),p.YNc(2,oee,1,1,"app-progress-bar",11),p.qZA()),2&n){const t=e.$implicit;p.xp6(1),p.Q6J("innerHTML",t.description,p.oJD),p.xp6(1),p.Q6J("ngIf",t.valueInt)}}function cee(n,e){if(1&n&&(p.TgZ(0,"ul",7),p.YNc(1,aee,3,2,"li",8),p.qZA()),2&n){const t=p.oxw();p.Q6J("ngClass",t.periodItemType===t.PeriodModelTypeEnum.TECHNOLOGIES?"DisplayTechnologies":""),p.xp6(1),p.Q6J("ngForOf",null==t.periodItem?null:t.periodItem.description)}}class kD{constructor(){this.PeriodModelTypeEnum=kp}static#e=this.\u0275fac=function(t){return new(t||kD)};static#t=this.\u0275cmp=p.Xpm({type:kD,selectors:[["app-item-by-period"]],inputs:{periodItem:"periodItem",periodItemType:"periodItemType"},decls:6,vars:4,consts:[[1,"w-100","d-flex","itemPeriod"],["class","period fontBold",4,"ngIf"],[1,"w-100","line-break"],["class","fontBold line-break",4,"ngIf"],["class","","style"," width: 100%;",3,"ngClass",4,"ngIf"],[1,"period","fontBold"],[1,"fontBold","line-break"],[1,"",2,"width","100%",3,"ngClass"],["class","mt-2 me-4",4,"ngFor","ngForOf"],[1,"mt-2","me-4"],[1,"line-break",3,"innerHTML"],["style","display: contents;",3,"progressValue",4,"ngIf"],[2,"display","contents",3,"progressValue"]],template:function(t,r){1&t&&(p.TgZ(0,"div",0),p.YNc(1,ree,2,1,"div",1),p.TgZ(2,"div",2),p.YNc(3,iee,2,1,"div",3),p.YNc(4,see,1,0,"div",3),p.YNc(5,cee,2,2,"ul",4),p.qZA()()),2&t&&(p.xp6(1),p.Q6J("ngIf",null==r.periodItem?null:r.periodItem.period),p.xp6(2),p.Q6J("ngIf",null==r.periodItem?null:r.periodItem.libellet),p.xp6(1),p.Q6J("ngIf",null==r.periodItem?null:r.periodItem.structure),p.xp6(1),p.Q6J("ngIf",null==r.periodItem?null:r.periodItem.description))},dependencies:[xo,xa,Hi,UI],styles:[".itemPeriod[_ngcontent-%COMP%]{font-size:var(--generalFont)}.period[_ngcontent-%COMP%]{margin-right:10px;display:flex;flex:none;text-align:center}.DisplayTechnologies[_ngcontent-%COMP%]{columns:2}.progressParent[_ngcontent-%COMP%]{height:3px;align-items:center;display:flex;background-color:#0404ed;margin-left:10px;border-radius:5px;width:100%;padding:0}.prgress[_ngcontent-%COMP%]{height:3px;background-color:#2d7bb7}.line-break[_ngcontent-%COMP%]{word-break:break-all;text-align:justify}"]})}class OD{static#e=this.\u0275fac=function(t){return new(t||OD)};static#t=this.\u0275cmp=p.Xpm({type:OD,selectors:[["app-footer"]],decls:22,vars:3,consts:[[1,"bg-dark","text-center","text-white"],[1,"container","p-4"],[1,"mb-4"],["href","https://m.facebook.com/borient.manfouo.3?mibextid=ZbWKwL","role","button",1,"btn","btn-outline-light","btn-floating","m-1"],[1,"bi","bi-facebook"],["href","https://api.whatsapp.com/send/?phone=+237655393119&text=","role","button",1,"btn","btn-outline-light","btn-floating","m-1"],[1,"bi","bi-whatsapp"],["href","www.linkedin.com/in/borientm","role","button",1,"btn","btn-outline-light","btn-floating","m-1"],[1,"bi","bi-linkedin"],["href","https://github.com/kenfouo","role","button",1,"btn","btn-outline-light","btn-floating","m-1"],[1,"bi","bi-github"],[1,""],["action",""],[1,"row","d-flex","justify-content-center"],[1,"col-auto"],["data-bs-toggle","offcanvas","aria-expanded","false","data-bs-target","#offcanvasDarkNavbar","aria-controls","offcanvasDarkNavbar",1,"btn","btn-outline-light","mb-4","btnMyProfile"],[1,"text-center","p-3",2,"background-color","rgba(0, 0, 0, 0.2)"],["href","mailto:borientm@gmail.com",1,"text-white"]],template:function(t,r){1&t&&(p.TgZ(0,"footer",0)(1,"div",1)(2,"section",2)(3,"a",3),p._UZ(4,"i",4),p.qZA(),p.TgZ(5,"a",5),p._UZ(6,"i",6),p.qZA(),p.TgZ(7,"a",7),p._UZ(8,"i",8),p.qZA(),p.TgZ(9,"a",9),p._UZ(10,"i",10),p.qZA()(),p.TgZ(11,"section",11)(12,"form",12)(13,"div",13)(14,"div",14)(15,"div",15),p._uU(16),p.ALo(17,"translate"),p.qZA()()()()()(),p.TgZ(18,"div",16),p._uU(19," \xa9 2022 Copyright: "),p.TgZ(20,"a",17),p._uU(21,"borientm@gmail.com"),p.qZA()()()),2&t&&(p.xp6(16),p.hij(" ",p.lcZ(17,1,"cvSeeMyProfile")," "))},dependencies:[_L],styles:[".btnMyProfile[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 600px){.btnMyProfile[_ngcontent-%COMP%]{display:block}}"]})}const lee=["pdfTable"],uee=["CVMain"];function dee(n,e){1&n&&p._UZ(0,"app-personal-details")}function hee(n,e){1&n&&p._UZ(0,"app-personal-details")}function fee(n,e){1&n&&p._UZ(0,"app-item-by-period",36),2&n&&p.Q6J("periodItem",e.$implicit)}function pee(n,e){1&n&&p._UZ(0,"app-item-by-period",36),2&n&&p.Q6J("periodItem",e.$implicit)}function gee(n,e){if(1&n&&p._UZ(0,"app-item-by-period",37),2&n){const t=e.$implicit,r=p.oxw();p.Q6J("periodItem",t)("periodItemType",null==r.technologies?null:r.technologies.PeriodModelTypeEnum)}}function mee(n,e){1&n&&p._UZ(0,"app-item-by-period",36),2&n&&p.Q6J("periodItem",e.$implicit)}class LD{constructor(e,t){this.appService=e,this.translate=t,this.title="borientm-cv",this.IsValidScreen=!1,this.pdfName="borientm-cv",this.isEnglish=!0,this.student={$key:"0",firstName:"Manfouo Kenfouo",lastName:"Borient",email:"borientm@gmail.com",mobileNumber:655393119},t.setDefaultLang("en"),"fr"==t.getBrowserLang()&&(t.use("fr"),this.isEnglish=!1),this.mobileMoneyRef='<a href="http://mobilemoneyengine.furthermarket.com/">http://mobilemoneyengine.furthermarket.com/</a>',this.fmDevref='<a href="http://developer.furthermarket.com/">http://developer.furthermarket.com/</a>',t.get(mk,{mobileMoneyRefLink:"this.mobileMoneyRef",fmDevref:this.fmDevref}).subscribe(r=>{this.translateText(r)}),t.onLangChange.subscribe(r=>{console.log(r),this.translateText(r.translations)})}translateText(e){this.formations=[{period:"2015-2016",libellet:e.cvBachelor,structure:e.cvLibimbo,description:[{description:e.cvBachelorDescription}]},{period:"2016-2018",libellet:e.cvBts,structure:e.cvIcab,description:[{description:e.cvBachelorOption}]},{period:"2018-2019",libellet:e.cvLicense,structure:e.cvIcab,description:[{description:e.cvLicenseoption}]}],this.experiences=[{period:"2019-",libellet:e.cvDeveloperTechnician,structure:"Further Market",description:[{description:e.cvExperienceFm1},{description:e.cvExperienceFm2},{description:e.cvExperienceFm3},{description:e.cvExperienceFm4},{description:e.cvExperienceFm5},{description:e.cvExperienceFm6},{description:e.cvExperienceFm7},{description:e.cvExperienceFm8},{description:e.cvExperienceFm9},{description:e.cvExperienceFm10}]}],this.technologies={PeriodModelArray:[{description:[{description:"Spring boot",valueInt:45},{description:"back end Nodejs (Expressjs)",valueInt:45},{description:"Front end Angular",valueInt:60},{description:"mysql",valueInt:60},{description:"JS",valueInt:80},{description:"PHP",valueInt:30},{description:"Html,css",valueInt:80},{description:"bootstrap",valueInt:70}]}],PeriodModelTypeEnum:kp.TECHNOLOGIES},this.projets=[{period:"",libellet:"Projet personnel",structure:"",description:[{description:e.cvDevStudioDescription},{description:e.cvDevStudioTechnology}]},{period:"",libellet:"Point Africa, Module Mail Service",structure:"Dev-Studio",description:[{description:e.cvPointAfricaDescription},{description:e.cvPointAfricaTasks},{description:e.cvPointAfricaworking}]},{period:"",libellet:"Load Balancer",structure:"Dev-Studio",description:[{description:e.cvLoadBalancerDescription},{description:e.cvLoadBalancerTasks},{description:e.cvLoadBalancerworking}]},{period:"",libellet:"Attendance",structure:"Digital Solution",description:[{description:e.cvAttendanceDescription},{description:e.cvAttendanceTasks},{description:e.cvAttendanceworking}]},{period:"",libellet:"Projet demo Gestion des Produits",structure:"",description:[{description:e.cvProductManagerworking},{description:e.cvProductManagerDescription}]},{period:"",libellet:"ce CV",structure:"",description:[{description:"Angular, Angular, Html, CSS, JS, Bootstrap, Visual Studio Code"}]},{period:"",libellet:"FM Developper",structure:"Further Market",description:[{description:e.cvFMDeveloperDescription},{description:e.cvFMDeveloperTask},{description:e.cvFMDeveloperReferences},{description:e.cvFMDeveloperTechnologies}]},{period:"",libellet:"EU-C",structure:"Express Union",description:[{description:e.cvEU_CDescription},{description:e.cvEU_CTasks},{description:e.cvEU_CTechnologies}]},{period:"",libellet:"FM Mobile Money Engine",structure:"Further Market",description:[{description:e.cvMobileMoneyDescription},{description:e.cvMobileMoneyTasks},{description:e.cvMobileMoneyReferences},{description:e.cvMobileMoneyTechnologies}]}]}ngOnInit(){this.displayMode(window.innerWidth)}onResize(){this.displayMode(window.innerWidth)}displayMode(e){this.IsValidScreen=e<600}downloadAsPDF(){new gk("p","pt","a3").html(this.dataToExport.nativeElement,{callback:t=>{t.save("demo.pdf")}})}ngAfterViewInit(){const t=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&(this.appVisit={id$:"",date:new Date,deviceWidth:window.innerWidth,deviceHeight:window.innerHeight,bowserLanguage:navigator.language||window.navigator.language,deviceID:this.appService.generateUUIDV4(),visitHome:!0,visitProfile:!1},this.appService.AddVisit(this.appVisit),t.disconnect())})},{threshold:.2});t.observe(this.Element.nativeElement)}setLanguage(){this.isEnglish=!this.isEnglish,this.translate.use(1==this.isEnglish?"en":"fr")}static#e=this.\u0275fac=function(t){return new(t||LD)(p.Y36(pb),p.Y36(BI))};static#t=this.\u0275cmp=p.Xpm({type:LD,selectors:[["app-root"]],viewQuery:function(t,r){if(1&t&&(p.Gf(lee,5),p.Gf(uee,5)),2&t){let i;p.iGM(i=p.CRH())&&(r.dataToExport=i.first),p.iGM(i=p.CRH())&&(r.Element=i.first)}},hostBindings:function(t,r){1&t&&p.NdJ("resize",function(s){return r.onResize(s)},!1,p.Jf7)},decls:91,vars:32,consts:[[1,"cvContainer"],[1,"main"],["pdfTable","","CVMain",""],[1,"navbar","navbar-dark","navbar-expand-lg","bg-dark"],[1,"switchToggle"],[1,"switch"],["id","language-toggle","type","checkbox",1,"check-toggle","check-toggle-round-flat",3,"checked","click"],["for","language-toggle"],[1,"on"],[1,"off"],[1,"container-fluid"],["type","button","data-bs-toggle","offcanvas","aria-expanded","false","data-bs-target","#offcanvasDarkNavbar","aria-controls","offcanvasDarkNavbar",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["tabindex","-1","id","offcanvasDarkNavbar","aria-labelledby","offcanvasDarkNavbarLabel",1,"offcanvas","offcanvas-end","text-bg-dark"],[1,"offcanvas-header"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","btn-close-white"],[1,"offcanvas-body"],[4,"ngIf"],[1,"cv"],[1,"presonalInfos","bg-dark"],[1,"perentprofilephoto"],[1,"profilePhoto"],["src","https://avatars.githubusercontent.com/u/37112508?v=4","alt","profile Image",1,""],[1,"profoleName"],[1,"profile"],[1,"ProfileTitle"],[1,"title"],[1,"hr2"],[1,"presentation",2,"text-align","justify"],[1,"bi","bi-quote"],[1,"presentation"],["style","display: contents;",3,"periodItem",4,"ngFor","ngForOf"],[1,"title","fontBold"],["style","display: contents;",3,"periodItem","periodItemType",4,"ngFor","ngForOf"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-print"],[2,"display","contents",3,"periodItem"],[2,"display","contents",3,"periodItem","periodItemType"]],template:function(t,r){1&t&&(p.TgZ(0,"div",0)(1,"div",1,2)(4,"nav",3)(5,"div",4)(6,"div",5)(7,"input",6),p.NdJ("checked",function(){return r.isEnglish})("click",function(){return r.setLanguage()}),p.qZA(),p._UZ(8,"label",7),p.TgZ(9,"span",8),p._uU(10,"FR"),p.qZA(),p.TgZ(11,"span",9),p._uU(12,"EN"),p.qZA()()(),p.TgZ(13,"div",10)(14,"button",11),p._UZ(15,"span",12),p.qZA(),p.TgZ(16,"div",13)(17,"div",14),p._UZ(18,"button",15),p.qZA(),p.TgZ(19,"div",16),p.YNc(20,dee,1,0,"app-personal-details",17),p.qZA()()()(),p.TgZ(21,"div",18)(22,"div",19)(23,"div",20)(24,"div",21),p._UZ(25,"img",22),p.qZA(),p.TgZ(26,"div",23),p._uU(27," MANFOUO KENFOUO Borient "),p.qZA()(),p._UZ(28,"br"),p.YNc(29,hee,1,0,"app-personal-details",17),p.qZA(),p.TgZ(30,"div",24),p._UZ(31,"br"),p.TgZ(32,"div")(33,"div",25)(34,"div",26),p._uU(35),p.ALo(36,"uppercase"),p.qZA(),p.TgZ(37,"div",27),p._UZ(38,"hr"),p.qZA()(),p.TgZ(39,"div",28),p._UZ(40,"i",29),p._uU(41),p.ALo(42,"translate"),p.qZA()(),p._UZ(43,"br"),p.TgZ(44,"div")(45,"div",25)(46,"div",26),p._uU(47),p.ALo(48,"uppercase"),p.ALo(49,"translate"),p.qZA(),p.TgZ(50,"div",27),p._UZ(51,"hr"),p.qZA()(),p.TgZ(52,"div",30),p.YNc(53,fee,1,1,"app-item-by-period",31),p.qZA()(),p._UZ(54,"br"),p.TgZ(55,"div")(56,"div",25)(57,"div",32),p._uU(58),p.ALo(59,"uppercase"),p.ALo(60,"translate"),p.qZA(),p.TgZ(61,"div",27),p._UZ(62,"hr"),p.qZA()(),p.TgZ(63,"div",30),p.YNc(64,pee,1,1,"app-item-by-period",31),p.qZA()(),p._UZ(65,"br"),p.TgZ(66,"div")(67,"div",25)(68,"div",26),p._uU(69),p.ALo(70,"uppercase"),p.ALo(71,"translate"),p.qZA(),p.TgZ(72,"div",27),p._UZ(73,"hr"),p.qZA()(),p.TgZ(74,"div",30),p.YNc(75,gee,1,2,"app-item-by-period",33),p.qZA()(),p._UZ(76,"br"),p.TgZ(77,"div")(78,"div",25)(79,"div",26),p._uU(80),p.ALo(81,"uppercase"),p.ALo(82,"translate"),p.qZA(),p.TgZ(83,"div",27),p._UZ(84,"hr"),p.qZA()(),p.TgZ(85,"div",30),p.YNc(86,mee,1,1,"app-item-by-period",31),p.qZA()()()(),p._UZ(87,"app-footer"),p.qZA()(),p.TgZ(88,"div",34),p.NdJ("click",function(){return r.downloadAsPDF()}),p._uU(89,"Print CV "),p._UZ(90,"i",35),p.qZA()),2&t&&(p.xp6(20),p.Q6J("ngIf",r.IsValidScreen),p.xp6(9),p.Q6J("ngIf",!r.IsValidScreen),p.xp6(6),p.hij(" ",p.lcZ(36,12,"// ")," "),p.xp6(6),p.hij(" ",p.lcZ(42,14,"cvPresentation")," "),p.xp6(6),p.hij(" // ",p.lcZ(48,16,p.lcZ(49,18,"cvTraining"))," "),p.xp6(6),p.Q6J("ngForOf",r.formations),p.xp6(5),p.hij(" // ",p.lcZ(59,20,p.lcZ(60,22,"cvExperience"))," "),p.xp6(6),p.Q6J("ngForOf",r.experiences),p.xp6(5),p.hij(" // ",p.lcZ(70,24,p.lcZ(71,26,"cvTechnologies"))," "),p.xp6(6),p.Q6J("ngForOf",null==r.technologies?null:r.technologies.PeriodModelArray),p.xp6(5),p.hij(" // ",p.lcZ(81,28,p.lcZ(82,30,"cvProjects"))," "),p.xp6(6),p.Q6J("ngForOf",r.projets))},dependencies:[xa,Hi,RD,kD,OD,mm,_L],styles:['.cvContainer[_ngcontent-%COMP%]{width:100%;margin:0%;display:flex;justify-content:center}.main[_ngcontent-%COMP%]{width:850px;display:flex;flex-direction:column}.cv[_ngcontent-%COMP%]{width:850px;height:auto;display:flex}.presonalInfos[_ngcontent-%COMP%]{width:250px;height:100%}.profile[_ngcontent-%COMP%]{width:600px;height:auto;padding-left:15px;padding-right:25px}.perentprofilephoto[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;flex-direction:column;justify-content:center;align-items:center}.profilePhoto[_ngcontent-%COMP%]{width:100%;height:220px;display:flex;justify-content:center;align-items:center}.profilePhoto[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:180px;height:180px;border-radius:50%}.profoleName[_ngcontent-%COMP%]{height:auto;width:180px;text-align:center;color:var(--white)}@media screen and (max-width: 600px){.cv[_ngcontent-%COMP%]{width:100%;display:block}.presonalInfos[_ngcontent-%COMP%]{width:100%;height:auto}.profile[_ngcontent-%COMP%]{width:100%}.btnMyProfile[_ngcontent-%COMP%]{display:block}}.switchToggle[_ngcontent-%COMP%]{position:absolute;top:4px;right:0;z-index:1}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:0 5px}.switch[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:absolute;top:4px;pointer-events:none;font-family:Helvetica,Arial,sans-serif;font-weight:700;font-size:12px;text-transform:uppercase;text-shadow:0 1px 0 rgba(0,0,0,.06);width:50%;text-align:center}input.check-toggle-round-flat[_ngcontent-%COMP%]:checked ~ .off[_ngcontent-%COMP%]{color:#f36f25}input.check-toggle-round-flat[_ngcontent-%COMP%]:checked ~ .on[_ngcontent-%COMP%]{color:#fff}.switch[_ngcontent-%COMP%] > span.on[_ngcontent-%COMP%]{left:0;padding-left:2px;color:#f36f25}.switch[_ngcontent-%COMP%] > span.off[_ngcontent-%COMP%]{right:0;padding-right:4px;color:#fff}.check-toggle[_ngcontent-%COMP%]{position:absolute;margin-left:-9999px;visibility:hidden}.check-toggle[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{display:block;position:relative;cursor:pointer;outline:none;-webkit-user-select:none;user-select:none}input.check-toggle-round-flat[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{padding:2px;width:97px;height:24px;background-color:#f36f25;border-radius:60px}input.check-toggle-round-flat[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before, input.check-toggle-round-flat[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:after{display:block;position:absolute;content:""}input.check-toggle-round-flat[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{inset:2px;background-color:#f36f25;border-radius:60px}input.check-toggle-round-flat[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:after{top:4px;left:4px;bottom:4px;width:48px;background-color:#fff;border-radius:52px;transition:margin .2s}input.check-toggle-round-flat[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{margin-left:44px}']})}function gb(n,e){const t=(0,RI.m)(n)?n:()=>n,r=i=>i.error(t());return new Ko.y(e?i=>e.schedule(r,0,i):r)}var Bo=Q(8505);function uf(n){return(0,Ys.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,bs.x)(t,void 0,void 0,o=>{s=(0,Dh.Xf)(n(o,uf(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function FD(n){return(0,Ys.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class BD{}class yL{}class df{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof df?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new df;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof df?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(c=>-1===s.indexOf(c)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class _ee{encodeKey(e){return G7(e)}encodeValue(e){return G7(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const vee=/%(\d[a-f0-9])/gi,bee={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function G7(n){return encodeURIComponent(n).replace(vee,(e,t)=>bee[t]??e)}function UD(n){return`${n}`}class bg{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _ee,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function yee(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,c]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(c),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(UD):[UD(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new bg({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(UD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(UD(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class wee{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function K7(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Z7(n){return typeof Blob<"u"&&n instanceof Blob}function Y7(n){return typeof FormData<"u"&&n instanceof FormData}class jI{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Eee(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new df),this.context||(this.context=new wee),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const c=t.indexOf("?");this.urlWithParams=t+(-1===c?"?":c<t.length-1?"&":"")+o}}else this.params=new bg,this.urlWithParams=t}serializeBody(){return null===this.body?null:K7(this.body)||Z7(this.body)||Y7(this.body)||function Iee(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof bg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Y7(this.body)?null:Z7(this.body)?this.body.type||null:K7(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,c=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,h=e.params||this.params;const g=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((_,I)=>_.set(I,e.setHeaders[I]),u)),e.setParams&&(h=Object.keys(e.setParams).reduce((_,I)=>_.set(I,e.setParams[I]),h)),new jI(t,r,s,{params:h,headers:u,context:g,reportProgress:c,responseType:i,withCredentials:o})}}var vo=(()=>((vo=vo||{})[vo.Sent=0]="Sent",vo[vo.UploadProgress=1]="UploadProgress",vo[vo.ResponseHeader=2]="ResponseHeader",vo[vo.DownloadProgress=3]="DownloadProgress",vo[vo.Response=4]="Response",vo[vo.User=5]="User",vo))();class vL{constructor(e,t=200,r="OK"){this.headers=e.headers||new df,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class bL extends vL{constructor(e={}){super(e),this.type=vo.ResponseHeader}clone(e={}){return new bL({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class jD extends vL{constructor(e={}){super(e),this.type=vo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new jD({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class X7 extends vL{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function wL(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let VD=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof jI)s=t;else{let u,h;u=i.headers instanceof df?i.headers:new df(i.headers),i.params&&(h=i.params instanceof bg?i.params:new bg({fromObject:i.params})),s=new jI(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:h,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=vn(s).pipe(yg(u=>this.handler.handle(u)));if(t instanceof jI||"events"===i.observe)return o;const c=o.pipe(vc(u=>u instanceof jD));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe((0,In.U)(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe((0,In.U)(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe((0,In.U)(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return c.pipe((0,In.U)(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new bg).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,wL(i,r))}post(t,r,i={}){return this.request("POST",t,wL(i,r))}put(t,r,i={}){return this.request("PUT",t,wL(i,r))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(BD))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function Q7(n,e){return e(n)}function Cee(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const xee=new p.OlP("HTTP_INTERCEPTORS"),VI=new p.OlP("HTTP_INTERCEPTOR_FNS");function Aee(){let n=null;return(e,t)=>(null===n&&(n=((0,p.f3M)(xee,{optional:!0})??[]).reduceRight(Cee,Q7)),n(e,t))}let J7=(()=>{class n extends BD{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(VI)));this.chain=r.reduceRight((i,s)=>function See(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),Q7)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(yL),p.LFG(p.lqb))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Nee=/^\)\]\}',?\n/;let tV=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ko.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((w,x)=>i.setRequestHeader(w,x.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&i.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();i.responseType="json"!==w?w:"text"}const s=t.serializeBody();let o=null;const c=()=>{if(null!==o)return o;const w=i.statusText||"OK",x=new df(i.getAllResponseHeaders()),R=function Pee(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new bL({headers:x,status:i.status,statusText:w,url:R}),o},u=()=>{let{headers:w,status:x,statusText:R,url:O}=c(),L=null;204!==x&&(L=typeof i.response>"u"?i.responseText:i.response),0===x&&(x=L?200:0);let U=x>=200&&x<300;if("json"===t.responseType&&"string"==typeof L){const Y=L;L=L.replace(Nee,"");try{L=""!==L?JSON.parse(L):null}catch(te){L=Y,U&&(U=!1,L={error:te,text:L})}}U?(r.next(new jD({body:L,headers:w,status:x,statusText:R,url:O||void 0})),r.complete()):r.error(new X7({error:L,headers:w,status:x,statusText:R,url:O||void 0}))},h=w=>{const{url:x}=c(),R=new X7({error:w,status:i.status||0,statusText:i.statusText||"Unknown Error",url:x||void 0});r.error(R)};let g=!1;const _=w=>{g||(r.next(c()),g=!0);let x={type:vo.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(x.total=w.total),"text"===t.responseType&&!!i.responseText&&(x.partialText=i.responseText),r.next(x)},I=w=>{let x={type:vo.UploadProgress,loaded:w.loaded};w.lengthComputable&&(x.total=w.total),r.next(x)};return i.addEventListener("load",u),i.addEventListener("error",h),i.addEventListener("timeout",h),i.addEventListener("abort",h),t.reportProgress&&(i.addEventListener("progress",_),null!==s&&i.upload&&i.upload.addEventListener("progress",I)),i.send(s),r.next({type:vo.Sent}),()=>{i.removeEventListener("error",h),i.removeEventListener("abort",h),i.removeEventListener("load",u),i.removeEventListener("timeout",h),t.reportProgress&&(i.removeEventListener("progress",_),null!==s&&i.upload&&i.upload.removeEventListener("progress",I)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Qf))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const EL=new p.OlP("XSRF_ENABLED"),nV="XSRF-TOKEN",rV=new p.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>nV}),iV="X-XSRF-TOKEN",sV=new p.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>iV});class oV{}let Ree=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ki(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Ge),p.LFG(p.Lbi),p.LFG(rV))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function kee(n,e){const t=n.url.toLowerCase();if(!(0,p.f3M)(EL)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,p.f3M)(oV).getToken(),i=(0,p.f3M)(sV);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var uo=(()=>((uo=uo||{})[uo.Interceptors=0]="Interceptors",uo[uo.LegacyInterceptors=1]="LegacyInterceptors",uo[uo.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",uo[uo.NoXsrfProtection=3]="NoXsrfProtection",uo[uo.JsonpSupport=4]="JsonpSupport",uo[uo.RequestsMadeViaParent=5]="RequestsMadeViaParent",uo))();function mb(n,e){return{\u0275kind:n,\u0275providers:e}}function Oee(...n){const e=[VD,tV,J7,{provide:BD,useExisting:J7},{provide:yL,useExisting:tV},{provide:VI,useValue:kee,multi:!0},{provide:EL,useValue:!0},{provide:oV,useClass:Ree}];for(const t of n)e.push(...t.\u0275providers);return(0,p.MR2)(e)}const aV=new p.OlP("LEGACY_INTERCEPTOR_FN");function Fee({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:rV,useValue:n}),void 0!==e&&t.push({provide:sV,useValue:e}),mb(uo.CustomXsrfConfiguration,t)}let Bee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[Oee(mb(uo.LegacyInterceptors,[{provide:aV,useFactory:Aee},{provide:VI,useExisting:aV,multi:!0}]),Fee({cookieName:nV,headerName:iV}))]}),n})(),$ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[Ph,Ph]}),n})();function hf(){}const Wee=function(){let n=0;return function(){return n++}}();function Ti(n){return null===n||typeof n>"u"}function ps(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function ai(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}const ho=n=>("number"==typeof n||n instanceof Number)&&isFinite(+n);function Vl(n,e){return ho(n)?n:e}function Zr(n,e){return typeof n>"u"?e:n}const hV=(n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*e:+n;function gs(n,e,t){if(n&&"function"==typeof n.call)return n.apply(t,e)}function Gi(n,e,t,r){let i,s,o;if(ps(n))if(s=n.length,r)for(i=s-1;i>=0;i--)e.call(t,n[i],i);else for(i=0;i<s;i++)e.call(t,n[i],i);else if(ai(n))for(o=Object.keys(n),s=o.length,i=0;i<s;i++)e.call(t,n[o[i]],o[i])}function $D(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function WD(n){if(ps(n))return n.map(WD);if(ai(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=WD(n[t[i]]);return e}return n}function fV(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function Gee(n,e,t,r){if(!fV(n))return;const i=e[n],s=t[n];ai(i)&&ai(s)?HI(i,s,r):e[n]=WD(s)}function HI(n,e,t){const r=ps(e)?e:[e],i=r.length;if(!ai(n))return n;const s=(t=t||{}).merger||Gee;for(let o=0;o<i;++o){if(!ai(e=r[o]))continue;const c=Object.keys(e);for(let u=0,h=c.length;u<h;++u)s(c[u],n,e,t)}return n}function $I(n,e){return HI(n,e,{merger:Kee})}function Kee(n,e,t){if(!fV(n))return;const r=e[n],i=t[n];ai(r)&&ai(i)?$I(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=WD(i))}const pV={"":n=>n,x:n=>n.x,y:n=>n.y};function wg(n,e){return(pV[e]||(pV[e]=function Zee(n){const e=function Yee(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}(n);return t=>{for(const r of e){if(""===r)break;t=t&&t[r]}return t}}(e)))(n)}function CL(n){return n.charAt(0).toUpperCase()+n.slice(1)}const zl=n=>typeof n<"u",Eg=n=>"function"==typeof n,gV=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0},Os=Math.PI,ns=2*Os,Qee=ns+Os,qD=Number.POSITIVE_INFINITY,Jee=Os/180,Qs=Os/2,WI=Os/4,mV=2*Os/3,Hl=Math.log10,Md=Math.sign;function _V(n){const e=Math.round(n);n=qI(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Hl(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function _b(n){return!isNaN(parseFloat(n))&&isFinite(n)}function qI(n,e,t){return Math.abs(n-e)<t}function yV(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Su(n){return n*(Os/180)}function SL(n){return n*(180/Os)}function vV(n){if(!ho(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function bV(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*Os&&(s+=ns),{angle:s,distance:i}}function xL(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function nte(n,e){return(n-e+Qee)%ns-Os}function cl(n){return(n%ns+ns)%ns}function GI(n,e,t,r){const i=cl(n),s=cl(e),o=cl(t),c=cl(s-i),u=cl(o-i),h=cl(i-s),g=cl(i-o);return i===s||i===o||r&&s===o||c>u&&h<g}function Yo(n,e,t){return Math.max(e,Math.min(t,n))}function ff(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function AL(n,e,t){t=t||(o=>n[o]<e);let s,r=n.length-1,i=0;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const pf=(n,e,t,r)=>AL(n,t,r?i=>n[i][e]<=t:i=>n[i][e]<t),ite=(n,e,t)=>AL(n,t,r=>n[r][e]>=t),wV=["push","pop","shift","splice","unshift"];function EV(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),!(r.length>0)&&(wV.forEach(s=>{delete n[s]}),delete n._chartjs)}function IV(n){const e=new Set;let t,r;for(t=0,r=n.length;t<r;++t)e.add(n[t]);return e.size===r?n:Array.from(e)}const CV=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function SV(n,e,t){const r=t||(o=>Array.prototype.slice.call(o));let i=!1,s=[];return function(...o){s=r(o),i||(i=!0,CV.call(window,()=>{i=!1,n.apply(e,s)}))}}const TL=n=>"start"===n?"left":"end"===n?"right":"center",Ra=(n,e,t)=>"start"===n?e:"end"===n?t:(e+t)/2;function xV(n,e,t){const r=e.length;let i=0,s=r;if(n._sorted){const{iScale:o,_parsed:c}=n,u=o.axis,{min:h,max:g,minDefined:_,maxDefined:I}=o.getUserBounds();_&&(i=Yo(Math.min(pf(c,o.axis,h).lo,t?r:pf(e,u,o.getPixelForValue(h)).lo),0,r-1)),s=I?Yo(Math.max(pf(c,o.axis,g,!0).hi+1,t?0:pf(e,u,o.getPixelForValue(g),!0).hi+1),i,r)-i:r-i}return{start:i,count:s}}function AV(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),s}const GD=n=>0===n||1===n,TV=(n,e,t)=>-Math.pow(2,10*(n-=1))*Math.sin((n-e)*ns/t),DV=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*ns/t)+1,KI={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*Qs),easeOutSine:n=>Math.sin(n*Qs),easeInOutSine:n=>-.5*(Math.cos(Os*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>GD(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>GD(n)?n:TV(n,.075,.3),easeOutElastic:n=>GD(n)?n:DV(n,.075,.3),easeInOutElastic:n=>GD(n)?n:n<.5?.5*TV(2*n,.1125,.45):.5+.5*DV(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let e=1.70158;return(n/=.5)<1?n*n*((1+(e*=1.525))*n-e)*.5:.5*((n-=2)*n*((1+(e*=1.525))*n+e)+2)},easeInBounce:n=>1-KI.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*KI.easeInBounce(2*n):.5*KI.easeOutBounce(2*n-1)+.5};function ZI(n){return n+.5|0}const Ig=(n,e,t)=>Math.max(Math.min(n,t),e);function YI(n){return Ig(ZI(2.55*n),0,255)}function Cg(n){return Ig(ZI(255*n),0,255)}function gf(n){return Ig(ZI(n/2.55)/100,0,1)}function MV(n){return Ig(ZI(100*n),0,100)}const $l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},DL=[..."0123456789ABCDEF"],lte=n=>DL[15&n],ute=n=>DL[(240&n)>>4]+DL[15&n],KD=n=>(240&n)>>4==(15&n);const gte=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function NV(n,e,t){const r=e*Math.min(t,1-t),i=(s,o=(s+n/30)%12)=>t-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function mte(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function _te(n,e,t){const r=NV(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function ML(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),o=Math.min(t,r,i),c=(s+o)/2;let u,h,g;return s!==o&&(g=s-o,h=c>.5?g/(2-s-o):g/(s+o),u=function yte(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}(t,r,i,g,s),u=60*u+.5),[0|u,h||0,c]}function NL(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Cg)}function PL(n,e,t){return NL(NV,n,e,t)}function PV(n){return(n%360+360)%360}const RV={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},kV={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ZD;const xte=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,RL=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,yb=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function YD(n,e,t){if(n){let r=ML(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,0===e?360:1)),r=PL(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function OV(n,e){return n&&Object.assign(e||{},n)}function LV(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Cg(n[3]))):(e=OV(n,{r:0,g:0,b:0,a:1})).a=Cg(e.a),e}function Mte(n){return"r"===n.charAt(0)?function Ate(n){const e=xte.exec(n);let r,i,s,t=255;if(e){if(e[7]!==r){const o=+e[7];t=e[8]?YI(o):Ig(255*o,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?YI(r):Ig(r,0,255)),i=255&(e[4]?YI(i):Ig(i,0,255)),s=255&(e[6]?YI(s):Ig(s,0,255)),{r,g:i,b:s,a:t}}}(n):function wte(n){const e=gte.exec(n);let r,t=255;if(!e)return;e[5]!==r&&(t=e[6]?YI(+e[5]):Cg(+e[5]));const i=PV(+e[2]),s=+e[3]/100,o=+e[4]/100;return r="hwb"===e[1]?function vte(n,e,t){return NL(_te,n,e,t)}(i,s,o):"hsv"===e[1]?function bte(n,e,t){return NL(mte,n,e,t)}(i,s,o):PL(i,s,o),{r:r[0],g:r[1],b:r[2],a:t}}(n)}class XD{constructor(e){if(e instanceof XD)return e;const t=typeof e;let r;"object"===t?r=LV(e):"string"===t&&(r=function hte(n){var t,e=n.length;return"#"===n[0]&&(4===e||5===e?t={r:255&17*$l[n[1]],g:255&17*$l[n[2]],b:255&17*$l[n[3]],a:5===e?17*$l[n[4]]:255}:(7===e||9===e)&&(t={r:$l[n[1]]<<4|$l[n[2]],g:$l[n[3]]<<4|$l[n[4]],b:$l[n[5]]<<4|$l[n[6]],a:9===e?$l[n[7]]<<4|$l[n[8]]:255})),t}(e)||function Ste(n){ZD||(ZD=function Cte(){const n={},e=Object.keys(kV),t=Object.keys(RV);let r,i,s,o,c;for(r=0;r<e.length;r++){for(o=c=e[r],i=0;i<t.length;i++)s=t[i],c=c.replace(s,RV[s]);s=parseInt(kV[o],16),n[c]=[s>>16&255,s>>8&255,255&s]}return n}(),ZD.transparent=[0,0,0,0]);const e=ZD[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(e)||Mte(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=OV(this._rgb);return e&&(e.a=gf(e.a)),e}set rgb(e){this._rgb=LV(e)}rgbString(){return this._valid?function Tte(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${gf(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function pte(n){var e=(n=>KD(n.r)&&KD(n.g)&&KD(n.b)&&KD(n.a))(n)?lte:ute;return n?"#"+e(n.r)+e(n.g)+e(n.b)+((n,e)=>n<255?e(n):"")(n.a,e):void 0}(this._rgb):void 0}hslString(){return this._valid?function Ite(n){if(!n)return;const e=ML(n),t=e[0],r=MV(e[1]),i=MV(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${gf(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const o=t===s?.5:t,c=2*o-1,u=r.a-i.a,h=((c*u==-1?c:(c+u)/(1+c*u))+1)/2;s=1-h,r.r=255&h*r.r+s*i.r+.5,r.g=255&h*r.g+s*i.g+.5,r.b=255&h*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=function Dte(n,e,t){const r=yb(gf(n.r)),i=yb(gf(n.g)),s=yb(gf(n.b));return{r:Cg(RL(r+t*(yb(gf(e.r))-r))),g:Cg(RL(i+t*(yb(gf(e.g))-i))),b:Cg(RL(s+t*(yb(gf(e.b))-s))),a:n.a+t*(e.a-n.a)}}(this._rgb,e._rgb,t)),this}clone(){return new XD(this.rgb)}alpha(e){return this._rgb.a=Cg(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=ZI(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return YD(this._rgb,2,e),this}darken(e){return YD(this._rgb,2,-e),this}saturate(e){return YD(this._rgb,1,e),this}desaturate(e){return YD(this._rgb,1,-e),this}rotate(e){return function Ete(n,e){var t=ML(n);t[0]=PV(t[0]+e),t=PL(t),n.r=t[0],n.g=t[1],n.b=t[2]}(this._rgb,e),this}}function FV(n){return new XD(n)}function BV(n){if(n&&"object"==typeof n){const e=n.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function UV(n){return BV(n)?n:FV(n)}function kL(n){return BV(n)?n:FV(n).saturate(.5).darken(.1).hexString()}const X_=Object.create(null),OL=Object.create(null);function XI(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function LL(n,e,t){return"string"==typeof e?HI(XI(n,e),t):HI(XI(n,""),e)}var ci=new class Nte{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,r)=>kL(r.backgroundColor),this.hoverBorderColor=(t,r)=>kL(r.borderColor),this.hoverColor=(t,r)=>kL(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return LL(this,e,t)}get(e){return XI(this,e)}describe(e,t){return LL(OL,e,t)}override(e,t){return LL(X_,e,t)}route(e,t,r,i){const s=XI(this,e),o=XI(this,r),c="_"+t;Object.defineProperties(s,{[c]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const u=this[c],h=o[i];return ai(u)?Object.assign({},h,u):Zr(u,h)},set(u){this[c]=u}}})}}({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function QD(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function Rte(n,e,t,r){let i=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let o=0;const c=t.length;let u,h,g,_,I;for(u=0;u<c;u++)if(_=t[u],null!=_&&!0!==ps(_))o=QD(n,i,s,o,_);else if(ps(_))for(h=0,g=_.length;h<g;h++)I=_[h],null!=I&&!ps(I)&&(o=QD(n,i,s,o,I));n.restore();const w=s.length/2;if(w>t.length){for(u=0;u<w;u++)delete i[s[u]];s.splice(0,w)}return o}function Q_(n,e,t){const r=n.currentDevicePixelRatio,i=0!==t?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function jV(n,e){(e=e||n.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function FL(n,e,t,r){VV(n,e,t,r,null)}function VV(n,e,t,r,i){let s,o,c,u,h,g;const _=e.pointStyle,I=e.rotation,w=e.radius;let x=(I||0)*Jee;if(_&&"object"==typeof _&&(s=_.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(t,r),n.rotate(x),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),void n.restore();if(!(isNaN(w)||w<=0)){switch(n.beginPath(),_){default:i?n.ellipse(t,r,i/2,w,0,0,ns):n.arc(t,r,w,0,ns),n.closePath();break;case"triangle":n.moveTo(t+Math.sin(x)*w,r-Math.cos(x)*w),x+=mV,n.lineTo(t+Math.sin(x)*w,r-Math.cos(x)*w),x+=mV,n.lineTo(t+Math.sin(x)*w,r-Math.cos(x)*w),n.closePath();break;case"rectRounded":h=.516*w,u=w-h,o=Math.cos(x+WI)*u,c=Math.sin(x+WI)*u,n.arc(t-o,r-c,h,x-Os,x-Qs),n.arc(t+c,r-o,h,x-Qs,x),n.arc(t+o,r+c,h,x,x+Qs),n.arc(t-c,r+o,h,x+Qs,x+Os),n.closePath();break;case"rect":if(!I){u=Math.SQRT1_2*w,g=i?i/2:u,n.rect(t-g,r-u,2*g,2*u);break}x+=WI;case"rectRot":o=Math.cos(x)*w,c=Math.sin(x)*w,n.moveTo(t-o,r-c),n.lineTo(t+c,r-o),n.lineTo(t+o,r+c),n.lineTo(t-c,r+o),n.closePath();break;case"crossRot":x+=WI;case"cross":o=Math.cos(x)*w,c=Math.sin(x)*w,n.moveTo(t-o,r-c),n.lineTo(t+o,r+c),n.moveTo(t+c,r-o),n.lineTo(t-c,r+o);break;case"star":o=Math.cos(x)*w,c=Math.sin(x)*w,n.moveTo(t-o,r-c),n.lineTo(t+o,r+c),n.moveTo(t+c,r-o),n.lineTo(t-c,r+o),x+=WI,o=Math.cos(x)*w,c=Math.sin(x)*w,n.moveTo(t-o,r-c),n.lineTo(t+o,r+c),n.moveTo(t+c,r-o),n.lineTo(t-c,r+o);break;case"line":o=i?i/2:Math.cos(x)*w,c=Math.sin(x)*w,n.moveTo(t-o,r-c),n.lineTo(t+o,r+c);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(x)*w,r+Math.sin(x)*w)}n.fill(),e.borderWidth>0&&n.stroke()}}function QI(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function JD(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function eM(n){n.restore()}function kte(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if("middle"===i){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else"after"===i!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function Ote(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function J_(n,e,t,r,i,s={}){const o=ps(e)?e:[e],c=s.strokeWidth>0&&""!==s.strokeColor;let u,h;for(n.save(),n.font=i.string,function Lte(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ti(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}(n,s),u=0;u<o.length;++u)h=o[u],c&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Ti(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(h,t,r,s.maxWidth)),n.fillText(h,t,r,s.maxWidth),Fte(n,t,r,h,s),r+=i.lineHeight;n.restore()}function Fte(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),o=e-s.actualBoundingBoxLeft,c=e+s.actualBoundingBoxRight,u=t-s.actualBoundingBoxAscent,h=t+s.actualBoundingBoxDescent,g=i.strikethrough?(u+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,g),n.lineTo(c,g),n.stroke()}}function JI(n,e){const{x:t,y:r,w:i,h:s,radius:o}=e;n.arc(t+o.topLeft,r+o.topLeft,o.topLeft,-Qs,Os,!0),n.lineTo(t,r+s-o.bottomLeft),n.arc(t+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Os,Qs,!0),n.lineTo(t+i-o.bottomRight,r+s),n.arc(t+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Qs,0,!0),n.lineTo(t+i,r+o.topRight),n.arc(t+i-o.topRight,r+o.topRight,o.topRight,0,-Qs,!0),n.lineTo(t+o.topLeft,r)}const Bte=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Ute=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function jte(n,e){const t=(""+n).match(Bte);if(!t||"normal"===t[1])return 1.2*e;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100}return e*n}const Vte=n=>+n||0;function BL(n,e){const t={},r=ai(e),i=r?Object.keys(e):e,s=ai(n)?r?o=>Zr(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of i)t[o]=Vte(s(o));return t}function zV(n){return BL(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ey(n){return BL(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ka(n){const e=zV(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Uo(n,e){let t=Zr((n=n||{}).size,(e=e||ci.font).size);"string"==typeof t&&(t=parseInt(t,10));let r=Zr(n.style,e.style);r&&!(""+r).match(Ute)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const i={family:Zr(n.family,e.family),lineHeight:jte(Zr(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Zr(n.weight,e.weight),string:""};return i.string=function Pte(n){return!n||Ti(n.size)||Ti(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(i),i}function e2(n,e,t,r){let s,o,c,i=!0;for(s=0,o=n.length;s<o;++s)if(c=n[s],void 0!==c&&(void 0!==e&&"function"==typeof c&&(c=c(e),i=!1),void 0!==t&&ps(c)&&(c=c[t%c.length],i=!1),void 0!==c))return r&&!i&&(r.cacheable=!1),c}function Sg(n,e){return Object.assign(Object.create(n),e)}function UL(n,e=[""],t=n,r,i=(()=>n[0])){zl(r)||(r=GV("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:t,_fallback:r,_getTarget:i,override:o=>UL([o,...n],e,t,r)};return new Proxy(s,{deleteProperty:(o,c)=>(delete o[c],delete o._keys,delete n[0][c],!0),get:(o,c)=>$V(o,c,()=>function Yte(n,e,t,r){let i;for(const s of e)if(i=GV(Hte(s,n),t),zl(i))return jL(n,i)?VL(t,r,n,i):i}(c,e,n,o)),getOwnPropertyDescriptor:(o,c)=>Reflect.getOwnPropertyDescriptor(o._scopes[0],c),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(o,c)=>KV(o).includes(c),ownKeys:o=>KV(o),set(o,c,u){const h=o._storage||(o._storage=i());return o[c]=h[c]=u,delete o._keys,!0}})}function vb(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:HV(n,r),setContext:s=>vb(n,s,t,r),override:s=>vb(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty:(s,o)=>(delete s[o],delete n[o],!0),get:(s,o,c)=>$V(s,o,()=>function $te(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=n;let c=r[e];return Eg(c)&&o.isScriptable(e)&&(c=function Wte(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);return c.add(n),e=e(s,o||r),c.delete(n),jL(n,e)&&(e=VL(i._scopes,i,n,e)),e}(e,c,n,t)),ps(c)&&c.length&&(c=function qte(n,e,t,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:c}=t;if(zl(s.index)&&r(n))e=e[s.index%e.length];else if(ai(e[0])){const u=e,h=i._scopes.filter(g=>g!==u);e=[];for(const g of u){const _=VL(h,i,n,g);e.push(vb(_,s,o&&o[n],c))}}return e}(e,c,n,o.isIndexable)),jL(e,c)&&(c=vb(c,i,s&&s[e],o)),c}(s,o,c)),getOwnPropertyDescriptor:(s,o)=>s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,o)=>Reflect.has(n,o),ownKeys:()=>Reflect.ownKeys(n),set:(s,o,c)=>(n[o]=c,delete s[o],!0)})}function HV(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Eg(t)?t:()=>t,isIndexable:Eg(r)?r:()=>r}}const Hte=(n,e)=>n?n+CL(e):e,jL=(n,e)=>ai(e)&&"adapters"!==n&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function $V(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];const r=t();return n[e]=r,r}function WV(n,e,t){return Eg(n)?n(e,t):n}const Gte=(n,e)=>!0===n?e:"string"==typeof n?wg(e,n):void 0;function Kte(n,e,t,r,i){for(const s of e){const o=Gte(t,s);if(o){n.add(o);const c=WV(o._fallback,t,i);if(zl(c)&&c!==t&&c!==r)return c}else if(!1===o&&zl(r)&&t!==r)return null}return!1}function VL(n,e,t,r){const i=e._rootScopes,s=WV(e._fallback,t,r),o=[...n,...i],c=new Set;c.add(r);let u=qV(c,o,t,s||t,r);return!(null===u||zl(s)&&s!==t&&(u=qV(c,o,s,u,r),null===u))&&UL(Array.from(c),[""],i,s,()=>function Zte(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return ps(i)&&ai(t)?t:i}(e,t,r))}function qV(n,e,t,r,i){for(;t;)t=Kte(n,e,t,r,i);return t}function GV(n,e){for(const t of e){if(!t)continue;const r=t[n];if(zl(r))return r}}function KV(n){let e=n._keys;return e||(e=n._keys=function Xte(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}(n._scopes)),e}function ZV(n,e,t,r){const{iScale:i}=n,{key:s="r"}=this._parsing,o=new Array(r);let c,u,h,g;for(c=0,u=r;c<u;++c)h=c+t,g=e[h],o[c]={r:i.parse(wg(g,s),h)};return o}const Qte=Number.EPSILON||1e-14,bb=(n,e)=>e<n.length&&!n[e].skip&&n[e],YV=n=>"x"===n?"y":"x";function Jte(n,e,t,r){const i=n.skip?e:n,s=e,o=t.skip?e:t,c=xL(s,i),u=xL(o,s);let h=c/(c+u),g=u/(c+u);h=isNaN(h)?0:h,g=isNaN(g)?0:g;const _=r*h,I=r*g;return{previous:{x:s.x-_*(o.x-i.x),y:s.y-_*(o.y-i.y)},next:{x:s.x+I*(o.x-i.x),y:s.y+I*(o.y-i.y)}}}function tM(n,e,t){return Math.max(Math.min(n,t),e)}function ine(n,e,t,r,i){let s,o,c,u;if(e.spanGaps&&(n=n.filter(h=>!h.skip)),"monotone"===e.cubicInterpolationMode)!function nne(n,e="x"){const t=YV(e),r=n.length,i=Array(r).fill(0),s=Array(r);let o,c,u,h=bb(n,0);for(o=0;o<r;++o)if(c=u,u=h,h=bb(n,o+1),u){if(h){const g=h[e]-u[e];i[o]=0!==g?(h[t]-u[t])/g:0}s[o]=c?h?Md(i[o-1])!==Md(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}(function ene(n,e,t){const r=n.length;let i,s,o,c,u,h=bb(n,0);for(let g=0;g<r-1;++g)if(u=h,h=bb(n,g+1),u&&h){if(qI(e[g],0,Qte)){t[g]=t[g+1]=0;continue}i=t[g]/e[g],s=t[g+1]/e[g],c=Math.pow(i,2)+Math.pow(s,2),!(c<=9)&&(o=3/Math.sqrt(c),t[g]=i*o*e[g],t[g+1]=s*o*e[g])}})(n,i,s),function tne(n,e,t="x"){const r=YV(t),i=n.length;let s,o,c,u=bb(n,0);for(let h=0;h<i;++h){if(o=c,c=u,u=bb(n,h+1),!c)continue;const g=c[t],_=c[r];o&&(s=(g-o[t])/3,c[`cp1${t}`]=g-s,c[`cp1${r}`]=_-s*e[h]),u&&(s=(u[t]-g)/3,c[`cp2${t}`]=g+s,c[`cp2${r}`]=_+s*e[h])}}(n,s,e)}(n,i);else{let h=r?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)c=n[s],u=Jte(h,c,n[Math.min(s+1,o-(r?0:1))%o],e.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,h=c}e.capBezierPoints&&function rne(n,e){let t,r,i,s,o,c=QI(n[0],e);for(t=0,r=n.length;t<r;++t)o=s,s=c,c=t<r-1&&QI(n[t+1],e),s&&(i=n[t],o&&(i.cp1x=tM(i.cp1x,e.left,e.right),i.cp1y=tM(i.cp1y,e.top,e.bottom)),c&&(i.cp2x=tM(i.cp2x,e.left,e.right),i.cp2y=tM(i.cp2y,e.top,e.bottom)))}(n,t)}function XV(){return typeof window<"u"&&typeof document<"u"}function zL(n){let e=n.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function nM(n,e,t){let r;return"string"==typeof n?(r=parseInt(n,10),-1!==n.indexOf("%")&&(r=r/100*e.parentNode[t])):r=n,r}const rM=n=>window.getComputedStyle(n,null),one=["top","right","bottom","left"];function ty(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=one[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function ny(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=rM(t),s="border-box"===i.boxSizing,o=ty(i,"padding"),c=ty(i,"border","width"),{x:u,y:h,box:g}=function cne(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let c,u,o=!1;if(((n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot))(i,s,n.target))c=i,u=s;else{const h=e.getBoundingClientRect();c=r.clientX-h.left,u=r.clientY-h.top,o=!0}return{x:c,y:u,box:o}}(n,t),_=o.left+(g&&c.left),I=o.top+(g&&c.top);let{width:w,height:x}=e;return s&&(w-=o.width+c.width,x-=o.height+c.height),{x:Math.round((u-_)/w*t.width/r),y:Math.round((h-I)/x*t.height/r)}}const HL=n=>Math.round(10*n)/10;function QV(n,e,t){const r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=i/r,n.width=s/r;const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==r||o.height!==i||o.width!==s)&&(n.currentDevicePixelRatio=r,o.height=i,o.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0)}const dne=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return n}();function JV(n,e){const t=function sne(n,e){return rM(n).getPropertyValue(e)}(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ry(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function hne(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:"middle"===r?t<.5?n.y:e.y:"after"===r?t<1?n.y:e.y:t>0?e.y:n.y}}function fne(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=ry(n,i,t),c=ry(i,s,t),u=ry(s,e,t),h=ry(o,c,t),g=ry(c,u,t);return ry(h,g,t)}const ez=new Map;function t2(n,e,t){return function pne(n,e){e=e||{};const t=n+JSON.stringify(e);let r=ez.get(t);return r||(r=new Intl.NumberFormat(n,e),ez.set(t,r)),r}(e,t).format(n)}function wb(n,e,t){return n?function(n,e){return{x:t=>n+n+e-t,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,r)=>t-r,leftForLtr:(t,r)=>t-r}}(e,t):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,e)=>n+e,leftForLtr:(n,e)=>n}}function tz(n,e){let t,r;("ltr"===e||"rtl"===e)&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function nz(n,e){void 0!==e&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function rz(n){return"angle"===n?{between:GI,compare:nte,normalize:cl}:{between:ff,compare:(e,t)=>e-t,normalize:e=>e}}function iz({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t==0,style:i}}function sz(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,o=e.length,{compare:c,between:u,normalize:h}=rz(r),{start:g,end:_,loop:I,style:w}=function _ne(n,e,t){const{property:r,start:i,end:s}=t,{between:o,normalize:c}=rz(r),u=e.length;let I,w,{start:h,end:g,loop:_}=n;if(_){for(h+=u,g+=u,I=0,w=u;I<w&&o(c(e[h%u][r]),i,s);++I)h--,g--;h%=u,g%=u}return g<h&&(g+=u),{start:h,end:g,loop:_,style:n.style}}(n,e,t),x=[];let L,U,Y,R=!1,O=null;for(let le=g,Be=g;le<=_;++le)U=e[le%o],!U.skip&&(L=h(U[r]),L!==Y&&(R=u(L,i,s),null===O&&(R||u(i,Y,L)&&0!==c(i,Y))&&(O=0===c(L,i)?le:Be),null!==O&&(!R||0===c(s,L)||u(s,Y,L))&&(x.push(iz({start:O,end:le,loop:I,count:o,style:w})),O=null),Be=le,Y=L));return null!==O&&x.push(iz({start:O,end:_,loop:I,count:o,style:w})),x}function oz(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=sz(r[i],n.points,e);s.length&&t.push(...s)}return t}function cz(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Ene(n,e){return e&&JSON.stringify(n)!==JSON.stringify(e)}var mf=new class Ine{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const o=t.duration;t.listeners[i].forEach(c=>c({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(r-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=CV.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let u,o=s.length-1,c=!1;for(;o>=0;--o)u=s[o],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),c=!0):(s[o]=s[s.length-1],s.pop());c&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}};const lz="transparent",Cne={boolean:(n,e,t)=>t>.5?e:n,color(n,e,t){const r=UV(n||lz),i=r.valid&&UV(e||lz);return i&&i.valid?i.mix(r,t).hexString():e},number:(n,e,t)=>n+(e-n)*t};class Sne{constructor(e,t,r,i){const s=t[r];i=e2([e.to,i,s,e.from]);const o=e2([e.from,s,i]);this._active=!0,this._fn=e.fn||Cne[e.type||typeof o],this._easing=KI[e.easing]||KI.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=e2([e.to,t,i,e.from]),this._from=e2([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,c=this._to;let u;if(this._active=s!==c&&(o||t<r),!this._active)return this._target[i]=c,void this._notify(!0);t<0?this._target[i]=s:(u=t/r%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,c,u))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}ci.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Tne=Object.keys(ci.animation);ci.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),ci.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),ci.describe("animations",{_fallback:"animation"}),ci.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}});class uz{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ai(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!ai(i))return;const s={};for(const o of Tne)s[o]=i[o];(ps(i.properties)&&i.properties||[r]).forEach(o=>{(o===r||!t.has(o))&&t.set(o,s)})})}_animateOptions(e,t){const r=t.options,i=function Mne(n,e){if(!e)return;let t=n.options;if(t)return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;n.options=e}(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&function Dne(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),c=Date.now();let u;for(u=o.length-1;u>=0;--u){const h=o[u];if("$"===h.charAt(0))continue;if("options"===h){i.push(...this._animateOptions(e,t));continue}const g=t[h];let _=s[h];const I=r.get(h);if(_){if(I&&_.active()){_.update(I,g,c);continue}_.cancel()}I&&I.duration?(s[h]=_=new Sne(I,e,h,g),i.push(_)):e[h]=g}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const r=this._createAnimations(e,t);return r.length?(mf.add(this._chart,r),!0):void 0}}function dz(n,e){const t=n&&n.options||{},r=t.reverse,i=void 0===t.min?e:0,s=void 0===t.max?e:0;return{start:r?s:i,end:r?i:s}}function hz(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function fz(n,e,t,r={}){const i=n.keys,s="single"===r.mode;let o,c,u,h;if(null!==e){for(o=0,c=i.length;o<c;++o){if(u=+i[o],u===t){if(r.all)continue;break}h=n.values[u],ho(h)&&(s||0===e||Md(e)===Md(h))&&(e+=h)}return e}}function pz(n,e){const t=n&&n.options.stacked;return t||void 0===t&&void 0!==e.stack}function Lne(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function gz(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function mz(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:c}=r,u=s.axis,h=o.axis,g=function kne(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}(s,o,r),_=e.length;let I;for(let w=0;w<_;++w){const x=e[w],{[u]:R,[h]:O}=x;I=(x._stacks||(x._stacks={}))[h]=Lne(i,g,R),I[c]=O,I._top=gz(I,o,!0,r.type),I._bottom=gz(I,o,!1,r.type)}}function $L(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function n2(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||void 0===s[r]||void 0===s[r][t])return;delete s[r][t]}}}const WL=n=>"reset"===n||"none"===n,_z=(n,e)=>e?n:Object.assign({},n);let Nd=(()=>{class n{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=pz(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&n2(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,i=this.getDataset(),s=(I,w,x,R)=>"x"===I?w:"r"===I?R:x,o=r.xAxisID=Zr(i.xAxisID,$L(t,"x")),c=r.yAxisID=Zr(i.yAxisID,$L(t,"y")),u=r.rAxisID=Zr(i.rAxisID,$L(t,"r")),h=r.indexAxis,g=r.iAxisID=s(h,o,c,u),_=r.vAxisID=s(h,c,o,u);r.xScale=this.getScaleForId(o),r.yScale=this.getScaleForId(c),r.rScale=this.getScaleForId(u),r.iScale=this.getScaleForId(g),r.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&EV(this._data,this),t._stacked&&n2(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),i=this._data;if(ai(r))this._data=function Rne(n){const e=Object.keys(n),t=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],t[r]={x:s,y:n[s]};return t}(r);else if(i!==r){if(i){EV(i,this);const s=this._cachedMeta;n2(s),s._parsed=[]}r&&Object.isExtensible(r)&&function ote(n,e){n._chartjs?n._chartjs.listeners.push(e):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),wV.forEach(t=>{const r="_onData"+CL(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return n._chartjs.listeners.forEach(c=>{"function"==typeof c[r]&&c[r](...s)}),o}})}))}(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=r._stacked;r._stacked=pz(r.vScale,r),r.stack!==i.stack&&(s=!0,n2(r),r.stack=i.stack),this._resyncElements(t),(s||o!==r._stacked)&&mz(this,r._parsed)}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:c}=i,u=o.axis;let _,I,w,h=0===t&&r===s.length||i._sorted,g=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=s,i._sorted=!0,w=s;else{w=ps(s[t])?this.parseArrayData(i,s,t,r):ai(s[t])?this.parseObjectData(i,s,t,r):this.parsePrimitiveData(i,s,t,r);const x=()=>null===I[u]||g&&I[u]<g[u];for(_=0;_<r;++_)i._parsed[_+t]=I=w[_],h&&(x()&&(h=!1),g=I);i._sorted=h}c&&mz(this,w)}parsePrimitiveData(t,r,i,s){const{iScale:o,vScale:c}=t,u=o.axis,h=c.axis,g=o.getLabels(),_=o===c,I=new Array(s);let w,x,R;for(w=0,x=s;w<x;++w)R=w+i,I[w]={[u]:_||o.parse(g[R],R),[h]:c.parse(r[R],R)};return I}parseArrayData(t,r,i,s){const{xScale:o,yScale:c}=t,u=new Array(s);let h,g,_,I;for(h=0,g=s;h<g;++h)_=h+i,I=r[_],u[h]={x:o.parse(I[0],_),y:c.parse(I[1],_)};return u}parseObjectData(t,r,i,s){const{xScale:o,yScale:c}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,g=new Array(s);let _,I,w,x;for(_=0,I=s;_<I;++_)w=_+i,x=r[w],g[_]={x:o.parse(wg(x,u),w),y:c.parse(wg(x,h),w)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,i){const o=this._cachedMeta,c=r[t.axis];return fz({keys:hz(this.chart,!0),values:r._stacks[t.axis]},c,o.index,{mode:i})}updateRangeFromParsed(t,r,i,s){const o=i[r.axis];let c=null===o?NaN:o;const u=s&&i._stacks[r.axis];s&&u&&(s.values=u,c=fz(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,r){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&t===i.iScale,c=s.length,u=this._getOtherScale(t),h=((n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:hz(this.chart,!0),values:null})(r,i),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:I}=function One(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}(u);let w,x;function R(){x=s[w];const O=x[u.axis];return!ho(x[t.axis])||_>O||I<O}for(w=0;w<c&&(R()||(this.updateRangeFromParsed(g,t,x,h),!o));++w);if(o)for(w=c-1;w>=0;--w)if(!R()){this.updateRangeFromParsed(g,t,x,h);break}return g}getAllParsedValues(t){const r=this._cachedMeta._parsed,i=[];let s,o,c;for(s=0,o=r.length;s<o;++s)c=r[s][t.axis],ho(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,i=r.iScale,s=r.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=function Pne(n){let e,t,r,i;return ai(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:!1===n}}(Zr(this.options.clip,function Nne(n,e,t){if(!1===t)return!1;const r=dz(n,t),i=dz(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this._cachedMeta,s=i.data||[],o=this.chart.chartArea,c=[],u=this._drawStart||0,h=this._drawCount||s.length-u,g=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,o,u,h),_=u;_<u+h;++_){const I=s[_];I.hidden||(I.active&&g?c.push(I):I.draw(t,o))}for(_=0;_<c.length;++_)c[_].draw(t,o)}getStyle(t,r){const i=r?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,r,i){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=function Bne(n,e,t){return Sg(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=function Fne(n,e){return Sg(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!r,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",i){const s="active"===r,o=this._cachedDataOpts,c=t+"-"+r,u=o[c],h=this.enableOptionSharing&&zl(i);if(u)return _z(u,h);const g=this.chart.config,_=g.datasetElementScopeKeys(this._type,t),I=s?[`${t}Hover`,"hover",t,""]:[t,""],w=g.getOptionScopes(this.getDataset(),_),x=Object.keys(ci.elements[t]),O=g.resolveNamedOptions(w,x,()=>this.getContext(i,s),I);return O.$shared&&(O.$shared=h,o[c]=Object.freeze(_z(O,h))),O}_resolveAnimations(t,r,i){const s=this.chart,o=this._cachedDataOpts,c=`animation-${r}`,u=o[c];if(u)return u;let h;if(!1!==s.options.animation){const _=this.chart.config,I=_.datasetAnimationScopeKeys(this._type,r),w=_.getOptionScopes(this.getDataset(),I);h=_.createResolver(w,this.getContext(t,i,r))}const g=new uz(s,h&&h.animations);return h&&h._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||WL(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const i=this.resolveDataElementOptions(t,r),s=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(r,o)||o!==s;return this.updateSharedOptions(o,r,i),{sharedOptions:o,includeOptions:c}}updateElement(t,r,i,s){WL(s)?Object.assign(t,i):this._resolveAnimations(r,s).update(t,i)}updateSharedOptions(t,r,i){t&&!WL(r)&&this._resolveAnimations(void 0,r).update(t,i)}_setStyle(t,r,i,s){t.active=s;const o=this.getStyle(r,s);this._resolveAnimations(r,i,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,r,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,r,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,i=this._cachedMeta.data;for(const[u,h,g]of this._syncList)this[u](h,g);this._syncList=[];const s=i.length,o=r.length,c=Math.min(o,s);c&&this.parse(0,c),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,r,i=!0){const s=this._cachedMeta,o=s.data,c=t+r;let u;const h=g=>{for(g.length+=r,u=g.length-1;u>=c;u--)g[u]=g[u-r]};for(h(o),u=t;u<c;++u)o[u]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,r),i&&this.updateElements(o,t,r,"reset")}updateElements(t,r,i,s){}_removeElements(t,r){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,r);i._stacked&&n2(i,s)}i.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,i,s]=t;this[r](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();function Vne(n){const e=n.iScale,t=function jne(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=IV(r.sort((i,s)=>i-s))}return n._cache.$bar}(e,n.type);let i,s,o,c,r=e._length;const u=()=>{32767===o||-32768===o||(zl(c)&&(r=Math.min(r,Math.abs(o-c)||r)),c=o)};for(i=0,s=t.length;i<s;++i)o=e.getPixelForValue(t[i]),u();for(c=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),u();return r}function yz(n,e,t,r){return ps(n)?function $ne(n,e,t,r){const i=t.parse(n[0],r),s=t.parse(n[1],r),o=Math.min(i,s),c=Math.max(i,s);let u=o,h=c;Math.abs(o)>Math.abs(c)&&(u=c,h=o),e[t.axis]=h,e._custom={barStart:u,barEnd:h,start:i,end:s,min:o,max:c}}(n,e,t,r):e[t.axis]=t.parse(n,r),e}function vz(n,e,t,r){const i=n.iScale,s=n.vScale,o=i.getLabels(),c=i===s,u=[];let h,g,_,I;for(h=t,g=t+r;h<g;++h)I=e[h],_={},_[i.axis]=c||i.parse(o[h],h),u.push(yz(I,_,s,h));return u}function qL(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function Gne(n,e,t,r){let i=e.borderSkipped;const s={};if(!i)return void(n.borderSkipped=s);if(!0===i)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:c,reverse:u,top:h,bottom:g}=function qne(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}(n);"middle"===i&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=h:(t._bottom||0)===r?i=g:(s[bz(g,o,c,u)]=!0,i=h)),s[bz(i,o,c,u)]=!0,n.borderSkipped=s}function bz(n,e,t,r){return r?(n=function Kne(n,e,t){return n===e?t:n===t?e:n}(n,e,t),n=wz(n,t,e)):n=wz(n,e,t),n}function wz(n,e,t){return"start"===n?e:"end"===n?t:n}function Zne(n,{inflateAmount:e},t){n.inflateAmount="auto"===e?1===t?.33:0:e}Nd.prototype.datasetElementType=null,Nd.prototype.dataElementType=null;let Yne=(()=>{class n extends Nd{parsePrimitiveData(t,r,i,s){return vz(t,r,i,s)}parseArrayData(t,r,i,s){return vz(t,r,i,s)}parseObjectData(t,r,i,s){const{iScale:o,vScale:c}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,g="x"===o.axis?u:h,_="x"===c.axis?u:h,I=[];let w,x,R,O;for(w=i,x=i+s;w<x;++w)O=r[w],R={},R[o.axis]=o.parse(wg(O,g),w),I.push(yz(wg(O,_),R,c,w));return I}updateRangeFromParsed(t,r,i,s){super.updateRangeFromParsed(t,r,i,s);const o=i._custom;o&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:i,vScale:s}=r,o=this.getParsed(t),c=o._custom,u=qL(c)?"["+c.start+", "+c.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,i,s){const o="reset"===s,{index:c,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),g=u.isHorizontal(),_=this._getRuler(),{sharedOptions:I,includeOptions:w}=this._getSharedOptions(r,s);for(let x=r;x<r+i;x++){const R=this.getParsed(x),O=o||Ti(R[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(x),L=this._calculateBarIndexPixels(x,_),U=(R._stacks||{})[u.axis],Y={horizontal:g,base:O.base,enableBorderRadius:!U||qL(R._custom)||c===U._top||c===U._bottom,x:g?O.head:L.center,y:g?L.center:O.head,height:g?L.size:Math.abs(O.size),width:g?Math.abs(O.size):L.size};w&&(Y.options=I||this.resolveDataElementOptions(x,t[x].active?"active":s));const te=Y.options||t[x].options;Gne(Y,te,U,c),Zne(Y,te,_.ratio),this.updateElement(t[x],x,Y,s)}}_getStacks(t,r){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),o=i.options.stacked,c=[],u=h=>{const g=h.controller.getParsed(r),_=g&&g[h.vScale.axis];if(Ti(_)||isNaN(_))return!0};for(const h of s)if((void 0===r||!u(h))&&((!1===o||-1===c.indexOf(h.stack)||void 0===o&&void 0===h.stack)&&c.push(h.stack),h.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,r,i){const s=this._getStacks(t,i),o=void 0!==r?s.indexOf(r):-1;return-1===o?s.length-1:o}_getRuler(){const t=this.options,r=this._cachedMeta,i=r.iScale,s=[];let o,c;for(o=0,c=r.data.length;o<c;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||Vne(r),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:i},options:{base:s,minBarLength:o}}=this,c=s||0,u=this.getParsed(t),h=u._custom,g=qL(h);let x,R,_=u[r.axis],I=0,w=i?this.applyStack(r,u,i):_;w!==_&&(I=w-_,w=_),g&&(_=h.barStart,w=h.barEnd-h.barStart,0!==_&&Md(_)!==Md(h.barEnd)&&(I=0),I+=_);const O=Ti(s)||g?I:s;let L=r.getPixelForValue(O);if(x=this.chart.getDataVisibility(t)?r.getPixelForValue(I+w):L,R=x-L,Math.abs(R)<o){R=function Wne(n,e,t){return 0!==n?Md(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}(R,r,c)*o,_===c&&(L-=R/2);const U=r.getPixelForDecimal(0),Y=r.getPixelForDecimal(1),te=Math.min(U,Y),ce=Math.max(U,Y);L=Math.max(Math.min(L,ce),te),x=L+R}if(L===r.getPixelForValue(c)){const U=Md(R)*r.getLineWidthForValue(c)/2;L+=U,R-=U}return{size:R,base:L,head:x,center:x+R/2}}_calculateBarIndexPixels(t,r){const i=r.scale,s=this.options,o=s.skipNull,c=Zr(s.maxBarThickness,1/0);let u,h;if(r.grouped){const g=o?this._getStackCount(t):r.stackCount,_="flex"===s.barThickness?function Hne(n,e,t,r){const i=e.pixels,s=i[n];let o=n>0?i[n-1]:null,c=n<i.length-1?i[n+1]:null;const u=t.categoryPercentage;null===o&&(o=s-(null===c?e.end-e.start:c-s)),null===c&&(c=s+s-o);const h=s-(s-Math.min(o,c))/2*u;return{chunk:Math.abs(c-o)/2*u/r,ratio:t.barPercentage,start:h}}(t,r,s,g):function zne(n,e,t,r){const i=t.barThickness;let s,o;return Ti(i)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[n]-s/2}}(t,r,s,g),I=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);u=_.start+_.chunk*I+_.chunk/2,h=Math.min(c,_.chunk*_.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(c,r.min*r.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const t=this._cachedMeta,r=t.vScale,i=t.data,s=i.length;let o=0;for(;o<s;++o)null!==this.getParsed(o)[r.axis]&&i[o].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),Xne=(()=>{class n extends Nd{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,i,s){const o=super.parsePrimitiveData(t,r,i,s);for(let c=0;c<o.length;c++)o[c]._custom=this.resolveDataElementOptions(c+i).radius;return o}parseArrayData(t,r,i,s){const o=super.parseArrayData(t,r,i,s);for(let c=0;c<o.length;c++)o[c]._custom=Zr(r[i+c][2],this.resolveDataElementOptions(c+i).radius);return o}parseObjectData(t,r,i,s){const o=super.parseObjectData(t,r,i,s);for(let c=0;c<o.length;c++){const u=r[i+c];o[c]._custom=Zr(u&&u.r&&+u.r,this.resolveDataElementOptions(c+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let r=0;for(let i=t.length-1;i>=0;--i)r=Math.max(r,t[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(t){const r=this._cachedMeta,{xScale:i,yScale:s}=r,o=this.getParsed(t),c=i.getLabelForValue(o.x),u=s.getLabelForValue(o.y),h=o._custom;return{label:r.label,value:"("+c+", "+u+(h?", "+h:"")+")"}}update(t){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,i,s){const o="reset"===s,{iScale:c,vScale:u}=this._cachedMeta,{sharedOptions:h,includeOptions:g}=this._getSharedOptions(r,s),_=c.axis,I=u.axis;for(let w=r;w<r+i;w++){const x=t[w],R=!o&&this.getParsed(w),O={},L=O[_]=o?c.getPixelForDecimal(.5):c.getPixelForValue(R[_]),U=O[I]=o?u.getBasePixel():u.getPixelForValue(R[I]);O.skip=isNaN(L)||isNaN(U),g&&(O.options=h||this.resolveDataElementOptions(w,x.active?"active":s),o&&(O.options.radius=0)),this.updateElement(x,w,O,s)}}resolveDataElementOptions(t,r){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,r);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return"active"!==r&&(s.radius=0),s.radius+=Zr(i&&i._custom,o),s}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},n})(),Ez=(()=>{class n extends Nd{constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const i=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=i;else{let c,u,o=h=>+i[h];if(ai(i[t])){const{key:h="value"}=this._parsing;o=g=>+wg(i[g],h)}for(c=t,u=t+r;c<u;++c)s._parsed[c]=o(c)}}_getRotation(){return Su(this.options.rotation-90)}_getCircumference(){return Su(this.options.circumference)}_getRotationExtents(){let t=ns,r=-ns;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),c=s._getCircumference();t=Math.min(t,o),r=Math.max(r,o+c)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:i}=r,s=this._cachedMeta,o=s.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-c)/2,0),h=Math.min(((n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:n/e)(this.options.cutout,u),1),g=this._getRingWeight(this.index),{circumference:_,rotation:I}=this._getRotationExtents(),{ratioX:w,ratioY:x,offsetX:R,offsetY:O}=function Qne(n,e,t){let r=1,i=1,s=0,o=0;if(e<ns){const c=n,u=c+e,h=Math.cos(c),g=Math.sin(c),_=Math.cos(u),I=Math.sin(u),w=(Y,te,ce)=>GI(Y,c,u,!0)?1:Math.max(te,te*t,ce,ce*t),x=(Y,te,ce)=>GI(Y,c,u,!0)?-1:Math.min(te,te*t,ce,ce*t),R=w(0,h,_),O=w(Qs,g,I),L=x(Os,h,_),U=x(Os+Qs,g,I);r=(R-L)/2,i=(O-U)/2,s=-(R+L)/2,o=-(O+U)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}(I,_,h),Y=Math.max(Math.min((i.width-c)/w,(i.height-c)/x)/2,0),te=hV(this.options.radius,Y),ye=(te-Math.max(te*h,0))/this._getVisibleDatasetWeightTotal();this.offsetX=R*te,this.offsetY=O*te,s.total=this.calculateTotal(),this.outerRadius=te-ye*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ye*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,r){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/ns)}updateElements(t,r,i,s){const o="reset"===s,c=this.chart,u=c.chartArea,_=(u.left+u.right)/2,I=(u.top+u.bottom)/2,w=o&&c.options.animation.animateScale,x=w?0:this.innerRadius,R=w?0:this.outerRadius,{sharedOptions:O,includeOptions:L}=this._getSharedOptions(r,s);let Y,U=this._getRotation();for(Y=0;Y<r;++Y)U+=this._circumference(Y,o);for(Y=r;Y<r+i;++Y){const te=this._circumference(Y,o),ce=t[Y],ye={x:_+this.offsetX,y:I+this.offsetY,startAngle:U,endAngle:U+te,circumference:te,outerRadius:R,innerRadius:x};L&&(ye.options=O||this.resolveDataElementOptions(Y,ce.active?"active":s)),U+=te,this.updateElement(ce,Y,ye,s)}}calculateTotal(){const t=this._cachedMeta,r=t.data;let s,i=0;for(s=0;s<r.length;s++){const o=t._parsed[s];null!==o&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?ns*(Math.abs(t)/r):0}getLabelAndValue(t){const i=this.chart,s=i.data.labels||[],o=t2(this._cachedMeta._parsed[t],i.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let r=0;const i=this.chart;let s,o,c,u,h;if(!t)for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){c=i.getDatasetMeta(s),t=c.data,u=c.controller;break}if(!t)return 0;for(s=0,o=t.length;s<o;++s)h=u.resolveDataElementOptions(s),"inner"!==h.borderAlign&&(r=Math.max(r,h.borderWidth||0,h.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let i=0,s=t.length;i<s;++i){const o=this.resolveDataElementOptions(i);r=Math.max(r,o.offset||0,o.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(t){return Math.max(Zr(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r}}=e.legend.options;return t.labels.map((i,s)=>{const c=e.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}},tooltip:{callbacks:{title:()=>"",label(e){let t=e.label;const r=": "+e.formattedValue;return ps(t)?(t=t.slice(),t[0]+=r):t+=r,t}}}}},n})(),Jne=(()=>{class n extends Nd{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=r,c=this.chart._animationsDisabled;let{start:u,count:h}=xV(r,s,c);this._drawStart=u,this._drawCount=h,AV(r)&&(u=0,h=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:g},t),this.updateElements(s,u,h,t)}updateElements(t,r,i,s){const o="reset"===s,{iScale:c,vScale:u,_stacked:h,_dataset:g}=this._cachedMeta,{sharedOptions:_,includeOptions:I}=this._getSharedOptions(r,s),w=c.axis,x=u.axis,{spanGaps:R,segment:O}=this.options,L=_b(R)?R:Number.POSITIVE_INFINITY,U=this.chart._animationsDisabled||o||"none"===s;let Y=r>0&&this.getParsed(r-1);for(let te=r;te<r+i;++te){const ce=t[te],ye=this.getParsed(te),pe=U?ce:{},le=Ti(ye[x]),Be=pe[w]=c.getPixelForValue(ye[w],te),nt=pe[x]=o||le?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,ye,h):ye[x],te);pe.skip=isNaN(Be)||isNaN(nt)||le,pe.stop=te>0&&Math.abs(ye[w]-Y[w])>L,O&&(pe.parsed=ye,pe.raw=g.data[te]),I&&(pe.options=_||this.resolveDataElementOptions(te,ce.active?"active":s)),U||this.updateElement(ce,te,pe,s),Y=ye}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,i=r.options&&r.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),c=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})(),ere=(()=>{class n extends Nd{constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const i=this.chart,s=i.data.labels||[],o=t2(this._cachedMeta._parsed[t].r,i.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,r,i,s){return ZV.bind(this)(t,r,i,s)}update(t){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){const r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((i,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<r.min&&(r.min=o),o>r.max&&(r.max=o))}),r}_updateRadius(){const t=this.chart,r=t.chartArea,i=t.options,s=Math.min(r.right-r.left,r.bottom-r.top),o=Math.max(s/2,0),u=(o-Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,r,i,s){const o="reset"===s,c=this.chart,h=c.options.animation,g=this._cachedMeta.rScale,_=g.xCenter,I=g.yCenter,w=g.getIndexAngle(0)-.5*Os;let R,x=w;const O=360/this.countVisibleElements();for(R=0;R<r;++R)x+=this._computeAngle(R,s,O);for(R=r;R<r+i;R++){const L=t[R];let U=x,Y=x+this._computeAngle(R,s,O),te=c.getDataVisibility(R)?g.getDistanceFromCenterForValue(this.getParsed(R).r):0;x=Y,o&&(h.animateScale&&(te=0),h.animateRotate&&(U=Y=w));const ce={x:_,y:I,innerRadius:0,outerRadius:te,startAngle:U,endAngle:Y,options:this.resolveDataElementOptions(R,L.active?"active":s)};this.updateElement(L,R,ce,s)}}countVisibleElements(){let r=0;return this._cachedMeta.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&r++}),r}_computeAngle(t,r,i){return this.chart.getDataVisibility(t)?Su(this.resolveDataElementOptions(t,r).angle||i):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r}}=e.legend.options;return t.labels.map((i,s)=>{const c=e.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}},tooltip:{callbacks:{title:()=>"",label:e=>e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),tre=(()=>{class n extends Ez{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),nre=(()=>{class n extends Nd{getLabelAndValue(t){const r=this._cachedMeta.vScale,i=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(t,r,i,s){return ZV.bind(this)(t,r,i,s)}update(t){const r=this._cachedMeta,i=r.dataset,s=r.data||[],o=r.iScale.getLabels();if(i.points=s,"resize"!==t){const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),this.updateElement(i,void 0,{_loop:!0,_fullLoop:o.length===s.length,options:c},t)}this.updateElements(s,0,s.length,t)}updateElements(t,r,i,s){const o=this._cachedMeta.rScale,c="reset"===s;for(let u=r;u<r+i;u++){const h=t[u],g=this.resolveDataElementOptions(u,h.active?"active":s),_=o.getPointPositionForValue(u,this.getParsed(u).r),I=c?o.xCenter:_.x,w=c?o.yCenter:_.y,x={x:I,y:w,angle:_.angle,skip:isNaN(I)||isNaN(w),options:g};this.updateElement(h,u,x,s)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})();class xu{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return _b(this.x)&&_b(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}xu.defaults={},xu.defaultRoutes=void 0;const Iz={values:n=>ps(n)?n:""+n,numeric(n,e,t){if(0===n)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(i="scientific"),s=function rre(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}(n,t)}const o=Hl(Math.abs(s)),c=Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:i,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),t2(n,r,u)},logarithmic(n,e,t){if(0===n)return"0";const r=n/Math.pow(10,Math.floor(Hl(n)));return 1===r||2===r||5===r?Iz.numeric.call(this,n,e,t):""}};var iM={formatters:Iz};function sM(n,e,t,r,i){const s=Zr(r,0),o=Math.min(Zr(i,n.length),n.length);let u,h,g,c=0;for(t=Math.ceil(t),i&&(u=i-r,t=u/Math.floor(u/t)),g=s;g<0;)c++,g=Math.round(s+c*t);for(h=Math.max(s,0);h<o;h++)h===g&&(e.push(n[h]),c++,g=Math.round(s+c*t))}ci.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:iM.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),ci.route("scale.ticks","color","","color"),ci.route("scale.grid","color","","borderColor"),ci.route("scale.grid","borderColor","","borderColor"),ci.route("scale.title","color","","color"),ci.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n}),ci.describe("scales",{_fallback:"scale"}),ci.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n});const Cz=(n,e,t)=>"top"===e||"left"===e?n[e]+t:n[e]-t;function Sz(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function dre(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,o=n._endPixel,c=1e-6;let h,u=n.getPixelForTick(i);if(!(t&&(h=1===r?Math.max(u-s,o-u):0===e?(n.getPixelForTick(1)-u)/2:(u-n.getPixelForTick(i-1))/2,u+=i<e?h:-h,u<s-c||u>o+c)))return u}function r2(n){return n.drawTicks?n.tickLength:0}function xz(n,e){if(!n.display)return 0;const t=Uo(n.font,e),r=ka(n.padding);return(ps(n.text)?n.text.length:1)*t.lineHeight+r.height}function gre(n,e,t){let r=TL(n);return(t&&"right"!==e||!t&&"right"===e)&&(r=(n=>"left"===n?"right":"right"===n?"left":n)(r)),r}class iy extends xu{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Vl(e,Number.POSITIVE_INFINITY),t=Vl(t,Number.NEGATIVE_INFINITY),r=Vl(r,Number.POSITIVE_INFINITY),i=Vl(i,Number.NEGATIVE_INFINITY),{min:Vl(e,r),max:Vl(t,i),minDefined:ho(e),maxDefined:ho(t)}}getMinMax(e){let o,{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:t,max:r};const c=this.getMatchingVisibleMetas();for(let u=0,h=c.length;u<h;++u)o=c[u].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),s||(r=Math.max(r,o.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:Vl(t,Vl(r,t)),max:Vl(r,Vl(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){gs(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function zte(n,e,t){const{min:r,max:i}=n,s=hV(e,(i-r)/2),o=(c,u)=>t&&0===c?0:c+u;return{min:o(r,-Math.abs(s)),max:o(i,s)}}(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?Sz(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function ire(n,e){const t=n.options.ticks,r=t.maxTicksLimit||function sre(n){const e=n.options.offset,t=n._tickSize();return Math.floor(Math.min(n._length/t+(e?0:1),n._maxLength/t))}(n),i=t.major.enabled?function are(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}(e):[],s=i.length,o=i[0],c=i[s-1],u=[];if(s>r)return function cre(n,e,t,r){let o,i=0,s=t[0];for(r=Math.ceil(r),o=0;o<n.length;o++)o===s&&(e.push(n[o]),i++,s=t[i*r])}(e,u,i,s/r),u;const h=function ore(n,e,t){const r=function lre(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}(n),i=e.length/t;if(!r)return Math.max(i,1);const s=function ete(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r==0&&(e.push(r),e.push(n/r));return t===(0|t)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}(r);for(let o=0,c=s.length-1;o<c;o++){const u=s[o];if(u>i)return u}return Math.max(i,1)}(i,e,r);if(s>0){let g,_;const I=s>1?Math.round((c-o)/(s-1)):null;for(sM(e,u,h,Ti(I)?0:o-I,o),g=0,_=s-1;g<_;g++)sM(e,u,h,i[g],i[g+1]);return sM(e,u,h,c,Ti(I)?e.length:c+I),u}return sM(e,u,h),u}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,r,e=this.options.reverse;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){gs(this.options.afterUpdate,[this])}beforeSetDimensions(){gs(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){gs(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),gs(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){gs(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=gs(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){gs(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){gs(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=this.ticks.length,i=t.minRotation||0,s=t.maxRotation;let c,u,h,o=i;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal())return void(this.labelRotation=i);const g=this._getLabelSizes(),_=g.widest.width,I=g.highest.height,w=Yo(this.chart.width-_,0,this.maxWidth);c=e.offset?this.maxWidth/r:w/(r-1),_+6>c&&(c=w/(r-(e.offset?.5:1)),u=this.maxHeight-r2(e.grid)-t.padding-xz(e.title,this.chart.options.font),h=Math.sqrt(_*_+I*I),o=SL(Math.min(Math.asin(Yo((g.highest.height+6)/c,-1,1)),Math.asin(Yo(u/h,-1,1))-Math.asin(Yo(I/h,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){gs(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){gs(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const u=xz(i,t.options.font);if(c?(e.width=this.maxWidth,e.height=r2(s)+u):(e.height=this.maxHeight,e.width=r2(s)+u),r.display&&this.ticks.length){const{first:h,last:g,widest:_,highest:I}=this._getLabelSizes(),w=2*r.padding,x=Su(this.labelRotation),R=Math.cos(x),O=Math.sin(x);c?e.height=Math.min(this.maxHeight,e.height+(r.mirror?0:O*_.width+R*I.height)+w):e.width=Math.min(this.maxWidth,e.width+(r.mirror?0:R*_.width+O*I.height)+w),this._calculatePadding(h,g,O,R)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:o},position:c}=this.options,u=0!==this.labelRotation,h="top"!==c&&"x"===this.axis;if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let I=0,w=0;u?h?(I=i*e.width,w=r*t.height):(I=r*e.height,w=i*t.width):"start"===s?w=t.width:"end"===s?I=e.width:"inner"!==s&&(I=e.width/2,w=t.width/2),this.paddingLeft=Math.max((I-g+o)*this.width/(this.width-g),0),this.paddingRight=Math.max((w-_+o)*this.width/(this.width-_),0)}else{let g=t.height/2,_=e.height/2;"start"===s?(g=0,_=e.height):"end"===s&&(g=t.height,_=0),this.paddingTop=g+o,this.paddingBottom=_+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){gs(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,r=e.length;t<r;t++)Ti(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Sz(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length)}return e}_computeLabelSizes(e,t){const{ctx:r,_longestTextCache:i}=this,s=[],o=[];let h,g,_,I,w,x,R,O,L,U,Y,c=0,u=0;for(h=0;h<t;++h){if(I=e[h].label,w=this._resolveTickFontOptions(h),r.font=x=w.string,R=i[x]=i[x]||{data:{},gc:[]},O=w.lineHeight,L=U=0,Ti(I)||ps(I)){if(ps(I))for(g=0,_=I.length;g<_;++g)Y=I[g],!Ti(Y)&&!ps(Y)&&(L=QD(r,R.data,R.gc,L,Y),U+=O)}else L=QD(r,R.data,R.gc,L,I),U=O;s.push(L),o.push(U),c=Math.max(L,c),u=Math.max(U,u)}!function hre(n,e){Gi(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}(i,t);const te=s.indexOf(c),ce=o.indexOf(u),ye=pe=>({width:s[pe]||0,height:o[pe]||0});return{first:ye(0),last:ye(t-1),widest:ye(te),highest:ye(ce),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function rte(n){return Yo(n,-32768,32767)}(this._alignToPixels?Q_(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=function pre(n,e,t){return Sg(n,{tick:t,index:e,type:"tick"})}(this.getContext(),e,r))}return this.$context||(this.$context=function fre(n,e){return Sg(n,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Su(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,c=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*r>c*i?c/r:u/i:u*i<c*r?u/r:c/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:o}=i,c=s.offset,u=this.isHorizontal(),g=this.ticks.length+(c?1:0),_=r2(s),I=[],w=s.setContext(this.getContext()),x=w.drawBorder?w.borderWidth:0,R=x/2,O=function(ze){return Q_(r,ze,x)};let L,U,Y,te,ce,ye,pe,le,Be,nt,se,ie;if("top"===o)L=O(this.bottom),ye=this.bottom-_,le=L-R,nt=O(e.top)+R,ie=e.bottom;else if("bottom"===o)L=O(this.top),nt=e.top,ie=O(e.bottom)-R,ye=L+R,le=this.top+_;else if("left"===o)L=O(this.right),ce=this.right-_,pe=L-R,Be=O(e.left)+R,se=e.right;else if("right"===o)L=O(this.left),Be=e.left,se=O(e.right)-R,ce=L+R,pe=this.left+_;else if("x"===t){if("center"===o)L=O((e.top+e.bottom)/2+.5);else if(ai(o)){const ze=Object.keys(o)[0];L=O(this.chart.scales[ze].getPixelForValue(o[ze]))}nt=e.top,ie=e.bottom,ye=L+R,le=ye+_}else if("y"===t){if("center"===o)L=O((e.left+e.right)/2);else if(ai(o)){const ze=Object.keys(o)[0];L=O(this.chart.scales[ze].getPixelForValue(o[ze]))}ce=L-R,pe=ce-_,Be=e.left,se=e.right}const Se=Zr(i.ticks.maxTicksLimit,g),Ee=Math.max(1,Math.ceil(g/Se));for(U=0;U<g;U+=Ee){const ze=s.setContext(this.getContext(U)),Ze=ze.lineWidth,ht=ze.color,Xe=ze.borderDash||[],Mt=ze.borderDashOffset,Et=ze.tickWidth,bn=ze.tickColor,q=ze.tickBorderDash||[],fe=ze.tickBorderDashOffset;Y=dre(this,U,c),void 0!==Y&&(te=Q_(r,Y,Ze),u?ce=pe=Be=se=te:ye=le=nt=ie=te,I.push({tx1:ce,ty1:ye,tx2:pe,ty2:le,x1:Be,y1:nt,x2:se,y2:ie,width:Ze,color:ht,borderDash:Xe,borderDashOffset:Mt,tickWidth:Et,tickColor:bn,tickBorderDash:q,tickBorderDashOffset:fe}))}return this._ticksLength=g,this._borderValue=L,I}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:h,padding:g,mirror:_}=s,I=r2(r.grid),w=I+g,x=_?-g:w,R=-Su(this.labelRotation),O=[];let L,U,Y,te,ce,ye,pe,le,Be,nt,se,ie,Se="middle";if("top"===i)ye=this.bottom-x,pe=this._getXAxisLabelAlignment();else if("bottom"===i)ye=this.top+x,pe=this._getXAxisLabelAlignment();else if("left"===i){const ze=this._getYAxisLabelAlignment(I);pe=ze.textAlign,ce=ze.x}else if("right"===i){const ze=this._getYAxisLabelAlignment(I);pe=ze.textAlign,ce=ze.x}else if("x"===t){if("center"===i)ye=(e.top+e.bottom)/2+w;else if(ai(i)){const ze=Object.keys(i)[0];ye=this.chart.scales[ze].getPixelForValue(i[ze])+w}pe=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)ce=(e.left+e.right)/2-w;else if(ai(i)){const ze=Object.keys(i)[0];ce=this.chart.scales[ze].getPixelForValue(i[ze])}pe=this._getYAxisLabelAlignment(I).textAlign}"y"===t&&("start"===u?Se="top":"end"===u&&(Se="bottom"));const Ee=this._getLabelSizes();for(L=0,U=c.length;L<U;++L){Y=c[L],te=Y.label;const ze=s.setContext(this.getContext(L));le=this.getPixelForTick(L)+s.labelOffset,Be=this._resolveTickFontOptions(L),nt=Be.lineHeight,se=ps(te)?te.length:1;const Ze=se/2,ht=ze.color,Xe=ze.textStrokeColor,Mt=ze.textStrokeWidth;let bn,Et=pe;if(o?(ce=le,"inner"===pe&&(Et=L===U-1?this.options.reverse?"left":"right":0===L?this.options.reverse?"right":"left":"center"),ie="top"===i?"near"===h||0!==R?-se*nt+nt/2:"center"===h?-Ee.highest.height/2-Ze*nt+nt:nt/2-Ee.highest.height:"near"===h||0!==R?nt/2:"center"===h?Ee.highest.height/2-Ze*nt:Ee.highest.height-se*nt,_&&(ie*=-1)):(ye=le,ie=(1-se)*nt/2),ze.showLabelBackdrop){const q=ka(ze.backdropPadding),fe=Ee.heights[L],_e=Ee.widths[L];let Ne=ye+ie-q.top,je=ce-q.left;switch(Se){case"middle":Ne-=fe/2;break;case"bottom":Ne-=fe}switch(pe){case"center":je-=_e/2;break;case"right":je-=_e}bn={left:je,top:Ne,width:_e+q.width,height:fe+q.height,color:ze.backdropColor}}O.push({rotation:R,label:te,font:Be,color:ht,strokeColor:Xe,strokeWidth:Mt,textOffset:ie,textAlign:Et,textBaseline:Se,translation:[ce,ye],backdrop:bn})}return O}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Su(this.labelRotation))return"top"===e?"left":"right";let i="center";return"start"===t.align?i="left":"end"===t.align?i="right":"inner"===t.align&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,c=e+s,u=this._getLabelSizes().widest.width;let h,g;return"left"===t?i?(g=this.right+s,"near"===r?h="left":"center"===r?(h="center",g+=u/2):(h="right",g+=u)):(g=this.right-c,"near"===r?h="right":"center"===r?(h="center",g-=u/2):(h="left",g=this.left)):"right"===t?i?(g=this.left+s,"near"===r?h="right":"center"===r?(h="center",g-=u/2):(h="left",g-=u)):(g=this.left+c,"near"===r?h="left":"center"===r?(h="center",g+=u/2):(h="right",g=this.right)):h="right",{textAlign:h,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const c=(u,h,g)=>{!g.width||!g.color||(r.save(),r.lineWidth=g.width,r.strokeStyle=g.color,r.setLineDash(g.borderDash||[]),r.lineDashOffset=g.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(h.x,h.y),r.stroke(),r.restore())};if(t.display)for(s=0,o=i.length;s<o;++s){const u=i[s];t.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),t.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:r}}=this,i=r.setContext(this.getContext()),s=r.drawBorder?i.borderWidth:0;if(!s)return;const o=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,h,g,_;this.isHorizontal()?(u=Q_(e,this.left,s)-s/2,h=Q_(e,this.right,o)+o/2,g=_=c):(g=Q_(e,this.top,s)-s/2,_=Q_(e,this.bottom,o)+o/2,u=h=c),t.save(),t.lineWidth=i.borderWidth,t.strokeStyle=i.borderColor,t.beginPath(),t.moveTo(u,g),t.lineTo(h,_),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&JD(r,i);const s=this._labelItems||(this._labelItems=this._computeLabelItems(e));let o,c;for(o=0,c=s.length;o<c;++o){const u=s[o],h=u.font,g=u.label;u.backdrop&&(r.fillStyle=u.backdrop.color,r.fillRect(u.backdrop.left,u.backdrop.top,u.backdrop.width,u.backdrop.height)),J_(r,g,0,u.textOffset,h,u)}i&&eM(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=Uo(r.font),o=ka(r.padding),c=r.align;let u=s.lineHeight/2;"bottom"===t||"center"===t||ai(t)?(u+=o.bottom,ps(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=o.top;const{titleX:h,titleY:g,maxWidth:_,rotation:I}=function mre(n,e,t,r){const{top:i,left:s,bottom:o,right:c,chart:u}=n,{chartArea:h,scales:g}=u;let I,w,x,_=0;const R=o-i,O=c-s;if(n.isHorizontal()){if(w=Ra(r,s,c),ai(t)){const L=Object.keys(t)[0];x=g[L].getPixelForValue(t[L])+R-e}else x="center"===t?(h.bottom+h.top)/2+R-e:Cz(n,t,e);I=c-s}else{if(ai(t)){const L=Object.keys(t)[0];w=g[L].getPixelForValue(t[L])-O+e}else w="center"===t?(h.left+h.right)/2-O+e:Cz(n,t,e);x=Ra(r,o,i),_="left"===t?-Qs:Qs}return{titleX:w,titleY:x,maxWidth:I,rotation:_}}(this,u,t,c);J_(e,r.text,0,0,s,{color:r.color,maxWidth:_,rotation:I,textAlign:gre(c,t,i),textBaseline:"middle",translation:[h,g]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Zr(e.grid&&e.grid.z,-1);return this._isVisible()&&this.draw===iy.prototype.draw?[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r+1,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]:[{z:t,draw:i=>{this.draw(i)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=t.length;s<o;++s){const c=t[s];c[r]===this.id&&(!e||c.type===e)&&i.push(c)}return i}_resolveTickFontOptions(e){return Uo(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class oM{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;(function vre(n){return"id"in n&&"defaults"in n})(t)&&(r=this.register(t));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,function _re(n,e,t){const r=HI(Object.create(null),[t?ci.get(t):{},ci.get(e),n.defaults]);ci.set(e,r),n.defaultRoutes&&function yre(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),o=e[t].split("."),c=o.pop(),u=o.join(".");ci.route(s,i,u,c)})}(e,n.defaultRoutes),n.descriptors&&ci.describe(e,n.descriptors)}(e,o,r),this.override&&ci.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in ci[i]&&(delete ci[i][r],this.override&&delete X_[r])}}var Pd=new class bre{constructor(){this.controllers=new oM(Nd,"datasets",!0),this.elements=new oM(xu,"elements"),this.plugins=new oM(Object,"plugins"),this.scales=new oM(iy,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Gi(i,o=>{const c=r||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,t,r){const i=CL(e);gs(r["before"+i],[],r),t[e](r),gs(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+r+".");return i}},wre=Object.freeze({__proto__:null,BarController:Yne,BubbleController:Xne,DoughnutController:Ez,LineController:Jne,PolarAreaController:ere,PieController:tre,RadarController:nre,ScatterController:(()=>{class n extends Nd{update(t){const r=this._cachedMeta,{data:i=[]}=r,s=this.chart._animationsDisabled;let{start:o,count:c}=xV(r,i,s);if(this._drawStart=o,this._drawCount=c,AV(r)&&(o=0,c=i.length),this.options.showLine){const{dataset:u,_dataset:h}=r;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!h._decimated,u.points=i;const g=this.resolveDatasetElementOptions(t);g.segment=this.options.segment,this.updateElement(u,void 0,{animated:!s,options:g},t)}this.updateElements(i,o,c,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=Pd.getElement("line")),super.addElements()}updateElements(t,r,i,s){const o="reset"===s,{iScale:c,vScale:u,_stacked:h,_dataset:g}=this._cachedMeta,_=this.resolveDataElementOptions(r,s),I=this.getSharedOptions(_),w=this.includeOptions(s,I),x=c.axis,R=u.axis,{spanGaps:O,segment:L}=this.options,U=_b(O)?O:Number.POSITIVE_INFINITY,Y=this.chart._animationsDisabled||o||"none"===s;let te=r>0&&this.getParsed(r-1);for(let ce=r;ce<r+i;++ce){const ye=t[ce],pe=this.getParsed(ce),le=Y?ye:{},Be=Ti(pe[R]),nt=le[x]=c.getPixelForValue(pe[x],ce),se=le[R]=o||Be?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,pe,h):pe[R],ce);le.skip=isNaN(nt)||isNaN(se)||Be,le.stop=ce>0&&Math.abs(pe[x]-te[x])>U,L&&(le.parsed=pe,le.raw=g.data[ce]),w&&(le.options=I||this.resolveDataElementOptions(ce,ye.active?"active":s)),Y||this.updateElement(ye,ce,le,s),te=pe}this.updateSharedOptions(I,s,_)}getMaxOverflow(){const t=this._cachedMeta,r=t.data||[];if(!this.options.showLine){let u=0;for(let h=r.length-1;h>=0;--h)u=Math.max(u,r[h].size(this.resolveDataElementOptions(h))/2);return u>0&&u}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!r.length)return s;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,c)/2}}return n.id="scatter",n.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:e=>"("+e.label+", "+e.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})()});function sy(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Ere={_date:(()=>{class n{constructor(t){this.options=t||{}}init(t){}formats(){return sy()}parse(t,r){return sy()}format(t,r){return sy()}add(t,r,i){return sy()}diff(t,r,i){return sy()}startOf(t,r,i){return sy()}endOf(t,r){return sy()}}return n.override=function(e){Object.assign(n.prototype,e)},n})()};function Ire(n,e,t,r){const{controller:i,data:s,_sorted:o}=n,c=i._cachedMeta.iScale;if(c&&e===c.axis&&"r"!==e&&o&&s.length){const u=c._reversePixels?ite:pf;if(!r)return u(s,e,t);if(i._sharedOptions){const h=s[0],g="function"==typeof h.getRange&&h.getRange(e);if(g){const _=u(s,e,t-g),I=u(s,e,t+g);return{lo:_.lo,hi:I.hi}}}}return{lo:0,hi:s.length-1}}function i2(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let c=0,u=s.length;c<u;++c){const{index:h,data:g}=s[c],{lo:_,hi:I}=Ire(s[c],e,o,i);for(let w=_;w<=I;++w){const x=g[w];x.skip||r(x,h,w)}}}function GL(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||i2(n,t,e,function(c,u,h){!i&&!QI(c,n.chartArea,0)||c.inRange(e.x,e.y,r)&&s.push({element:c,datasetIndex:u,index:h})},!0),s}function KL(n,e,t,r,i,s){return s||n.isPointInArea(e)?"r"!==t||r?function xre(n,e,t,r,i,s){let o=[];const c=function Cre(n){const e=-1!==n.indexOf("x"),t=-1!==n.indexOf("y");return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}(t);let u=Number.POSITIVE_INFINITY;return i2(n,t,e,function h(g,_,I){const w=g.inRange(e.x,e.y,i);if(r&&!w)return;const x=g.getCenterPoint(i);if(!s&&!n.isPointInArea(x)&&!w)return;const O=c(e,x);O<u?(o=[{element:g,datasetIndex:_,index:I}],u=O):O===u&&o.push({element:g,datasetIndex:_,index:I})}),o}(n,e,t,r,i,s):function Sre(n,e,t,r){let i=[];return i2(n,t,e,function s(o,c,u){const{startAngle:h,endAngle:g}=o.getProps(["startAngle","endAngle"],r),{angle:_}=bV(o,{x:e.x,y:e.y});GI(_,h,g)&&i.push({element:o,datasetIndex:c,index:u})}),i}(n,e,t,i):[]}function Az(n,e,t,r,i){const s=[],o="x"===t?"inXRange":"inYRange";let c=!1;return i2(n,t,e,(u,h,g)=>{u[o](e[t],i)&&(s.push({element:u,datasetIndex:h,index:g}),c=c||u.inRange(e.x,e.y,i))}),r&&!c?[]:s}var Are={evaluateInteractionItems:i2,modes:{index(n,e,t,r){const i=ny(e,n),s=t.axis||"x",o=t.includeInvisible||!1,c=t.intersect?GL(n,i,s,r,o):KL(n,i,s,!1,r,o),u=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const g=c[0].index,_=h.data[g];_&&!_.skip&&u.push({element:_,datasetIndex:h.index,index:g})}),u):[]},dataset(n,e,t,r){const i=ny(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let c=t.intersect?GL(n,i,s,r,o):KL(n,i,s,!1,r,o);if(c.length>0){const u=c[0].datasetIndex,h=n.getDatasetMeta(u).data;c=[];for(let g=0;g<h.length;++g)c.push({element:h[g],datasetIndex:u,index:g})}return c},point:(n,e,t,r)=>GL(n,ny(e,n),t.axis||"xy",r,t.includeInvisible||!1),nearest:(n,e,t,r)=>KL(n,ny(e,n),t.axis||"xy",t.intersect,r,t.includeInvisible||!1),x:(n,e,t,r)=>Az(n,ny(e,n),"x",t.intersect,r),y:(n,e,t,r)=>Az(n,ny(e,n),"y",t.intersect,r)}};const Tz=["left","top","right","bottom"];function s2(n,e){return n.filter(t=>t.pos===e)}function Dz(n,e){return n.filter(t=>-1===Tz.indexOf(t.pos)&&t.box.axis===e)}function o2(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function Mz(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function Nz(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function Pre(n,e,t,r){const{pos:i,box:s}=t,o=n.maxPadding;if(!ai(i)){t.size&&(n[i]-=t.size);const _=r[t.stack]||{size:0,count:1};_.size=Math.max(_.size,t.horizontal?s.height:s.width),t.size=_.size/_.count,n[i]+=t.size}s.getPadding&&Nz(o,s.getPadding());const c=Math.max(0,e.outerWidth-Mz(o,n,"left","right")),u=Math.max(0,e.outerHeight-Mz(o,n,"top","bottom")),h=c!==n.w,g=u!==n.h;return n.w=c,n.h=u,t.horizontal?{same:h,other:g}:{same:g,other:h}}function kre(n,e){const t=e.maxPadding;return function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}(n?["left","right"]:["top","bottom"])}function a2(n,e,t,r){const i=[];let s,o,c,u,h,g;for(s=0,o=n.length,h=0;s<o;++s){c=n[s],u=c.box,u.update(c.width||e.w,c.height||e.h,kre(c.horizontal,e));const{same:_,other:I}=Pre(e,t,c,r);h|=_&&i.length,g=g||I,u.fullSize||i.push(c)}return h&&a2(i,e,t,r)||g}function aM(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function Pz(n,e,t,r){const i=t.padding;let{x:s,y:o}=e;for(const c of n){const u=c.box,h=r[c.stack]||{count:1,placed:0,weight:1},g=c.stackWeight/h.weight||1;if(c.horizontal){const _=e.w*g,I=h.size||u.height;zl(h.start)&&(o=h.start),u.fullSize?aM(u,i.left,o,t.outerWidth-i.right-i.left,I):aM(u,e.left+h.placed,o,_,I),h.start=o,h.placed+=_,o=u.bottom}else{const _=e.h*g,I=h.size||u.width;zl(h.start)&&(s=h.start),u.fullSize?aM(u,s,i.top,I,t.outerHeight-i.bottom-i.top):aM(u,s,e.top+h.placed,I,_),h.start=s,h.placed+=_,s=u.right}}e.x=s,e.y=o}ci.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Oa={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;-1!==t&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=ka(n.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(t-i.height,0),c=function Nre(n){const e=function Tre(n){const e=[];let t,r,i,s,o,c;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],({position:s,options:{stack:o,stackWeight:c=1}}=i),e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:c});return e}(n),t=o2(e.filter(h=>h.box.fullSize),!0),r=o2(s2(e,"left"),!0),i=o2(s2(e,"right")),s=o2(s2(e,"top"),!0),o=o2(s2(e,"bottom")),c=Dz(e,"x"),u=Dz(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(o).concat(c),chartArea:s2(e,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(o).concat(c)}}(n.boxes),u=c.vertical,h=c.horizontal;Gi(n.boxes,R=>{"function"==typeof R.beforeLayout&&R.beforeLayout()});const g=u.reduce((R,O)=>O.box.options&&!1===O.box.options.display?R:R+1,0)||1,_=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/g,hBoxMaxHeight:o/2}),I=Object.assign({},i);Nz(I,ka(r));const w=Object.assign({maxPadding:I,w:s,h:o,x:i.left,y:i.top},i),x=function Mre(n,e){const t=function Dre(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!Tz.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,c;for(s=0,o=n.length;s<o;++s){c=n[s];const{fullSize:u}=c.box,h=t[c.stack],g=h&&c.stackWeight/h.weight;c.horizontal?(c.width=g?g*r:u&&e.availableWidth,c.height=i):(c.width=r,c.height=g?g*i:u&&e.availableHeight)}return t}(u.concat(h),_);a2(c.fullSize,w,_,x),a2(u,w,_,x),a2(h,w,_,x)&&a2(u,w,_,x),function Rre(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}(w),Pz(c.leftAndTop,w,_,x),w.x+=w.w,w.y+=w.h,Pz(c.rightAndBottom,w,_,x),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},Gi(c.chartArea,R=>{const O=R.box;Object.assign(O,n.chartArea),O.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class Rz{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class Ore extends Rz{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const cM="$chartjs",Lre={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},kz=n=>null===n||""===n,Oz=!!dne&&{passive:!0};function Ure(n,e,t){n.canvas.removeEventListener(e,t,Oz)}function lM(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Vre(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||lM(c.addedNodes,r),o=o&&!lM(c.removedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function zre(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||lM(c.removedNodes,r),o=o&&!lM(c.addedNodes,r);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const c2=new Map;let Lz=0;function Fz(){const n=window.devicePixelRatio;n!==Lz&&(Lz=n,c2.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Wre(n,e,t){const r=n.canvas,i=r&&zL(r);if(!i)return;const s=SV((c,u)=>{const h=i.clientWidth;t(c,u),h<i.clientWidth&&t()},window),o=new ResizeObserver(c=>{const u=c[0],h=u.contentRect.width,g=u.contentRect.height;0===h&&0===g||s(h,g)});return o.observe(i),function Hre(n,e){c2.size||window.addEventListener("resize",Fz),c2.set(n,e)}(n,s),o}function ZL(n,e,t){t&&t.disconnect(),"resize"===e&&function $re(n){c2.delete(n),c2.size||window.removeEventListener("resize",Fz)}(n)}function qre(n,e,t){const r=n.canvas,i=SV(s=>{null!==n.ctx&&t(function jre(n,e){const t=Lre[n.type]||n.type,{x:r,y:i}=ny(n,e);return{type:t,chart:e,native:n,x:void 0!==r?r:null,y:void 0!==i?i:null}}(s,n))},n,s=>{const o=s[0];return[o,o.offsetX,o.offsetY]});return function Bre(n,e,t){n.addEventListener(e,t,Oz)}(r,e,i),i}class Gre extends Rz{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function Fre(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[cM]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",kz(i)){const s=JV(n,"width");void 0!==s&&(n.width=s)}if(kz(r))if(""===n.style.height)n.height=n.width/(e||2);else{const s=JV(n,"height");void 0!==s&&(n.height=s)}}(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[cM])return!1;const r=t[cM].initial;["height","width"].forEach(s=>{const o=r[s];Ti(o)?t.removeAttribute(s):t.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[cM],!0}addEventListener(e,t,r){this.removeEventListener(e,t),(e.$proxies||(e.$proxies={}))[t]=({attach:Vre,detach:zre,resize:Wre}[t]||qre)(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];i&&(({attach:ZL,detach:ZL,resize:ZL}[t]||Ure)(e,t,i),r[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return function une(n,e,t,r){const i=rM(n),s=ty(i,"margin"),o=nM(i.maxWidth,n,"clientWidth")||qD,c=nM(i.maxHeight,n,"clientHeight")||qD,u=function lne(n,e,t){let r,i;if(void 0===e||void 0===t){const s=zL(n);if(s){const o=s.getBoundingClientRect(),c=rM(s),u=ty(c,"border","width"),h=ty(c,"padding");e=o.width-h.width-u.width,t=o.height-h.height-u.height,r=nM(c.maxWidth,s,"clientWidth"),i=nM(c.maxHeight,s,"clientHeight")}else e=n.clientWidth,t=n.clientHeight}return{width:e,height:t,maxWidth:r||qD,maxHeight:i||qD}}(n,e,t);let{width:h,height:g}=u;if("content-box"===i.boxSizing){const _=ty(i,"border","width"),I=ty(i,"padding");h-=I.width+_.width,g-=I.height+_.height}return h=Math.max(0,h-s.width),g=Math.max(0,r?Math.floor(h/r):g-s.height),h=HL(Math.min(h,o,u.maxWidth)),g=HL(Math.min(g,c,u.maxHeight)),h&&!g&&(g=HL(h/2)),{width:h,height:g}}(e,t,r,i)}isAttached(e){const t=zL(e);return!(!t||!t.isConnected)}}class Zre{constructor(){this._init=[]}notify(e,t,r,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,t,r);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,r,i){i=i||{};for(const s of e){const o=s.plugin;if(!1===gs(o[r],[t,i,s.options],o)&&i.cancelable)return!1}return!0}invalidate(){Ti(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Zr(r.options&&r.options.plugins,{}),s=function Yre(n){const e={},t=[],r=Object.keys(Pd.plugins.items);for(let s=0;s<r.length;s++)t.push(Pd.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];-1===t.indexOf(o)&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}(r);return!1!==i||t?function Qre(n,{plugins:e,localIds:t},r,i){const s=[],o=n.getContext();for(const c of e){const u=c.id,h=Xre(r[u],i);null!==h&&s.push({plugin:c,options:Jre(n.config,{plugin:c,local:t[u]},h,o)})}return s}(e,s,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(c=>!o.some(u=>c.plugin.id===u.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function Xre(n,e){return e||!1!==n?!0===n?{}:n:null}function Jre(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(r,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function YL(n,e){return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||(ci.datasets[n]||{}).indexAxis||"x"}function XL(n,e){return"x"===n||"y"===n?n:e.axis||function nie(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(e.position)||n.charAt(0).toLowerCase()}function Bz(n){const e=n.options||(n.options={});e.plugins=Zr(e.plugins,{}),e.scales=function rie(n,e){const t=X_[n.type]||{scales:{}},r=e.scales||{},i=YL(n.type,e),s=Object.create(null),o=Object.create(null);return Object.keys(r).forEach(c=>{const u=r[c];if(!ai(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=XL(c,u),g=function tie(n,e){return n===e?"_index_":"_value_"}(h,i),_=t.scales||{};s[h]=s[h]||c,o[c]=$I(Object.create(null),[{axis:h},u,_[h],_[g]])}),n.data.datasets.forEach(c=>{const u=c.type||n.type,h=c.indexAxis||YL(u,e),_=(X_[u]||{}).scales||{};Object.keys(_).forEach(I=>{const w=function eie(n,e){let t=n;return"_index_"===n?t=e:"_value_"===n&&(t="x"===e?"y":"x"),t}(I,h),x=c[w+"AxisID"]||s[w]||w;o[x]=o[x]||Object.create(null),$I(o[x],[{axis:w},r[x],_[I]])})}),Object.keys(o).forEach(c=>{const u=o[c];$I(u,[ci.scales[u.type],ci.scale])}),o}(n,e)}function Uz(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const jz=new Map,Vz=new Set;function uM(n,e){let t=jz.get(n);return t||(t=e(),jz.set(n,t),Vz.add(t)),t}const l2=(n,e,t)=>{const r=wg(e,t);void 0!==r&&n.add(r)};class sie{constructor(e){this._config=function iie(n){return(n=n||{}).data=Uz(n.data),Bz(n),n}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Uz(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Bz(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return uM(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return uM(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return uM(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return uM(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),c=o.get(t);if(c)return c;const u=new Set;t.forEach(g=>{e&&(u.add(e),g.forEach(_=>l2(u,e,_))),g.forEach(_=>l2(u,i,_)),g.forEach(_=>l2(u,X_[s]||{},_)),g.forEach(_=>l2(u,ci,_)),g.forEach(_=>l2(u,OL,_))});const h=Array.from(u);return 0===h.length&&h.push(Object.create(null)),Vz.has(t)&&o.set(t,h),h}chartOptionScopes(){const{options:e,type:t}=this;return[e,X_[t]||{},ci.datasets[t]||{},{type:t},ci,OL]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:c}=zz(this._resolverCache,e,i);let u=o;(function aie(n,e){const{isScriptable:t,isIndexable:r}=HV(n);for(const i of e){const s=t(i),o=r(i),c=(o||s)&&n[i];if(s&&(Eg(c)||oie(c))||o&&ps(c))return!0}return!1})(o,t)&&(s.$shared=!1,u=vb(o,r=Eg(r)?r():r,this.createResolver(e,r,c)));for(const h of t)s[h]=u[h];return s}createResolver(e,t,r=[""],i){const{resolver:s}=zz(this._resolverCache,e,r);return ai(t)?vb(s,t,void 0,i):s}}function zz(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:UL(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},r.set(i,s)),s}const oie=n=>ai(n)&&Object.getOwnPropertyNames(n).reduce((e,t)=>e||Eg(n[t]),!1),lie=["top","bottom","left","right","chartArea"];function Hz(n,e){return"top"===n||"bottom"===n||-1===lie.indexOf(n)&&"x"===e}function $z(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function Wz(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),gs(t&&t.onComplete,[n],e)}function uie(n){const e=n.chart,t=e.options.animation;gs(t&&t.onProgress,[n],e)}function qz(n){return XV()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const dM={},Gz=n=>{const e=qz(n);return Object.values(dM).filter(t=>t.canvas===e).pop()};function die(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const o=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=o)}}}class hM{constructor(e,t){const r=this.config=new sie(t),i=qz(e),s=Gz(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function Kre(n){return!XV()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Ore:Gre}(i)),this.platform.updateConfig(r);const c=this.platform.acquireContext(i,o.aspectRatio),u=c&&c.canvas,h=u&&u.height,g=u&&u.width;this.id=Wee(),this.ctx=c,this.canvas=u,this.width=g,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Zre,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function ate(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}(_=>this.update(_),o.resizeDelay||0),this._dataChanges=[],dM[this.id]=this,c&&u?(mf.listen(this,"complete",Wz),mf.listen(this,"progress",uie),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return Ti(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():QV(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jV(this.canvas,this.ctx),this}stop(){return mf.stop(this),this}resize(e,t){mf.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,o=this.platform.getMaximumSize(this.canvas,e,t,r.maintainAspectRatio&&this.aspectRatio),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,QV(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),gs(r.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){Gi(this.options.scales||{},(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((o,c)=>(o[c]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const c=t[o],u=XL(o,c),h="r"===u,g="x"===u;return{options:c,dposition:h?"chartArea":g?"bottom":"left",dtype:h?"radialLinear":g?"category":"linear"}}))),Gi(s,o=>{const c=o.options,u=c.id,h=XL(u,c),g=Zr(c.type,o.dtype);(void 0===c.position||Hz(c.position,h)!==Hz(o.dposition))&&(c.position=o.dposition),i[u]=!0;let _=null;u in r&&r[u].type===g?_=r[u]:(_=new(Pd.getScale(g))({id:u,type:g,ctx:this.ctx,chart:this}),r[_.id]=_),_.init(c,e)}),Gi(i,(o,c)=>{o||delete r[c]}),Gi(r,o=>{Oa.configure(this,o,o.options),Oa.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort($z("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{0===t.filter(s=>s===r._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let o=this.getDatasetMeta(r);const c=s.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=c,o.indexAxis=s.indexAxis||YL(c,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const u=Pd.getController(c),{datasetElementType:h,dataElementType:g}=ci.datasets[c];Object.assign(u.prototype,{dataElementType:Pd.getElement(g),datasetElementType:h&&Pd.getElement(h)}),o.controller=new u(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Gi(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,g=this.data.datasets.length;h<g;h++){const{controller:_}=this.getDatasetMeta(h),I=!i&&-1===s.indexOf(_);_.buildOrUpdateElements(I),o=Math.max(+_.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Gi(s,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort($z("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Gi(this.scales,e=>{Oa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!gV(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t)die(e,i,"_removeElements"===r?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,c)=>c+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!gV(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Oa.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Gi(this.boxes,i=>{r&&"chartArea"===i.position||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Eg(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(mf.has(this)?this.attached&&!mf.running(this)&&mf.start(this):(this.draw(),Wz({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const o=t[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r=e._clip,i=!r.disabled,s=this.chartArea,o={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(i&&JD(t,{left:!1===r.left?0:s.left-r.left,right:!1===r.right?this.width:s.right+r.right,top:!1===r.top?0:s.top-r.top,bottom:!1===r.bottom?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&eM(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return QI(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=Are.modes[t];return"function"==typeof s?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Sg(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);zl(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(c=>c.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),mf.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),jV(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete dM[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},i=(s,o,c)=>{s.offsetX=o,s.offsetY=c,this._eventHandler(s)};Gi(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(u,h)=>{t.addEventListener(this,u,h),e[u]=h},i=(u,h)=>{e[u]&&(t.removeEventListener(this,u,h),delete e[u])},s=(u,h)=>{this.canvas&&this.resize(u,h)};let o;const c=()=>{i("attach",c),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",c)},t.isAttached(this.canvas)?c():o()}unbindEvents(){Gi(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Gi(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,o,c,u;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){o=e[c];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[o],index:o}});!$D(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(u,h)=>u.filter(g=>!h.some(_=>g.datasetIndex===_.datasetIndex&&g.index===_.index)),o=s(t,e),c=r?e:s(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),c.length&&i.mode&&this.updateHoverStyle(c,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,i))return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,c=this._getActiveElements(e,i,r,t),u=function Xee(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),h=function hie(n,e,t,r){return t&&"mouseout"!==n.type?r?e:n:null}(e,this._lastEvent,r,u);r&&(this._lastEvent=null,gs(s.onHover,[e,c,this],this),u&&gs(s.onClick,[e,c,this],this));const g=!$D(c,i);return(g||t)&&(this._active=c,this._updateHoverStyles(c,i,t)),this._lastEvent=h,g}_getActiveElements(e,t,r,i){if("mouseout"===e.type)return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}const Kz=()=>Gi(hM.instances,n=>n._plugins.invalidate()),xg=!0;function Zz(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:c,innerRadius:u}=e;let h=i/c;n.beginPath(),n.arc(s,o,c,r-h,t+h),u>i?(h=i/u,n.arc(s,o,u,t+h,r-h,!0)):n.arc(s,o,i,t+Qs,r-Qs),n.closePath(),n.clip()}function Eb(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function QL(n,e,t,r,i,s){const{x:o,y:c,startAngle:u,pixelMargin:h,innerRadius:g}=e,_=Math.max(e.outerRadius+r+t-h,0),I=g>0?g+r+t+h:0;let w=0;const x=i-u;if(r){const ht=((g>0?g-r:0)+(_>0?_-r:0))/2;w=(x-(0!==ht?x*ht/(ht+r):x))/2}const O=(x-Math.max(.001,x*_-t/Os)/_)/2,L=u+O+w,U=i-O-w,{outerStart:Y,outerEnd:te,innerStart:ce,innerEnd:ye}=function pie(n,e,t,r){const i=function fie(n){return BL(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,r*e/2),c=u=>{const h=(t-Math.min(s,u))*r/2;return Yo(u,0,Math.min(s,h))};return{outerStart:c(i.outerStart),outerEnd:c(i.outerEnd),innerStart:Yo(i.innerStart,0,o),innerEnd:Yo(i.innerEnd,0,o)}}(e,I,_,U-L),pe=_-Y,le=_-te,Be=L+Y/pe,nt=U-te/le,se=I+ce,ie=I+ye,Se=L+ce/se,Ee=U-ye/ie;if(n.beginPath(),s){if(n.arc(o,c,_,Be,nt),te>0){const ht=Eb(le,nt,o,c);n.arc(ht.x,ht.y,te,nt,U+Qs)}const ze=Eb(ie,U,o,c);if(n.lineTo(ze.x,ze.y),ye>0){const ht=Eb(ie,Ee,o,c);n.arc(ht.x,ht.y,ye,U+Qs,Ee+Math.PI)}if(n.arc(o,c,I,U-ye/I,L+ce/I,!0),ce>0){const ht=Eb(se,Se,o,c);n.arc(ht.x,ht.y,ce,Se+Math.PI,L-Qs)}const Ze=Eb(pe,L,o,c);if(n.lineTo(Ze.x,Ze.y),Y>0){const ht=Eb(pe,Be,o,c);n.arc(ht.x,ht.y,Y,L-Qs,Be)}}else{n.moveTo(o,c);const ze=Math.cos(Be)*_+o,Ze=Math.sin(Be)*_+c;n.lineTo(ze,Ze);const ht=Math.cos(nt)*_+o,Xe=Math.sin(nt)*_+c;n.lineTo(ht,Xe)}n.closePath()}Object.defineProperties(hM,{defaults:{enumerable:xg,value:ci},instances:{enumerable:xg,value:dM},overrides:{enumerable:xg,value:X_},registry:{enumerable:xg,value:Pd},version:{enumerable:xg,value:"3.9.1"},getChart:{enumerable:xg,value:Gz},register:{enumerable:xg,value:(...n)=>{Pd.add(...n),Kz()}},unregister:{enumerable:xg,value:(...n)=>{Pd.remove(...n),Kz()}}});class fM extends xu{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=bV(i,{x:e,y:t}),{startAngle:c,endAngle:u,innerRadius:h,outerRadius:g,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),I=this.options.spacing/2,x=Zr(_,u-c)>=ns||GI(s,c,u),R=ff(o,h+I,g+I);return x&&R}getCenterPoint(e){const{x:t,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:u,spacing:h}=this.options,g=(i+s)/2,_=(o+c+h+u)/2;return{x:t+Math.cos(g)*_,y:r+Math.sin(g)*_}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,i=(t.offset||0)/2,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=r>ns?Math.floor(r/ns):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();let c=0;if(i){c=i/2;const h=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(h)*c,Math.sin(h)*c),this.circumference>=Os&&(c=i)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const u=function gie(n,e,t,r,i){const{fullCircles:s,startAngle:o,circumference:c}=e;let u=e.endAngle;if(s){QL(n,e,t,r,o+ns,i);for(let h=0;h<s;++h)n.fill();isNaN(c)||(u=o+c%ns,c%ns==0&&(u+=ns))}return QL(n,e,t,r,u,i),n.fill(),u}(e,this,c,s,o);(function _ie(n,e,t,r,i,s){const{options:o}=e,{borderWidth:c,borderJoinStyle:u}=o,h="inner"===o.borderAlign;!c||(h?(n.lineWidth=2*c,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel"),e.fullCircles&&function mie(n,e,t){const{x:r,y:i,startAngle:s,pixelMargin:o,fullCircles:c}=e,u=Math.max(e.outerRadius-o,0),h=e.innerRadius+o;let g;for(t&&Zz(n,e,s+ns),n.beginPath(),n.arc(r,i,h,s+ns,s,!0),g=0;g<c;++g)n.stroke();for(n.beginPath(),n.arc(r,i,u,s,s+ns),g=0;g<c;++g)n.stroke()}(n,e,h),h&&Zz(n,e,i),QL(n,e,t,r,i,s),n.stroke())})(e,this,c,s,u,o),e.restore()}}function Yz(n,e,t=e){n.lineCap=Zr(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Zr(t.borderDash,e.borderDash)),n.lineDashOffset=Zr(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Zr(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Zr(t.borderWidth,e.borderWidth),n.strokeStyle=Zr(t.borderColor,e.borderColor)}function yie(n,e,t){n.lineTo(t.x,t.y)}function Xz(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:o,end:c}=e,u=Math.max(i,o),h=Math.min(s,c);return{count:r,start:u,loop:e.loop,ilen:h<u&&!(i<o&&s<o||i>c&&s>c)?r+h-u:h-u}}function bie(n,e,t,r){const{points:i,options:s}=e,{count:o,start:c,loop:u,ilen:h}=Xz(i,t,r),g=function vie(n){return n.stepped?kte:n.tension||"monotone"===n.cubicInterpolationMode?Ote:yie}(s);let w,x,R,{move:_=!0,reverse:I}=r||{};for(w=0;w<=h;++w)x=i[(c+(I?h-w:w))%o],!x.skip&&(_?(n.moveTo(x.x,x.y),_=!1):g(n,R,x,I,s.stepped),R=x);return u&&(x=i[(c+(I?h:0))%o],g(n,R,x,I,s.stepped)),!!u}function wie(n,e,t,r){const i=e.points,{count:s,start:o,ilen:c}=Xz(i,t,r),{move:u=!0,reverse:h}=r||{};let I,w,x,R,O,L,g=0,_=0;const U=te=>(o+(h?c-te:te))%s,Y=()=>{R!==O&&(n.lineTo(g,O),n.lineTo(g,R),n.lineTo(g,L))};for(u&&(w=i[U(0)],n.moveTo(w.x,w.y)),I=0;I<=c;++I){if(w=i[U(I)],w.skip)continue;const te=w.x,ce=w.y,ye=0|te;ye===x?(ce<R?R=ce:ce>O&&(O=ce),g=(_*g+te)/++_):(Y(),n.lineTo(te,ce),x=ye,_=0,R=O=ce),L=ce}Y()}function JL(n){const e=n.options;return n._decimated||n._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||e.borderDash&&e.borderDash.length?bie:wie}fM.id="arc",fM.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},fM.defaultRoutes={backgroundColor:"backgroundColor"};const Sie="function"==typeof Path2D;let pM=(()=>{class n extends xu{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const i=this.options;!i.tension&&"monotone"!==i.cubicInterpolationMode||i.stepped||this._pointsUpdated||(ine(this._points,i,t,i.spanGaps?this._loop:this._fullLoop,r),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function bne(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:o,end:c}=function yne(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}(t,i,s,r);return function az(n,e,t,r){return r&&r.setContext&&t?function wne(n,e,t,r){const i=n._chart.getContext(),s=cz(n.options),{_datasetIndex:o,options:{spanGaps:c}}=n,u=t.length,h=[];let g=s,_=e[0].start,I=_;function w(x,R,O,L){const U=c?-1:1;if(x!==R){for(x+=u;t[x%u].skip;)x-=U;for(;t[R%u].skip;)R+=U;x%u!=R%u&&(h.push({start:x%u,end:R%u,loop:O,style:L}),g=L,_=R%u)}}for(const x of e){_=c?_:x.start;let O,R=t[_%u];for(I=_+1;I<=x.end;I++){const L=t[I%u];O=cz(r.setContext(Sg(i,{type:"segment",p0:R,p1:L,p0DataIndex:(I-1)%u,p1DataIndex:I%u,datasetIndex:o}))),Ene(O,g)&&w(_,I-1,x.loop,g),R=L,g=O}_<I-1&&w(_,I-1,x.loop,g)}return h}(n,e,t,r):e}(n,!0===r?[{start:o,end:c,loop:s}]:function vne(n,e,t,r){const i=n.length,s=[];let u,o=e,c=n[e];for(u=e+1;u<=t;++u){const h=n[u%i];h.skip||h.stop?c.skip||(s.push({start:e%i,end:(u-1)%i,loop:r=!1}),e=o=h.stop?u:null):(o=u,c.skip&&(e=u)),c=h}return null!==o&&s.push({start:e%i,end:o%i,loop:r}),s}(t,o,c<o?c+i:c,!!n._fullLoop&&0===o&&c===i-1),t,e)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,i=t.length;return i&&this.points[t[i-1].end]}interpolate(t,r){const i=this.options,s=t[r],o=this.points,c=oz(this,{property:r,start:s,end:s});if(!c.length)return;const u=[],h=function Eie(n){return n.stepped?hne:n.tension||"monotone"===n.cubicInterpolationMode?fne:ry}(i);let g,_;for(g=0,_=c.length;g<_;++g){const{start:I,end:w}=c[g],x=o[I],R=o[w];if(x===R){u.push(x);continue}const L=h(x,R,Math.abs((s-x[r])/(R[r]-x[r])),i.stepped);L[r]=t[r],u.push(L)}return 1===u.length?u[0]:u}pathSegment(t,r,i){return JL(this)(t,this,r,i)}path(t,r,i){const s=this.segments,o=JL(this);let c=this._loop;r=r||0,i=i||this.points.length-r;for(const u of s)c&=o(t,this,u,{start:r,end:r+i-1});return!!c}draw(t,r,i,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function xie(n,e,t,r){Sie&&!e.options.segment?function Iie(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),Yz(n,e.options),n.stroke(i)}(n,e,t,r):function Cie(n,e,t,r){const{segments:i,options:s}=e,o=JL(e);for(const c of i)Yz(n,s,c.style),n.beginPath(),o(n,e,c,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}(n,e,t,r)}(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e},n})();function Qz(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}let Aie=(()=>{class n extends xu{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){const s=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(r-c,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,r){return Qz(this,t,"x",r)}inYRange(t,r){return Qz(this,t,"y",r)}getCenterPoint(t){const{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){let r=(t=t||this.options||{}).radius||0;return r=Math.max(r,r&&t.hoverRadius||0),2*(r+(r&&t.borderWidth||0))}draw(t,r){const i=this.options;this.skip||i.radius<.1||!QI(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,FL(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function Jz(n,e){const{x:t,y:r,base:i,width:s,height:o}=n.getProps(["x","y","base","width","height"],e);let c,u,h,g,_;return n.horizontal?(_=o/2,c=Math.min(t,i),u=Math.max(t,i),h=r-_,g=r+_):(_=s/2,c=t-_,u=t+_,h=Math.min(r,i),g=Math.max(r,i)),{left:c,top:h,right:u,bottom:g}}function Ag(n,e,t,r){return n?0:Yo(e,t,r)}function eF(n,e,t,r){const i=null===e,s=null===t,c=n&&!(i&&s)&&Jz(n,r);return c&&(i||ff(e,c.left,c.right))&&(s||ff(t,c.top,c.bottom))}function Pie(n,e){n.rect(e.x,e.y,e.w,e.h)}function tF(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0;return{x:n.x+r,y:n.y+i,w:n.w+((n.x+n.w!==t.x+t.w?e:0)-r),h:n.h+((n.y+n.h!==t.y+t.h?e:0)-i),radius:n.radius}}class gM extends xu{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=function Mie(n){const e=Jz(n),t=e.right-e.left,r=e.bottom-e.top,i=function Tie(n,e,t){const i=n.borderSkipped,s=zV(n.options.borderWidth);return{t:Ag(i.top,s.top,0,t),r:Ag(i.right,s.right,0,e),b:Ag(i.bottom,s.bottom,0,t),l:Ag(i.left,s.left,0,e)}}(n,t/2,r/2),s=function Die(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=ey(i),o=Math.min(e,t),c=n.borderSkipped,u=r||ai(i);return{topLeft:Ag(!u||c.top||c.left,s.topLeft,0,o),topRight:Ag(!u||c.top||c.right,s.topRight,0,o),bottomLeft:Ag(!u||c.bottom||c.left,s.bottomLeft,0,o),bottomRight:Ag(!u||c.bottom||c.right,s.bottomRight,0,o)}}(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}(this),c=function Nie(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(o.radius)?JI:Pie;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),c(e,tF(o,t,s)),e.clip(),c(e,tF(s,-t,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),c(e,tF(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return eF(this,e,t,r)}inXRange(e,t){return eF(this,e,null,t)}inYRange(e,t){return eF(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}gM.id="bar",gM.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},gM.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Rie=Object.freeze({__proto__:null,ArcElement:fM,LineElement:pM,PointElement:Aie,BarElement:gM});function eH(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:e})}}function tH(n){n.data.datasets.forEach(e=>{eH(e)})}var Fie={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled)return void tH(n);const r=n.width;n.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:c}=i,u=n.getDatasetMeta(s),h=o||i.data;if("y"===e2([c,n.options.indexAxis])||!u.controller.supportsDecimation)return;const g=n.scales[u.xAxisID];if("linear"!==g.type&&"time"!==g.type||n.options.parsing)return;let x,{start:_,count:I}=function Lie(n,e){const t=e.length;let i,r=0;const{iScale:s}=n,{min:o,max:c,minDefined:u,maxDefined:h}=s.getUserBounds();return u&&(r=Yo(pf(e,s.axis,o).lo,0,t-1)),i=h?Yo(pf(e,s.axis,c).hi+1,r,t)-r:t-r,{start:r,count:i}}(u,h);if(I<=(t.threshold||4*r))eH(i);else{switch(Ti(o)&&(i._data=h,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(R){this._data=R}})),t.algorithm){case"lttb":x=function kie(n,e,t,r,i){const s=i.samples||r;if(s>=t)return n.slice(e,e+t);const o=[],c=(t-2)/(s-2);let u=0;const h=e+t-1;let _,I,w,x,R,g=e;for(o[u++]=n[g],_=0;_<s-2;_++){let U,O=0,L=0;const Y=Math.floor((_+1)*c)+1+e,te=Math.min(Math.floor((_+2)*c)+1,t)+e,ce=te-Y;for(U=Y;U<te;U++)O+=n[U].x,L+=n[U].y;O/=ce,L/=ce;const ye=Math.floor(_*c)+1+e,pe=Math.min(Math.floor((_+1)*c)+1,t)+e,{x:le,y:Be}=n[g];for(w=x=-1,U=ye;U<pe;U++)x=.5*Math.abs((le-O)*(n[U].y-Be)-(le-n[U].x)*(L-Be)),x>w&&(w=x,I=n[U],R=U);o[u++]=I,g=R}return o[u++]=n[h],o}(h,_,I,r,t);break;case"min-max":x=function Oie(n,e,t,r){let o,c,u,h,g,_,I,w,x,R,i=0,s=0;const O=[],U=n[e].x,te=n[e+t-1].x-U;for(o=e;o<e+t;++o){c=n[o],u=(c.x-U)/te*r,h=c.y;const ce=0|u;if(ce===g)h<x?(x=h,_=o):h>R&&(R=h,I=o),i=(s*i+c.x)/++s;else{const ye=o-1;if(!Ti(_)&&!Ti(I)){const pe=Math.min(_,I),le=Math.max(_,I);pe!==w&&pe!==ye&&O.push({...n[pe],x:i}),le!==w&&le!==ye&&O.push({...n[le],x:i})}o>0&&ye!==w&&O.push(n[ye]),O.push(c),g=ce,s=0,x=R=h,_=I=w=o}}return O}(h,_,I,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=x}})},destroy(n){tH(n)}};function nF(n,e,t,r){if(r)return;let i=e[n],s=t[n];return"angle"===n&&(i=cl(i),s=cl(s)),{property:n,start:i,end:s}}function rF(n,e,t){for(;e>n;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function nH(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function rH(n,e){let t=[],r=!1;return ps(n)?(r=!0,t=n):t=function Uie(n,e){const{x:t=null,y:r=null}=n||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:c})=>{c=rF(o,c,i);const u=i[o],h=i[c];null!==r?(s.push({x:u.x,y:r}),s.push({x:h.x,y:r})):null!==t&&(s.push({x:t,y:u.y}),s.push({x:t,y:h.y}))}),s}(n,e),t.length?new pM({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function iH(n){return n&&!1!==n.fill}function jie(n,e,t){let i=n[e].fill;const s=[e];let o;if(!t)return i;for(;!1!==i&&-1===s.indexOf(i);){if(!ho(i))return i;if(o=n[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function Vie(n,e,t){const r=function Wie(n){const e=n.options,t=e.fill;let r=Zr(t&&t.target,t);return void 0===r&&(r=!!e.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(n);if(ai(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return ho(i)&&Math.floor(i)===i?function zie(n,e,t,r){return("-"===n||"+"===n)&&(t=e+t),!(t===e||t<0||t>=r)&&t}(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Kie(n,e,t){const r=[];for(let i=0;i<t.length;i++){const s=t[i],{first:o,last:c,point:u}=Zie(s,e,"x");if(!(!u||o&&c))if(o)r.unshift(u);else if(n.push(u),!c)break}n.push(...r)}function Zie(n,e,t){const r=n.interpolate(e,t);if(!r)return{};const i=r[t],s=n.segments,o=n.points;let c=!1,u=!1;for(let h=0;h<s.length;h++){const g=s[h],_=o[g.start][t],I=o[g.end][t];if(ff(i,_,I)){c=i===_,u=i===I;break}}return{first:c,last:u,point:r}}class sH{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:i,y:s,radius:o}=this;return e.arc(i,s,o,(t=t||{start:0,end:ns}).end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:i}=this,s=e.angle;return{x:t+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function iF(n,e,t){const r=function Yie(n){const{chart:e,fill:t,line:r}=n;if(ho(t))return function Xie(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}(e,t);if("stack"===t)return function qie(n){const{scale:e,index:t,line:r}=n,i=[],s=r.segments,o=r.points,c=function Gie(n,e){const t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}(e,t);c.push(rH({x:null,y:e.bottom},r));for(let u=0;u<s.length;u++){const h=s[u];for(let g=h.start;g<=h.end;g++)Kie(i,o[g],c)}return new pM({points:i,options:{}})}(n);if("shape"===t)return!0;const i=function Qie(n){return(n.scale||{}).getPointPositionForValue?function ese(n){const{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=function $ie(n,e,t){let r;return r="start"===n?t:"end"===n?e.options.reverse?e.min:e.max:ai(n)?n.value:e.getBaseValue(),r}(t,e,s),c=[];if(r.grid.circular){const u=e.getPointPositionForValue(0,s);return new sH({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(o)})}for(let u=0;u<i;++u)c.push(e.getPointPositionForValue(u,o));return c}(n):function Jie(n){const{scale:e={},fill:t}=n,r=function Hie(n,e){let t=null;return"start"===n?t=e.bottom:"end"===n?t=e.top:ai(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}(t,e);if(ho(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}(n)}(n);return i instanceof sH?i:rH(i,r)}(e),{line:i,scale:s,axis:o}=e,c=i.options,u=c.fill,h=c.backgroundColor,{above:g=h,below:_=h}=u||{};r&&i.points.length&&(JD(n,t),function tse(n,e){const{line:t,target:r,above:i,below:s,area:o,scale:c}=e,u=t._loop?"angle":e.axis;n.save(),"x"===u&&s!==i&&(oH(n,r,o.top),aH(n,{line:t,target:r,color:i,scale:c,property:u}),n.restore(),n.save(),oH(n,r,o.bottom)),aH(n,{line:t,target:r,color:s,scale:c,property:u}),n.restore()}(n,{line:i,target:r,above:g,below:_,area:t,scale:s,axis:o}),eM(n))}function oH(n,e,t){const{segments:r,points:i}=e;let s=!0,o=!1;n.beginPath();for(const c of r){const{start:u,end:h}=c,g=i[u],_=i[rF(u,h,i)];s?(n.moveTo(g.x,g.y),s=!1):(n.lineTo(g.x,t),n.lineTo(g.x,g.y)),o=!!e.pathSegment(n,c,{move:o}),o?n.closePath():n.lineTo(_.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function aH(n,e){const{line:t,target:r,property:i,color:s,scale:o}=e,c=function Bie(n,e,t){const r=n.segments,i=n.points,s=e.points,o=[];for(const c of r){let{start:u,end:h}=c;h=rF(u,h,i);const g=nF(t,i[u],i[h],c.loop);if(!e.segments){o.push({source:c,target:g,start:i[u],end:i[h]});continue}const _=oz(e,g);for(const I of _){const w=nF(t,s[I.start],s[I.end],I.loop),x=sz(c,i,w);for(const R of x)o.push({source:R,target:I,start:{[t]:nH(g,w,"start",Math.max)},end:{[t]:nH(g,w,"end",Math.min)}})}}return o}(t,r,i);for(const{source:u,target:h,start:g,end:_}of c){const{style:{backgroundColor:I=s}={}}=u,w=!0!==r;n.save(),n.fillStyle=I,nse(n,o,w&&nF(i,g,_)),n.beginPath();const x=!!t.pathSegment(n,u);let R;if(w){x?n.closePath():cH(n,r,_,i);const O=!!r.pathSegment(n,h,{move:x,reverse:!0});R=x&&O,R||cH(n,r,g,i)}n.closePath(),n.fill(R?"evenodd":"nonzero"),n.restore()}}function nse(n,e,t){const{top:r,bottom:i}=e.chart.chartArea,{property:s,start:o,end:c}=t||{};"x"===s&&(n.beginPath(),n.rect(o,r,c-o,i-r),n.clip())}function cH(n,e,t,r){const i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var rse={id:"filler",afterDatasetsUpdate(n,e,t){const r=(n.data.datasets||[]).length,i=[];let s,o,c,u;for(o=0;o<r;++o)s=n.getDatasetMeta(o),c=s.dataset,u=null,c&&c.options&&c instanceof pM&&(u={visible:n.isDatasetVisible(o),index:o,fill:Vie(c,o,r),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:c}),s.$filler=u,i.push(u);for(o=0;o<r;++o)u=i[o],u&&!1!==u.fill&&(u.fill=jie(i,o,t.propagate))},beforeDraw(n,e,t){const r="beforeDraw"===t.drawTime,i=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=i.length-1;o>=0;--o){const c=i[o].$filler;!c||(c.line.updateControlPoints(s,c.axis),r&&c.fill&&iF(n.ctx,c,s))}},beforeDatasetsDraw(n,e,t){if("beforeDatasetsDraw"!==t.drawTime)return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;iH(s)&&iF(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const r=e.meta.$filler;!iH(r)||"beforeDatasetDraw"!==t.drawTime||iF(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const lH=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}};class uH extends xu{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=gs(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const r=e.labels,i=Uo(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=lH(r,s);let h,g;t.font=i.string,this.isHorizontal()?(h=this.maxWidth,g=this._fitRows(o,s,c,u)+10):(g=this.maxHeight,h=this._fitCols(o,s,c,u)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],g=i+c;let _=e;s.textAlign="left",s.textBaseline="middle";let I=-1,w=-g;return this.legendItems.forEach((x,R)=>{const O=r+t/2+s.measureText(x.text).width;(0===R||h[h.length-1]+O+2*c>o)&&(_+=g,h[h.length-(R>0?0:1)]=0,w+=g,I++),u[R]={left:0,top:w,row:I,width:O,height:i},h[h.length-1]+=O+c}),_}_fitCols(e,t,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],g=o-e;let _=c,I=0,w=0,x=0,R=0;return this.legendItems.forEach((O,L)=>{const U=r+t/2+s.measureText(O.text).width;L>0&&w+i+2*c>g&&(_+=I+c,h.push({width:I,height:w}),x+=I+c,R++,I=w=0),u[L]={left:x,top:w,col:R,width:U,height:i},I=Math.max(I,U),w+=i+c}),_+=I,h.push({width:I,height:w}),_}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:s}}=this,o=wb(s,this.left,this.width);if(this.isHorizontal()){let c=0,u=Ra(r,this.left+i,this.right-this.lineWidths[c]);for(const h of t)c!==h.row&&(c=h.row,u=Ra(r,this.left+i,this.right-this.lineWidths[c])),h.top+=this.top+e+i,h.left=o.leftForLtr(o.x(u),h.width),u+=h.width+i}else{let c=0,u=Ra(r,this.top+e+i,this.bottom-this.columnSizes[c].height);for(const h of t)h.col!==c&&(c=h.col,u=Ra(r,this.top+e+i,this.bottom-this.columnSizes[c].height)),h.top=u,h.left+=this.left+i,h.left=o.leftForLtr(o.x(h.left),h.width),u+=h.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;JD(e,this),this._draw(),eM(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,c=ci.color,u=wb(e.rtl,this.left,this.width),h=Uo(o.font),{color:g,padding:_}=o,I=h.size,w=I/2;let x;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=h.string;const{boxWidth:R,boxHeight:O,itemHeight:L}=lH(o,I),te=this.isHorizontal(),ce=this._computeTitleHeight();x=te?{x:Ra(s,this.left+_,this.right-r[0]),y:this.top+_+ce,line:0}:{x:this.left+_,y:Ra(s,this.top+ce+_,this.bottom-t[0].height),line:0},tz(this.ctx,e.textDirection);const ye=L+_;this.legendItems.forEach((pe,le)=>{i.strokeStyle=pe.fontColor||g,i.fillStyle=pe.fontColor||g;const Be=i.measureText(pe.text).width,nt=u.textAlign(pe.textAlign||(pe.textAlign=o.textAlign)),se=R+w+Be;let ie=x.x,Se=x.y;u.setWidth(this.width),te?le>0&&ie+se+_>this.right&&(Se=x.y+=ye,x.line++,ie=x.x=Ra(s,this.left+_,this.right-r[x.line])):le>0&&Se+ye>this.bottom&&(ie=x.x=ie+t[x.line].width+_,x.line++,Se=x.y=Ra(s,this.top+ce+_,this.bottom-t[x.line].height)),function(pe,le,Be){if(isNaN(R)||R<=0||isNaN(O)||O<0)return;i.save();const nt=Zr(Be.lineWidth,1);if(i.fillStyle=Zr(Be.fillStyle,c),i.lineCap=Zr(Be.lineCap,"butt"),i.lineDashOffset=Zr(Be.lineDashOffset,0),i.lineJoin=Zr(Be.lineJoin,"miter"),i.lineWidth=nt,i.strokeStyle=Zr(Be.strokeStyle,c),i.setLineDash(Zr(Be.lineDash,[])),o.usePointStyle){const se={radius:O*Math.SQRT2/2,pointStyle:Be.pointStyle,rotation:Be.rotation,borderWidth:nt},ie=u.xPlus(pe,R/2);VV(i,se,ie,le+w,o.pointStyleWidth&&R)}else{const se=le+Math.max((I-O)/2,0),ie=u.leftForLtr(pe,R),Se=ey(Be.borderRadius);i.beginPath(),Object.values(Se).some(Ee=>0!==Ee)?JI(i,{x:ie,y:se,w:R,h:O,radius:Se}):i.rect(ie,se,R,O),i.fill(),0!==nt&&i.stroke()}i.restore()}(u.x(ie),Se,pe),ie=((n,e,t,r)=>n===(r?"left":"right")?t:"center"===n?(e+t)/2:e)(nt,ie+R+w,te?ie+se:this.right,e.rtl),function(pe,le,Be){J_(i,Be.text,pe,le+L/2,h,{strikethrough:Be.hidden,textAlign:u.textAlign(Be.textAlign)})}(u.x(ie),Se,pe),te?x.x+=se+_:x.y+=ye}),nz(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Uo(t.font),i=ka(t.padding);if(!t.display)return;const s=wb(e.rtl,this.left,this.width),o=this.ctx,c=t.position,h=i.top+r.size/2;let g,_=this.left,I=this.width;if(this.isHorizontal())I=Math.max(...this.lineWidths),g=this.top+h,_=Ra(e.align,_,this.right-I);else{const x=this.columnSizes.reduce((R,O)=>Math.max(R,O.height),0);g=h+Ra(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const w=Ra(c,_,_+I);o.textAlign=s.textAlign(TL(c)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=r.string,J_(o,t.text,w,g,r)}_computeTitleHeight(){const e=this.options.title,t=Uo(e.font),r=ka(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,s;if(ff(e,this.left,this.right)&&ff(t,this.top,this.bottom))for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],ff(e,i.left,i.left+i.width)&&ff(t,i.top,i.top+i.height))return this.legendItems[r];return null}handleEvent(e){const t=this.options;if(!function sse(n,e){return!(("mousemove"!==n&&"mouseout"!==n||!e.onHover&&!e.onLeave)&&(!e.onClick||"click"!==n&&"mouseup"!==n))}(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,s=((n,e)=>null!==n&&null!==e&&n.datasetIndex===e.datasetIndex&&n.index===e.index)(i,r);i&&!s&&gs(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&gs(t.onHover,[e,r,this],this)}else r&&gs(t.onClick,[e,r,this],this)}}var ose={id:"legend",_element:uH,start(n,e,t){const r=n.legend=new uH({ctx:n.ctx,options:t,chart:n});Oa.configure(n,r,t),Oa.addBox(n,r)},stop(n){Oa.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Oa.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:s}}=n.legend.options;return n._getSortedDatasetMetas().map(o=>{const c=o.controller.getStyle(t?0:void 0),u=ka(c.borderWidth);return{text:e[o.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!o.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class sF extends xu{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=ps(r.text)?r.text.length:1;this._padding=ka(r.padding);const s=i*Uo(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:r,bottom:i,right:s,options:o}=this,c=o.align;let h,g,_,u=0;return this.isHorizontal()?(g=Ra(c,r,s),_=t+e,h=s-r):("left"===o.position?(g=r+e,_=Ra(c,i,t),u=-.5*Os):(g=s-e,_=Ra(c,t,i),u=.5*Os),h=i-t),{titleX:g,titleY:_,maxWidth:h,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=Uo(t.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:u,rotation:h}=this._drawArgs(s);J_(e,t.text,0,0,r,{color:t.color,maxWidth:u,rotation:h,textAlign:TL(t.align),textBaseline:"middle",translation:[o,c]})}}var cse={id:"title",_element:sF,start(n,e,t){!function ase(n,e){const t=new sF({ctx:n.ctx,options:e,chart:n});Oa.configure(n,t,e),Oa.addBox(n,t),n.titleBlock=t}(n,t)},stop(n){Oa.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Oa.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const mM=new WeakMap;var lse={id:"subtitle",start(n,e,t){const r=new sF({ctx:n.ctx,options:t,chart:n});Oa.configure(n,r,t),Oa.addBox(n,r),mM.set(n,r)},stop(n){Oa.removeBox(n,mM.get(n)),mM.delete(n)},beforeUpdate(n,e,t){const r=mM.get(n);Oa.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const u2={average(n){if(!n.length)return!1;let e,t,r=0,i=0,s=0;for(e=0,t=n.length;e<t;++e){const o=n[e].element;if(o&&o.hasValue()){const c=o.tooltipPosition();r+=c.x,i+=c.y,++s}}return{x:r/s,y:i/s}},nearest(n,e){if(!n.length)return!1;let s,o,c,t=e.x,r=e.y,i=Number.POSITIVE_INFINITY;for(s=0,o=n.length;s<o;++s){const u=n[s].element;if(u&&u.hasValue()){const g=xL(e,u.getCenterPoint());g<i&&(i=g,c=u)}}if(c){const u=c.tooltipPosition();t=u.x,r=u.y}return{x:t,y:r}}};function Rd(n,e){return e&&(ps(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function _f(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function use(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:o,value:c}=s.getLabelAndValue(i);return{chart:n,label:o,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:c,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function dH(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:o,boxHeight:c}=e,u=Uo(e.bodyFont),h=Uo(e.titleFont),g=Uo(e.footerFont),_=s.length,I=i.length,w=r.length,x=ka(e.padding);let R=x.height,O=0,L=r.reduce((te,ce)=>te+ce.before.length+ce.lines.length+ce.after.length,0);L+=n.beforeBody.length+n.afterBody.length,_&&(R+=_*h.lineHeight+(_-1)*e.titleSpacing+e.titleMarginBottom),L&&(R+=w*(e.displayColors?Math.max(c,u.lineHeight):u.lineHeight)+(L-w)*u.lineHeight+(L-1)*e.bodySpacing),I&&(R+=e.footerMarginTop+I*g.lineHeight+(I-1)*e.footerSpacing);let U=0;const Y=function(te){O=Math.max(O,t.measureText(te).width+U)};return t.save(),t.font=h.string,Gi(n.title,Y),t.font=u.string,Gi(n.beforeBody.concat(n.afterBody),Y),U=e.displayColors?o+2+e.boxPadding:0,Gi(r,te=>{Gi(te.before,Y),Gi(te.lines,Y),Gi(te.after,Y)}),U=0,t.font=g.string,Gi(n.footer,Y),t.restore(),O+=x.width,{width:O,height:R}}function fse(n,e,t,r){const{x:i,width:s}=t,{width:o,chartArea:{left:c,right:u}}=n;let h="center";return"center"===r?h=i<=(c+u)/2?"left":"right":i<=s/2?h="left":i>=o-s/2&&(h="right"),function hse(n,e,t,r){const{x:i,width:s}=r,o=t.caretSize+t.caretPadding;if("left"===n&&i+s+o>e.width||"right"===n&&i-s-o<0)return!0}(h,n,e,t)&&(h="center"),h}function hH(n,e,t){const r=t.yAlign||e.yAlign||function dse(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}(n,t);return{xAlign:t.xAlign||e.xAlign||fse(n,e,t,r),yAlign:r}}function fH(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=n,{xAlign:c,yAlign:u}=t,h=i+s,{topLeft:g,topRight:_,bottomLeft:I,bottomRight:w}=ey(o);let x=function pse(n,e){let{x:t,width:r}=n;return"right"===e?t-=r:"center"===e&&(t-=r/2),t}(e,c);const R=function gse(n,e,t){let{y:r,height:i}=n;return"top"===e?r+=t:r-="bottom"===e?i+t:i/2,r}(e,u,h);return"center"===u?"left"===c?x+=h:"right"===c&&(x-=h):"left"===c?x-=Math.max(g,I)+i:"right"===c&&(x+=Math.max(_,w)+i),{x:Yo(x,0,r.width-e.width),y:Yo(R,0,r.height-e.height)}}function _M(n,e,t){const r=ka(t.padding);return"center"===e?n.x+n.width/2:"right"===e?n.x+n.width-r.right:n.x+r.left}function pH(n){return Rd([],_f(n))}function gH(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}let mH=(()=>{class n extends xu{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&r.options.animation&&i.animations,o=new uz(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=function mse(n,e,t){return Sg(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:i}=r,s=i.beforeTitle.apply(this,[t]),o=i.title.apply(this,[t]),c=i.afterTitle.apply(this,[t]);let u=[];return u=Rd(u,_f(s)),u=Rd(u,_f(o)),u=Rd(u,_f(c)),u}getBeforeBody(t,r){return pH(r.callbacks.beforeBody.apply(this,[t]))}getBody(t,r){const{callbacks:i}=r,s=[];return Gi(t,o=>{const c={before:[],lines:[],after:[]},u=gH(i,o);Rd(c.before,_f(u.beforeLabel.call(this,o))),Rd(c.lines,u.label.call(this,o)),Rd(c.after,_f(u.afterLabel.call(this,o))),s.push(c)}),s}getAfterBody(t,r){return pH(r.callbacks.afterBody.apply(this,[t]))}getFooter(t,r){const{callbacks:i}=r,s=i.beforeFooter.apply(this,[t]),o=i.footer.apply(this,[t]),c=i.afterFooter.apply(this,[t]);let u=[];return u=Rd(u,_f(s)),u=Rd(u,_f(o)),u=Rd(u,_f(c)),u}_createItems(t){const r=this._active,i=this.chart.data,s=[],o=[],c=[];let h,g,u=[];for(h=0,g=r.length;h<g;++h)u.push(use(this.chart,r[h]));return t.filter&&(u=u.filter((_,I,w)=>t.filter(_,I,w,i))),t.itemSort&&(u=u.sort((_,I)=>t.itemSort(_,I,i))),Gi(u,_=>{const I=gH(t.callbacks,_);s.push(I.labelColor.call(this,_)),o.push(I.labelPointStyle.call(this,_)),c.push(I.labelTextColor.call(this,_))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=u,u}update(t,r){const i=this.options.setContext(this.getContext()),s=this._active;let o,c=[];if(s.length){const u=u2[i.position].call(this,s,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const h=this._size=dH(this,i),g=Object.assign({},u,h),_=hH(this.chart,i,g),I=fH(i,g,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:I.x,y:I.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,i,s){const o=this.getCaretPosition(t,i,s);r.lineTo(o.x1,o.y1),r.lineTo(o.x2,o.y2),r.lineTo(o.x3,o.y3)}getCaretPosition(t,r,i){const{xAlign:s,yAlign:o}=this,{caretSize:c,cornerRadius:u}=i,{topLeft:h,topRight:g,bottomLeft:_,bottomRight:I}=ey(u),{x:w,y:x}=t,{width:R,height:O}=r;let L,U,Y,te,ce,ye;return"center"===o?(ce=x+O/2,"left"===s?(L=w,U=L-c,te=ce+c,ye=ce-c):(L=w+R,U=L+c,te=ce-c,ye=ce+c),Y=L):(U="left"===s?w+Math.max(h,_)+c:"right"===s?w+R-Math.max(g,I)-c:this.caretX,"top"===o?(te=x,ce=te-c,L=U-c,Y=U+c):(te=x+O,ce=te+c,L=U+c,Y=U-c),ye=te),{x1:L,x2:U,x3:Y,y1:te,y2:ce,y3:ye}}drawTitle(t,r,i){const s=this.title,o=s.length;let c,u,h;if(o){const g=wb(i.rtl,this.x,this.width);for(t.x=_M(this,i.titleAlign,i),r.textAlign=g.textAlign(i.titleAlign),r.textBaseline="middle",c=Uo(i.titleFont),u=i.titleSpacing,r.fillStyle=i.titleColor,r.font=c.string,h=0;h<o;++h)r.fillText(s[h],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+u,h+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,r,i,s,o){const c=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:g,boxPadding:_}=o,I=Uo(o.bodyFont),w=_M(this,"left",o),x=s.x(w),O=r.y+(h<I.lineHeight?(I.lineHeight-h)/2:0);if(o.usePointStyle){const L={radius:Math.min(g,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},U=s.leftForLtr(x,g)+g/2,Y=O+h/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,FL(t,L,U,Y),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,FL(t,L,U,Y)}else{t.lineWidth=ai(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const L=s.leftForLtr(x,g-_),U=s.leftForLtr(s.xPlus(x,1),g-_-2),Y=ey(c.borderRadius);Object.values(Y).some(te=>0!==te)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,JI(t,{x:L,y:O,w:g,h,radius:Y}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),JI(t,{x:U,y:O+1,w:g-2,h:h-2,radius:Y}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(L,O,g,h),t.strokeRect(L,O,g,h),t.fillStyle=c.backgroundColor,t.fillRect(U,O+1,g-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,r,i){const{body:s}=this,{bodySpacing:o,bodyAlign:c,displayColors:u,boxHeight:h,boxWidth:g,boxPadding:_}=i,I=Uo(i.bodyFont);let w=I.lineHeight,x=0;const R=wb(i.rtl,this.x,this.width),O=function(Be){r.fillText(Be,R.x(t.x+x),t.y+w/2),t.y+=w+o},L=R.textAlign(c);let U,Y,te,ce,ye,pe,le;for(r.textAlign=c,r.textBaseline="middle",r.font=I.string,t.x=_M(this,L,i),r.fillStyle=i.bodyColor,Gi(this.beforeBody,O),x=u&&"right"!==L?"center"===c?g/2+_:g+2+_:0,ce=0,pe=s.length;ce<pe;++ce){for(U=s[ce],Y=this.labelTextColors[ce],r.fillStyle=Y,Gi(U.before,O),te=U.lines,u&&te.length&&(this._drawColorBox(r,t,ce,R,i),w=Math.max(I.lineHeight,h)),ye=0,le=te.length;ye<le;++ye)O(te[ye]),w=I.lineHeight;Gi(U.after,O)}x=0,w=I.lineHeight,Gi(this.afterBody,O),t.y-=o}drawFooter(t,r,i){const s=this.footer,o=s.length;let c,u;if(o){const h=wb(i.rtl,this.x,this.width);for(t.x=_M(this,i.footerAlign,i),t.y+=i.footerMarginTop,r.textAlign=h.textAlign(i.footerAlign),r.textBaseline="middle",c=Uo(i.footerFont),r.fillStyle=i.footerColor,r.font=c.string,u=0;u<o;++u)r.fillText(s[u],h.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,r,i,s){const{xAlign:o,yAlign:c}=this,{x:u,y:h}=t,{width:g,height:_}=i,{topLeft:I,topRight:w,bottomLeft:x,bottomRight:R}=ey(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(u+I,h),"top"===c&&this.drawCaret(t,r,i,s),r.lineTo(u+g-w,h),r.quadraticCurveTo(u+g,h,u+g,h+w),"center"===c&&"right"===o&&this.drawCaret(t,r,i,s),r.lineTo(u+g,h+_-R),r.quadraticCurveTo(u+g,h+_,u+g-R,h+_),"bottom"===c&&this.drawCaret(t,r,i,s),r.lineTo(u+x,h+_),r.quadraticCurveTo(u,h+_,u,h+_-x),"center"===c&&"left"===o&&this.drawCaret(t,r,i,s),r.lineTo(u,h+I),r.quadraticCurveTo(u,h,u+I,h),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const c=u2[t.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=dH(this,t),h=Object.assign({},c,this._size),g=hH(r,t,h),_=fH(t,h,g,r);(s._to!==_.x||o._to!==_.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ka(r.padding);r.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,s,r),tz(t,r.textDirection),o.y+=c.top,this.drawTitle(o,t,r),this.drawBody(o,t,r),this.drawFooter(o,t,r),nz(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const i=this._active,s=t.map(({datasetIndex:u,index:h})=>{const g=this.chart.getDatasetMeta(u);if(!g)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:g.data[h],index:h}}),o=!$D(i,s),c=this._positionChanged(s,r);(o||c)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],c=this._getActiveElements(t,o,r,i),u=this._positionChanged(c,t),h=r||!$D(c,o)||u;return h&&(this._active=c,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),h}_getActiveElements(t,r,i,s){const o=this.options;if("mouseout"===t.type)return[];if(!s)return r;const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,r){const{caretX:i,caretY:s,options:o}=this,c=u2[o.position].call(this,t,r);return!1!==c&&(i!==c.x||s!==c.y)}}return n.positioners=u2,n})();var _se={id:"tooltip",_element:mH,positioners:u2,afterInit(n,e,t){t&&(n.tooltip=new mH({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(!1===n.notifyPlugins("beforeTooltipDraw",t))return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){n.tooltip&&n.tooltip.handleEvent(e.event,e.replay,e.inChartArea)&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:hf,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:hf,beforeBody:hf,beforeLabel:hf,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Ti(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:hf,afterBody:hf,beforeFooter:hf,footer:hf,afterFooter:hf}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},yse=Object.freeze({__proto__:null,Decimation:Fie,Filler:rse,Legend:ose,SubTitle:lse,Title:cse,Tooltip:_se});class yM extends iy{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ti(e))return null;const r=this.getLabels();return((n,e)=>null===n?null:Yo(Math.round(n),0,e))(t=isFinite(t)&&r[t]===e?t:function bse(n,e,t,r){const i=n.indexOf(e);return-1===i?((n,e,t,r)=>("string"==typeof e?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t))(n,e,t,r):i!==n.lastIndexOf(e)?t:i}(r,e,Zr(t,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function _H(n,e,{horizontal:t,minRotation:r}){const i=Su(r),s=(t?Math.sin(i):Math.cos(i))||.001;return Math.min(e/s,.75*e*(""+n).length)}yM.id="category",yM.defaults={ticks:{callback:yM.prototype.getLabelForValue}};class vM extends iy{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ti(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=u=>i=t?i:u,c=u=>s=r?s:u;if(e){const u=Md(i),h=Md(s);u<0&&h<0?c(0):u>0&&h>0&&o(0)}if(i===s){let u=1;(s>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(u=Math.abs(.05*s)),c(s+u),e||o(i-u)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let i,{maxTicksLimit:t,stepSize:r}=e;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o=function Ese(n,e){const t=[],{bounds:i,step:s,min:o,max:c,precision:u,count:h,maxTicks:g,maxDigits:_,includeBounds:I}=n,w=s||1,x=g-1,{min:R,max:O}=e,L=!Ti(o),U=!Ti(c),Y=!Ti(h),te=(O-R)/(_+1);let ye,pe,le,Be,ce=_V((O-R)/x/w)*w;if(ce<1e-14&&!L&&!U)return[{value:R},{value:O}];Be=Math.ceil(O/ce)-Math.floor(R/ce),Be>x&&(ce=_V(Be*ce/x/w)*w),Ti(u)||(ye=Math.pow(10,u),ce=Math.ceil(ce*ye)/ye),"ticks"===i?(pe=Math.floor(R/ce)*ce,le=Math.ceil(O/ce)*ce):(pe=R,le=O),L&&U&&s&&function tte(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}((c-o)/s,ce/1e3)?(Be=Math.round(Math.min((c-o)/ce,g)),ce=(c-o)/Be,pe=o,le=c):Y?(pe=L?o:pe,le=U?c:le,Be=h-1,ce=(le-pe)/Be):(Be=(le-pe)/ce,Be=qI(Be,Math.round(Be),ce/1e3)?Math.round(Be):Math.ceil(Be));const nt=Math.max(vV(ce),vV(pe));ye=Math.pow(10,Ti(u)?nt:u),pe=Math.round(pe*ye)/ye,le=Math.round(le*ye)/ye;let se=0;for(L&&(I&&pe!==o?(t.push({value:o}),pe<o&&se++,qI(Math.round((pe+se*ce)*ye)/ye,o,_H(o,te,n))&&se++):pe<o&&se++);se<Be;++se)t.push({value:Math.round((pe+se*ce)*ye)/ye});return U&&I&&le!==c?t.length&&qI(t[t.length-1].value,c,_H(c,te,n))?t[t.length-1].value=c:t.push({value:c}):(!U||le===c)&&t.push({value:le}),t}({maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&yV(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return t2(e,this.chart.options.locale,this.options.ticks.format)}}class oF extends vM{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ho(e)?e:0,this.max=ho(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=Su(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function yH(n){return n/Math.pow(10,Math.floor(Hl(n)))==1}oF.id="linear",oF.defaults={ticks:{callback:iM.formatters.numeric}};class aF extends iy{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=vM.prototype.parse.apply(this,[e,t]);if(0!==r)return ho(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ho(e)?Math.max(0,e):null,this.max=ho(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,i=this.max;const s=u=>r=e?r:u,o=u=>i=t?i:u,c=(u,h)=>Math.pow(10,Math.floor(Hl(u))+h);r===i&&(r<=0?(s(1),o(10)):(s(c(r,-1)),o(c(i,1)))),r<=0&&s(c(i,-1)),i<=0&&o(c(r,1)),this._zero&&this.min!==this._suggestedMin&&r===c(this.min,0)&&s(c(r,-1)),this.min=r,this.max=i}buildTicks(){const e=this.options,r=function Ise(n,e){const t=Math.floor(Hl(e.max)),r=Math.ceil(e.max/Math.pow(10,t)),i=[];let s=Vl(n.min,Math.pow(10,Math.floor(Hl(e.min)))),o=Math.floor(Hl(s)),c=Math.floor(s/Math.pow(10,o)),u=o<0?Math.pow(10,Math.abs(o)):1;do{i.push({value:s,major:yH(s)}),++c,10===c&&(c=1,++o,u=o>=0?1:u),s=Math.round(c*Math.pow(10,o)*u)/u}while(o<t||o===t&&c<r);const h=Vl(n.max,s);return i.push({value:h,major:yH(s)}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&yV(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return void 0===e?"0":t2(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Hl(e),this._valueRange=Hl(this.max)-Hl(e)}getPixelForValue(e){return(void 0===e||0===e)&&(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Hl(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function cF(n){const e=n.ticks;if(e.display&&n.display){const t=ka(e.backdropPadding);return Zr(e.font&&e.font.size,ci.font.size)+t.height}return 0}function Cse(n,e,t){return t=ps(t)?t:[t],{w:Rte(n,e.string,t),h:t.length*e.lineHeight}}function vH(n,e,t,r,i){return n===r||n===i?{start:e-t/2,end:e+t/2}:n<r||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function xse(n,e,t,r,i){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let c=0,u=0;r.start<e.l?(c=(e.l-r.start)/s,n.l=Math.min(n.l,e.l-c)):r.end>e.r&&(c=(r.end-e.r)/s,n.r=Math.max(n.r,e.r+c)),i.start<e.t?(u=(e.t-i.start)/o,n.t=Math.min(n.t,e.t-u)):i.end>e.b&&(u=(i.end-e.b)/o,n.b=Math.max(n.b,e.b+u))}function Tse(n){return 0===n||180===n?"center":n<180?"left":"right"}function Dse(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}function Mse(n,e,t){return 90===t||270===t?n-=e/2:(t>270||t<90)&&(n-=e),n}function bH(n,e,t,r){const{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,ns);else{let s=n.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=n.getPointPosition(o,e),i.lineTo(s.x,s.y)}}aF.id="logarithmic",aF.defaults={ticks:{callback:iM.formatters.logarithmic,major:{enabled:!0}}};class d2 extends vM{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ka(cF(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=ho(e)&&!isNaN(e)?e:0,this.max=ho(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/cF(this.options))}generateTickLabels(e){vM.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{const i=gs(this.options.pointLabels.callback,[t,r],this);return i||0===i?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?function Sse(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],i=[],s=n._pointLabels.length,o=n.options.pointLabels,c=o.centerPointLabels?Os/s:0;for(let u=0;u<s;u++){const h=o.setContext(n.getPointLabelContext(u));i[u]=h.padding;const g=n.getPointPosition(u,n.drawingArea+i[u],c),_=Uo(h.font),I=Cse(n.ctx,_,n._pointLabels[u]);r[u]=I;const w=cl(n.getIndexAngle(u)+c),x=Math.round(SL(w));xse(t,e,w,vH(x,g.x,I.w,0,180),vH(x,g.y,I.h,90,270))}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=function Ase(n,e,t){const r=[],i=n._pointLabels.length,s=n.options,o=cF(s)/2,c=n.drawingArea,u=s.pointLabels.centerPointLabels?Os/i:0;for(let h=0;h<i;h++){const g=n.getPointPosition(h,c+o+t[h],u),_=Math.round(SL(cl(g.angle+Qs))),I=e[h],w=Mse(g.y,I.h,_),x=Tse(_),R=Dse(g.x,I.w,x);r.push({x:g.x,y:w,textAlign:x,left:R,top:w,right:R+I.w,bottom:w+I.h})}return r}(n,r,i)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){return cl(e*(ns/(this._pointLabels.length||1))+Su(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Ti(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ti(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return function Rse(n,e,t){return Sg(n,{label:t,index:e,type:"pointLabel"})}(this.getContext(),e,r)}}getPointPosition(e,t,r=0){const i=this.getIndexAngle(e)-Qs+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),bH(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:i}=t,s=this._pointLabels.length;let o,c,u;if(t.pointLabels.display&&function Nse(n,e){const{ctx:t,options:{pointLabels:r}}=n;for(let i=e-1;i>=0;i--){const s=r.setContext(n.getPointLabelContext(i)),o=Uo(s.font),{x:c,y:u,textAlign:h,left:g,top:_,right:I,bottom:w}=n._pointLabelItems[i],{backdropColor:x}=s;if(!Ti(x)){const R=ey(s.borderRadius),O=ka(s.backdropPadding);t.fillStyle=x;const L=g-O.left,U=_-O.top,Y=I-g+O.width,te=w-_+O.height;Object.values(R).some(ce=>0!==ce)?(t.beginPath(),JI(t,{x:L,y:U,w:Y,h:te,radius:R}),t.fill()):t.fillRect(L,U,Y,te)}J_(t,n._pointLabels[i],c,u+o.lineHeight/2,o,{color:s.color,textAlign:h,textBaseline:"middle"})}}(this,s),i.display&&this.ticks.forEach((h,g)=>{0!==g&&(c=this.getDistanceFromCenterForValue(h.value),function Pse(n,e,t,r){const i=n.ctx,s=e.circular,{color:o,lineWidth:c}=e;!s&&!r||!o||!c||t<0||(i.save(),i.strokeStyle=o,i.lineWidth=c,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),bH(n,t,s,r),i.closePath(),i.stroke(),i.restore())}(this,i.setContext(this.getContext(g-1)),c,s))}),r.display){for(e.save(),o=s-1;o>=0;o--){const h=r.setContext(this.getPointLabelContext(o)),{color:g,lineWidth:_}=h;!_||!g||(e.lineWidth=_,e.strokeStyle=g,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),u=this.getPointPosition(o,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((c,u)=>{if(0===u&&!t.reverse)return;const h=r.setContext(this.getContext(u)),g=Uo(h.font);if(s=this.getDistanceFromCenterForValue(this.ticks[u].value),h.showLabelBackdrop){e.font=g.string,o=e.measureText(c.label).width,e.fillStyle=h.backdropColor;const _=ka(h.backdropPadding);e.fillRect(-o/2-_.left,-s-g.size/2-_.top,o+_.width,g.size+_.height)}J_(e,c.label,0,-s,g,{color:h.color})}),e.restore()}drawTitle(){}}d2.id="radialLinear",d2.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:iM.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}},d2.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},d2.descriptors={angleLines:{_fallback:"grid"}};const bM={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rc=Object.keys(bM);function kse(n,e){return n-e}function wH(n,e){if(Ti(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let o=e;return"function"==typeof r&&(o=r(o)),ho(o)||(o="string"==typeof r?t.parse(o,r):t.parse(o)),null===o?null:(i&&(o="week"!==i||!_b(s)&&!0!==s?t.startOf(o,i):t.startOf(o,"isoWeek",s)),+o)}function EH(n,e,t,r){const i=Rc.length;for(let s=Rc.indexOf(n);s<i-1;++s){const o=bM[Rc[s]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(c*o.size))<=r)return Rc[s]}return Rc[i-1]}function IH(n,e,t){if(t){if(t.length){const{lo:r,hi:i}=AL(t,e);n[t[r]>=e?t[r]:t[i]]=!0}}else n[e]=!0}function CH(n,e,t){const r=[],i={},s=e.length;let o,c;for(o=0;o<s;++o)c=e[o],i[c]=o,r.push({value:c,major:!1});return 0!==s&&t?function Fse(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let c,u;for(c=s;c<=o;c=+i.add(c,1,r))u=t[c],u>=0&&(e[u].major=!0);return e}(n,r,i,t):r}let lF=(()=>{class n extends iy{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r){const i=t.time||(t.time={}),s=this._adapter=new Ere._date(t.adapters.date);s.init(r),$I(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return void 0===t?null:wH(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,i=t.time.unit||"day";let{min:s,max:o,minDefined:c,maxDefined:u}=this.getUserBounds();function h(g){!c&&!isNaN(g.min)&&(s=Math.min(s,g.min)),!u&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!u)&&(h(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&h(this.getMinMax(!1))),s=ho(s)&&!isNaN(s)?s:+r.startOf(Date.now(),i),o=ho(o)&&!isNaN(o)?o:+r.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],i=t[t.length-1]),{min:r,max:i}}buildTicks(){const t=this.options,r=t.time,i=t.ticks,s="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,u=function ste(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}(s,o,this.max);return this._unit=r.unit||(i.autoSkip?EH(r.minUnit,this.min,this.max,this._getLabelCapacity(o)):function Ose(n,e,t,r,i){for(let s=Rc.length-1;s>=Rc.indexOf(t);s--){const o=Rc[s];if(bM[o].common&&n._adapter.diff(i,r,o)>=e-1)return o}return Rc[t?Rc.indexOf(t):0]}(this,u.length,r.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function Lse(n){for(let e=Rc.indexOf(n)+1,t=Rc.length;e<t;++e)if(bM[Rc[e]].common)return Rc[e]}(this._unit):void 0,this.initOffsets(s),t.reverse&&u.reverse(),CH(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let s,o,r=0,i=0;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),r=1===t.length?1-s:(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),i=1===t.length?o:(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;r=Yo(r,0,c),i=Yo(i,0,c),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const t=this._adapter,r=this.min,i=this.max,s=this.options,o=s.time,c=o.unit||EH(o.minUnit,r,i,this._getLabelCapacity(r)),u=Zr(o.stepSize,1),h="week"===c&&o.isoWeekday,g=_b(h)||!0===h,_={};let w,x,I=r;if(g&&(I=+t.startOf(I,"isoWeek",h)),I=+t.startOf(I,g?"day":c),t.diff(i,r,c)>1e5*u)throw new Error(r+" and "+i+" are too far apart with stepSize of "+u+" "+c);const R="data"===s.ticks.source&&this.getDataTimestamps();for(w=I,x=0;w<i;w=+t.add(w,u,c),x++)IH(_,w,R);return(w===i||"ticks"===s.bounds||1===x)&&IH(_,w,R),Object.keys(_).sort((O,L)=>O-L).map(O=>+O)}getLabelForValue(t){const i=this.options.time;return this._adapter.format(t,i.tooltipFormat?i.tooltipFormat:i.displayFormats.datetime)}_tickFormatFunction(t,r,i,s){const o=this.options,c=o.time.displayFormats,u=this._unit,h=this._majorUnit,_=h&&c[h],I=i[r],x=this._adapter.format(t,s||(h&&_&&I&&I.major?_:u&&c[u])),R=o.ticks.callback;return R?gs(R,[x,r,i],this):x}generateTickLabels(t){let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r],s.label=this._tickFormatFunction(s.value,r,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(t){const r=this._offsets,i=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,i=this.ctx.measureText(t).width,s=Su(this.isHorizontal()?r.maxRotation:r.minRotation),o=Math.cos(s),c=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*c,h:i*c+u*o}}_getLabelCapacity(t){const r=this.options.time,i=r.displayFormats,s=i[r.unit]||i.millisecond,o=this._tickFormatFunction(t,0,CH(this,[t],this._majorUnit),s),c=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let r,i,t=this._cache.data||[];if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,i=s.length;r<i;++r)t=t.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,i;if(t.length)return t;const s=this.getLabels();for(r=0,i=s.length;r<i;++r)t.push(wH(this,s[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return IV(t.sort(kse))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function wM(n,e,t){let s,o,c,u,r=0,i=n.length-1;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=pf(n,"pos",e)),({pos:s,time:c}=n[r]),({pos:o,time:u}=n[i])):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=pf(n,"time",e)),({time:s,pos:c}=n[r]),({time:o,pos:u}=n[i]));const h=o-s;return h?c+(u-c)*(e-s)/h:c}class uF extends lF{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=wM(t,this.min),this._tableRange=wM(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let o,c,u,h,g;for(o=0,c=e.length;o<c;++o)h=e[o],h>=t&&h<=r&&i.push(h);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(o=0,c=i.length;o<c;++o)g=i[o+1],u=i[o-1],h=i[o],Math.round((g+u)/2)!==h&&s.push({time:h,pos:o/(c-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return e=t.length&&r.length?this.normalize(t.concat(r)):t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(wM(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return wM(this._table,r*this._tableRange+this._minPos,!0)}}uF.id="timeseries",uF.defaults=lF.defaults;const Use=[wre,Rie,yse,Object.freeze({__proto__:null,CategoryScale:yM,LinearScale:oF,LogarithmicScale:aF,RadialLinearScale:d2,TimeScale:lF,TimeSeriesScale:uF})],EM=function zse(n,e){return n===e||n!=n&&e!=e},IM=function Hse(n,e){for(var t=n.length;t--;)if(EM(n[t][0],e))return t;return-1};var Wse=Array.prototype.splice;function Ib(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ib.prototype.clear=function jse(){this.__data__=[],this.size=0},Ib.prototype.delete=function qse(n){var e=this.__data__,t=IM(e,n);return!(t<0||(t==e.length-1?e.pop():Wse.call(e,t,1),--this.size,0))},Ib.prototype.get=function Kse(n){var e=this.__data__,t=IM(e,n);return t<0?void 0:e[t][1]},Ib.prototype.has=function Yse(n){return IM(this.__data__,n)>-1},Ib.prototype.set=function Qse(n,e){var t=this.__data__,r=IM(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this};const CM=Ib,SH="object"==typeof global&&global&&global.Object===Object&&global;var loe="object"==typeof self&&self&&self.Object===Object&&self;const Cb=SH||loe||Function("return this")();var doe=Cb.Symbol,xH=Object.prototype,hoe=xH.hasOwnProperty,foe=xH.toString,h2=doe?doe.toStringTag:void 0;var _oe=Object.prototype.toString;var AH=doe?doe.toStringTag:void 0;const xM=function Eoe(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":AH&&AH in Object(n)?function poe(n){var e=hoe.call(n,h2),t=n[h2];try{n[h2]=void 0;var r=!0}catch{}var i=foe.call(n);return r&&(e?n[h2]=t:delete n[h2]),i}(n):function yoe(n){return _oe.call(n)}(n)},oy=function Ioe(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)},dF=function Toe(n){if(!oy(n))return!1;var e=xM(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},hF=Cb["__core-js_shared__"];var TH=function(){var n=/[^.]+$/.exec(hF&&hF.keys&&hF.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var Roe=Function.prototype.toString;var Foe=/^\[object .+?Constructor\]$/,zoe=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const $oe=function Hoe(n){return!(!oy(n)||function Moe(n){return!!TH&&TH in n}(n))&&(dF(n)?zoe:Foe).test(function koe(n){if(null!=n){try{return Roe.call(n)}catch{}try{return n+""}catch{}}return""}(n))},fF=function Goe(n,e){var t=function Woe(n,e){return n?.[e]}(n,e);return $oe(t)?t:void 0},DH=fF(Cb,"Map"),f2=fF(Object,"create");var nae=Object.prototype.hasOwnProperty;var oae=Object.prototype.hasOwnProperty;function Sb(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Sb.prototype.clear=function Yoe(){this.__data__=f2?f2(null):{},this.size=0},Sb.prototype.delete=function Qoe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e},Sb.prototype.get=function rae(n){var e=this.__data__;if(f2){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return nae.call(e,n)?e[n]:void 0},Sb.prototype.has=function aae(n){var e=this.__data__;return f2?void 0!==e[n]:oae.call(e,n)},Sb.prototype.set=function uae(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=f2&&void 0===e?"__lodash_hash_undefined__":e,this};const MH=Sb,AM=function mae(n,e){var t=n.__data__;return function pae(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}(e)?t["string"==typeof e?"string":"hash"]:t.map};function xb(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}xb.prototype.clear=function hae(){this.size=0,this.__data__={hash:new MH,map:new(DH||CM),string:new MH}},xb.prototype.delete=function _ae(n){var e=AM(this,n).delete(n);return this.size-=e?1:0,e},xb.prototype.get=function vae(n){return AM(this,n).get(n)},xb.prototype.has=function wae(n){return AM(this,n).has(n)},xb.prototype.set=function Iae(n,e){var t=AM(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this};const Sae=xb;function Ab(n){var e=this.__data__=new CM(n);this.size=e.size}Ab.prototype.clear=function eoe(){this.__data__=new CM,this.size=0},Ab.prototype.delete=function noe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t},Ab.prototype.get=function ioe(n){return this.__data__.get(n)},Ab.prototype.has=function ooe(n){return this.__data__.has(n)},Ab.prototype.set=function Aae(n,e){var t=this.__data__;if(t instanceof CM){var r=t.__data__;if(!DH||r.length<199)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Sae(r)}return t.set(n,e),this.size=t.size,this};const Dae=Ab;var Mae=function(){try{var n=fF(Object,"defineProperty");return n({},"",{}),n}catch{}}();const TM=Mae,pF=function Nae(n,e,t){"__proto__"==e&&TM?TM(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t},gF=function Pae(n,e,t){(void 0!==t&&!EM(n[e],t)||void 0===t&&!(e in n))&&pF(n,e,t)};var kae=function Rae(n){return function(e,t,r){for(var i=-1,s=Object(e),o=r(e),c=o.length;c--;){var u=o[n?c:++i];if(!1===t(s[u],u,s))break}return e}}();const Oae=kae;var NH="object"==typeof exports&&exports&&!exports.nodeType&&exports,PH=NH&&"object"==typeof module&&module&&!module.nodeType&&module,RH=PH&&PH.exports===NH?Cb.Buffer:void 0,kH=RH?RH.allocUnsafe:void 0;const OH=Cb.Uint8Array,Hae=function zae(n,e){var t=e?function jae(n){var e=new n.constructor(n.byteLength);return new OH(e).set(new OH(n)),e}(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)};var LH=Object.create,qae=function(){function n(){}return function(e){if(!oy(e))return{};if(LH)return LH(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const Gae=qae;var Zae=function Kae(n,e){return function(t){return n(e(t))}}(Object.getPrototypeOf,Object);const FH=Zae;var Yae=Object.prototype;const BH=function Xae(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||Yae)},p2=function ece(n){return null!=n&&"object"==typeof n},UH=function nce(n){return p2(n)&&"[object Arguments]"==xM(n)};var jH=Object.prototype,rce=jH.hasOwnProperty,ice=jH.propertyIsEnumerable,sce=UH(function(){return arguments}())?UH:function(n){return p2(n)&&rce.call(n,"callee")&&!ice.call(n,"callee")};const mF=sce,_F=Array.isArray,VH=function cce(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},yF=function lce(n){return null!=n&&VH(n.length)&&!dF(n)};var zH="object"==typeof exports&&exports&&!exports.nodeType&&exports,HH=zH&&"object"==typeof module&&module&&!module.nodeType&&module,$H=HH&&HH.exports===zH?Cb.Buffer:void 0;const WH=($H?$H.isBuffer:void 0)||function hce(){return!1};var qH=Function.prototype.toString,bce=Object.prototype.hasOwnProperty,wce=qH.call(Object);var Is={};Is["[object Float32Array]"]=Is["[object Float64Array]"]=Is["[object Int8Array]"]=Is["[object Int16Array]"]=Is["[object Int32Array]"]=Is["[object Uint8Array]"]=Is["[object Uint8ClampedArray]"]=Is["[object Uint16Array]"]=Is["[object Uint32Array]"]=!0,Is["[object Arguments]"]=Is["[object Array]"]=Is["[object ArrayBuffer]"]=Is["[object Boolean]"]=Is["[object DataView]"]=Is["[object Date]"]=Is["[object Error]"]=Is["[object Function]"]=Is["[object Map]"]=Is["[object Number]"]=Is["[object Object]"]=Is["[object RegExp]"]=Is["[object Set]"]=Is["[object String]"]=Is["[object WeakMap]"]=!1;var GH="object"==typeof exports&&exports&&!exports.nodeType&&exports,g2=GH&&"object"==typeof module&&module&&!module.nodeType&&module,vF=g2&&g2.exports===GH&&SH.process,Jce=function(){try{return g2&&g2.require&&g2.require("util").types||vF&&vF.binding&&vF.binding("util")}catch{}}(),ZH=Jce&&Jce.isTypedArray;const YH=ZH?function Yce(n){return function(e){return n(e)}}(ZH):function Kce(n){return p2(n)&&VH(n.length)&&!!Is[xM(n)]},bF=function tle(n,e){if(("constructor"!==e||"function"!=typeof n[e])&&"__proto__"!=e)return n[e]};var rle=Object.prototype.hasOwnProperty;const sle=function ile(n,e,t){var r=n[e];(!rle.call(n,e)||!EM(r,t)||void 0===t&&!(e in n))&&pF(n,e,t)};var dle=/^(?:0|[1-9]\d*)$/;const XH=function hle(n,e){var t=typeof n;return!!(e=e??9007199254740991)&&("number"==t||"symbol"!=t&&dle.test(n))&&n>-1&&n%1==0&&n<e};var ple=Object.prototype.hasOwnProperty;const mle=function gle(n,e){var t=_F(n),r=!t&&mF(n),i=!t&&!r&&WH(n),s=!t&&!r&&!i&&YH(n),o=t||r||i||s,c=o?function cle(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}(n.length,String):[],u=c.length;for(var h in n)(e||ple.call(n,h))&&(!o||!("length"==h||i&&("offset"==h||"parent"==h)||s&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||XH(h,u)))&&c.push(h);return c};var ble=Object.prototype.hasOwnProperty;const Ele=function wle(n){if(!oy(n))return function _le(n){var e=[];if(null!=n)for(var t in Object(n))e.push(t);return e}(n);var e=BH(n),t=[];for(var r in n)"constructor"==r&&(e||!ble.call(n,r))||t.push(r);return t},QH=function Ile(n){return yF(n)?mle(n,!0):Ele(n)},Sle=function Cle(n){return function ole(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var c=e[s],u=r?r(t[c],n[c],c,t,n):void 0;void 0===u&&(u=n[c]),i?pF(t,c,u):sle(t,c,u)}return t}(n,QH(n))},Ale=function xle(n,e,t,r,i,s,o){var c=bF(n,t),u=bF(e,t),h=o.get(u);if(h)gF(n,t,h);else{var g=s?s(c,u,t+"",n,e,o):void 0,_=void 0===g;if(_){var I=_F(u),w=!I&&WH(u),x=!I&&!w&&YH(u);g=u,I||w||x?_F(c)?g=c:function uce(n){return p2(n)&&yF(n)}(c)?g=function $ae(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}(c):w?(_=!1,g=function Fae(n,e){if(e)return n.slice();var t=n.length,r=kH?kH(t):new n.constructor(t);return n.copy(r),r}(u,!0)):x?(_=!1,g=Hae(u,!0)):g=[]:function Ece(n){if(!p2(n)||"[object Object]"!=xM(n))return!1;var e=FH(n);if(null===e)return!0;var t=bce.call(e,"constructor")&&e.constructor;return"function"==typeof t&&t instanceof t&&qH.call(t)==wce}(u)||mF(u)?(g=c,mF(c)?g=Sle(c):(!oy(c)||dF(c))&&(g=function Qae(n){return"function"!=typeof n.constructor||BH(n)?{}:Gae(FH(n))}(u))):_=!1}_&&(o.set(u,g),i(g,u,r,s,o),o.delete(u)),gF(n,t,g)}},Tle=function JH(n,e,t,r,i){n!==e&&Oae(e,function(s,o){if(i||(i=new Dae),oy(s))Ale(n,e,o,t,JH,r,i);else{var c=r?r(bF(n,o),s,o+"",n,e,i):void 0;void 0===c&&(c=s),gF(n,o,c)}},QH)},e$=function Dle(n){return n},Nle=function Mle(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)};var t$=Math.max;const Ole=function kle(n){return function(){return n}};var Lle=TM?function(n,e){return TM(n,"toString",{configurable:!0,enumerable:!1,value:Ole(e),writable:!0})}:e$,jle=Date.now,zle=function Vle(n){var e=0,t=0;return function(){var r=jle(),i=16-(r-t);if(t=r,i>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}(Lle);const Hle=zle,Wle=function $le(n,e){return Hle(function Ple(n,e,t){return e=t$(void 0===e?n.length-1:e,0),function(){for(var r=arguments,i=-1,s=t$(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=r[i];return c[e]=t(o),Nle(n,this,c)}}(n,e,e$),n+"")};var Zle=function Kle(n){return Wle(function(e,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(s=n.length>3&&"function"==typeof s?(i--,s):void 0,o&&function qle(n,e,t){if(!oy(t))return!1;var r=typeof e;return!!("number"==r?yF(t)&&XH(e,t.length):"string"==r&&e in t)&&EM(t[e],n)}(t[0],t[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var c=t[r];c&&n(e,c,r,s)}return e})}(function(n,e,t){Tle(n,e,t)});const Yle=Zle,Xle=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],Qle={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:n=>Tg(Dg(n.datasetIndex),.4),borderColor:n=>Tg(Dg(n.datasetIndex),1),pointBackgroundColor:n=>Tg(Dg(n.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:n=>Tg(Dg(n.datasetIndex),.6),borderColor:n=>Tg(Dg(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>Tg(Dg(n.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>Tg(Dg(n.dataIndex),.6),borderColor:n=>Tg(Dg(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Tg(n,e){return"rgba("+n.concat(e).join(",")+")"}function wF(n,e){return Math.floor(Math.random()*(e-n+1))+n}function Dg(n=0){return Xle[n]||function Jle(){return[wF(0,255),wF(0,255),wF(0,255)]}()}let n$=(()=>{class n{constructor(){this.generateColors=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();hM.register(...Use);let eue=(()=>{class n{constructor(t){t?.plugins&&hM.register(...t?.plugins);const r=Yle(t?.generateColors?Qle:{},t?.defaults||{});ci.set(r)}static forRoot(t){return{ngModule:n,providers:[{provide:n$,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(n$,8))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();const r$_firebase={projectId:"borientm-cv",appId:"1:359677615493:web:745586f67391821e4478ec",storageBucket:"borientm-cv.appspot.com",apiKey:"AIzaSyDCWLQaup2grI57RLRW0GWL2WGV0vadPxw",authDomain:"borientm-cv.firebaseapp.com",messagingSenderId:"359677615493"},i$="firebasestorage.googleapis.com",s$="storageBucket";class Ws extends ne.ZR{constructor(e,t,r=0){super(EF(e),`Firebase Storage: ${t} (${EF(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ws.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return EF(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function EF(n){return"storage/"+n}function IF(){return new Ws("unknown","An unknown error occurred, please check the error payload for server response.")}function o$(){return new Ws("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function a$(){return new Ws("canceled","User canceled the upload/download.")}function c$(){return new Ws("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Tb(n){return new Ws("invalid-argument",n)}function l$(){return new Ws("app-deleted","The Firebase app was deleted.")}function u$(n){return new Ws("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function m2(n,e){return new Ws("invalid-format","String does not match format '"+n+"': "+e)}function _2(n){throw new Ws("internal-error","Internal error: "+n)}class La{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=La.makeFromUrl(e,t)}catch{return new La(e,"")}if(""===r.path)return r;throw function uue(n){return new Ws("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+i+"(/(.*))?$","i");function h(te){te.path_=decodeURIComponent(te.path)}const _=t.replace(/[.]/g,"\\."),Y=[{regex:c,indices:{bucket:1,path:3},postModify:function s(te){"/"===te.path.charAt(te.path.length-1)&&(te.path_=te.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${_}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:h},{regex:new RegExp(`^https?://${t===i$?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:h}];for(let te=0;te<Y.length;te++){const ce=Y[te],ye=ce.regex.exec(e);if(ye){let le=ye[ce.indices.path];le||(le=""),r=new La(ye[ce.indices.bucket],le),ce.postModify(r);break}}if(null==r)throw function lue(n){return new Ws("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class gue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function DM(n){return"string"==typeof n||n instanceof String}function d$(n){return CF()&&n instanceof Blob}function CF(){return typeof Blob<"u"&&!(0,ne.UG)()}function SF(n,e,t,r){if(r<e)throw Tb(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Tb(`Invalid value for '${n}'. Expected ${t} or less.`)}function yf(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function h$(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Mg=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Mg||(Mg={})),Mg))();function f$(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class wue{constructor(e,t,r,i,s,o,c,u,h,g,_,I=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=g,this.connectionFactory_=_,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,x)=>{this.resolve_=w,this.reject_=x,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());!function yue(n){return void 0!==n}(u)?s():s(u)}catch(u){o(u)}else if(null!==c){const u=IF();u.serverResponse=c.getErrorText(),o(this.errorCallback_?this.errorCallback_(c,u):u)}else o(i.canceled?this.appDelete_?l$():a$():o$())};this.canceled_?t(0,new MM(!1,null,!0)):this.backoffId_=function mue(n,e,t){let r=1,i=null,s=null,o=!1,c=0;function u(){return 2===c}let h=!1;function g(...O){h||(h=!0,e.apply(null,O))}function _(O){i=setTimeout(()=>{i=null,n(w,u())},O)}function I(){s&&clearTimeout(s)}function w(O,...L){if(h)return void I();if(O)return I(),void g.call(null,O,...L);if(u()||o)return I(),void g.call(null,O,...L);let Y;r<64&&(r*=2),1===c?(c=2,Y=0):Y=1e3*(r+Math.random()),_(Y)}let x=!1;function R(O){x||(x=!0,I(),!h&&(null!==i?(O||(c=2),clearTimeout(i),_(0)):O||(c=1)))}return _(0),s=setTimeout(()=>{o=!0,R(!0)},t),R}((r,i)=>{if(i)return void r(!1,new MM(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{null!==this.progressCallback_&&this.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===Mg.NO_ERROR,u=s.getStatus();if((!c||f$(u,this.additionalRetryCodes_))&&this.retry){const g=s.getErrorCode()===Mg.ABORT;return void r(!1,new MM(!1,null,g))}const h=-1!==this.successCodes_.indexOf(u);r(!0,new MM(h,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function _ue(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class MM{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Tue(...n){const e=function Aue(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(CF())return new Blob(n);throw new Ws("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ll={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xF{constructor(e,t){this.data=e,this.contentType=t||null}}function AF(n,e){switch(n){case ll.RAW:return new xF(p$(e));case ll.BASE64:case ll.BASE64URL:return new xF(g$(n,e));case ll.DATA_URL:return new xF(function Pue(n){const e=new m$(n);return e.base64?g$(ll.BASE64,e.rest):function Nue(n){let e;try{e=decodeURIComponent(n)}catch{throw m2(ll.DATA_URL,"Malformed data URL.")}return p$(e)}(e.rest)}(e),function Rue(n){return new m$(n).contentType}(e))}throw IF()}function p$(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function g$(n,e){switch(n){case ll.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw m2(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ll.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw m2(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Mue(n){if(typeof atob>"u")throw function pue(n){return new Ws("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:m2(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class m${constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw m2(ll.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function kue(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class kd{constructor(e,t){let r=0,i="";d$(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(d$(this.data_)){const i=function Due(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new kd(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new kd(r,!0)}}static getBlob(...e){if(CF()){const t=e.map(r=>r instanceof kd?r.data_:r);return new kd(Tue.apply(null,t))}{const t=e.map(o=>DM(o)?AF(ll.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let c=0;c<o.length;c++)i[s++]=o[c]}),new kd(i,!0)}}uploadData(){return this.data_}}function TF(n){let e;try{e=JSON.parse(n)}catch{return null}return function bue(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function _$(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Fue(n,e){return e}class ec{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||Fue}}let NM=null;function y2(){if(NM)return NM;const n=[];n.push(new ec("bucket")),n.push(new ec("generation")),n.push(new ec("metageneration")),n.push(new ec("name","fullPath",!0));const t=new ec("name");t.xform=function e(s,o){return function Bue(n){return!DM(n)||n.length<2?n:_$(n)}(o)},n.push(t);const i=new ec("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},n.push(i),n.push(new ec("timeCreated")),n.push(new ec("updated")),n.push(new ec("md5Hash",null,!0)),n.push(new ec("cacheControl",null,!0)),n.push(new ec("contentDisposition",null,!0)),n.push(new ec("contentEncoding",null,!0)),n.push(new ec("contentLanguage",null,!0)),n.push(new ec("contentType",null,!0)),n.push(new ec("metadata","customMetadata",!0)),NM=n,NM}function y$(n,e,t){const r=TF(e);return null===r?null:function jue(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return function Uue(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new La(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function DF(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const v$="prefixes";class Od{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ld(n){if(!n)throw IF()}function PM(n,e){return function t(r,i){const s=y$(n,i,e);return Ld(null!==s),s}}function Db(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function aue(){return new Ws("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function oue(){return new Ws("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function sue(n){return new Ws("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function cue(n){return new Ws("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function v2(n){const e=Db(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function iue(n){return new Ws("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function w$(n,e,t){const i=yf(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,c=new Od(i,"GET",PM(n,t),o);return c.errorHandler=v2(e),c}function que(n,e,t,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const c=yf(e.bucketOnlyServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,g=new Od(c,"GET",function $ue(n,e){return function t(r,i){const s=function Hue(n,e,t){const r=TF(t);return null===r?null:function zue(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[v$])for(const i of t[v$]){const s=i.replace(/\/$/,""),o=n._makeStorageReference(new La(e,s));r.prefixes.push(o)}if(t.items)for(const i of t.items){const s=n._makeStorageReference(new La(e,i.name));r.items.push(s)}return r}(n,e,r)}(n,e,i);return Ld(null!==s),s}}(n,e.bucket),h);return g.urlParams=s,g.errorHandler=Db(e),g}function I$(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function Yue(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class RM{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function MF(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Ld(!1)}return Ld(!!t&&-1!==(e||["active"]).indexOf(t)),t}const ede={STATE_CHANGED:"state_changed"},tc={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function NF(n){switch(n){case"running":case"pausing":case"canceling":return tc.RUNNING;case"paused":return tc.PAUSED;case"success":return tc.SUCCESS;case"canceled":return tc.CANCELED;default:return tc.ERROR}}class tde{constructor(e,t,r){if(function vue(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Mb(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class nde{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mg.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Mg.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Mg.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw _2("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _2("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _2("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _2("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _2("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class rde extends nde{initXhr(){this.xhr_.responseType="text"}}function Au(){return new rde}class A${constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=y2(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(f$(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=o$()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function Xue(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o=I$(e,r,i),c={name:o.fullPath},u=yf(s,n.host,n._protocol),g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},_=DF(o,t),x=new Od(u,"POST",function w(R){let O;MF(R);try{O=R.getResponseHeader("X-Goog-Upload-URL")}catch{Ld(!1)}return Ld(DM(O)),O},n.maxUploadRetryTime);return x.urlParams=c,x.headers=g,x.body=_,x.errorHandler=Db(e),x}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Au,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function Que(n,e,t,r){const u=new Od(t,"POST",function s(h){const g=MF(h,["active","final"]);let _=null;try{_=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ld(!1)}_||Ld(!1);const I=Number(_);return Ld(!isNaN(I)),new RM(I,r.size(),"final"===g)},n.maxUploadRetryTime);return u.headers={"X-Goog-Upload-Command":"query"},u.errorHandler=Db(e),u}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Au,t,r);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new RM(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=function Jue(n,e,t,r,i,s,o,c){const u=new RM(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw function hue(){return new Ws("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const h=u.total-u.current;let g=h;i>0&&(g=Math.min(g,i));const _=u.current;let w="";w=0===g?"finalize":h===g?"upload, finalize":"upload";const x={"X-Goog-Upload-Command":w,"X-Goog-Upload-Offset":`${u.current}`},R=r.slice(_,_+g);if(null===R)throw c$();const Y=new Od(t,"POST",function O(te,ce){const ye=MF(te,["active","final"]),pe=u.current+g,le=r.size();let Be;return Be="final"===ye?PM(e,s)(te,ce):null,new RM(pe,le,"final"===ye,Be)},e.maxUploadRetryTime);return Y.headers=x,Y.body=R.uploadData(),Y.progressCallback=c||null,Y.errorHandler=Db(n),Y}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(u){return this._error=u,void this._transition("error")}const c=this._ref.storage._makeRequest(o,Au,i,s,!1);this._request=c,c.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=w$(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Au,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function C$(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},u=function c(){let Y="";for(let te=0;te<2;te++)Y+=Math.random().toString().slice(2);return Y}();o["Content-Type"]="multipart/related; boundary="+u;const h=I$(e,r,i),g=DF(h,t),w=kd.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+g+"\r\n--"+u+"\r\nContent-Type: "+h.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===w)throw c$();const x={name:h.fullPath},R=yf(s,n.host,n._protocol),L=n.maxUploadRetryTime,U=new Od(R,"POST",PM(n,t),L);return U.urlParams=x,U.headers=o,U.body=w.uploadData(),U.errorHandler=Db(e),U}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Au,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=a$(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=NF(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new tde(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(NF(this._state)){case tc.SUCCESS:Mb(this._resolve.bind(null,this.snapshot))();break;case tc.CANCELED:case tc.ERROR:Mb(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(NF(this._state)){case tc.RUNNING:case tc.PAUSED:e.next&&Mb(e.next.bind(e,this.snapshot))();break;case tc.SUCCESS:e.complete&&Mb(e.complete.bind(e))();break;default:e.error&&Mb(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class ay{constructor(e,t){this._service=e,this._location=t instanceof La?t:La.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ay(e,t)}get root(){const e=new La(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _$(this._location.path)}get storage(){return this._service}get parent(){const e=function Oue(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new La(this._location.bucket,e);return new ay(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw u$(e)}}function D$(n,e,t){return PF.apply(this,arguments)}function PF(){return PF=(0,_t.Z)(function*(n,e,t){const i=yield M$(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield D$(n,e,i.nextPageToken))}),PF.apply(this,arguments)}function M$(n,e){null!=e&&"number"==typeof e.maxResults&&SF("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=que(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Au)}function gde(n){n._throwIfRoot("getDownloadURL");const e=function Gue(n,e,t){const i=yf(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,c=new Od(i,"GET",function Wue(n,e){return function t(r,i){const s=y$(n,i,e);return Ld(null!==s),function Vue(n,e,t,r){const i=TF(e);if(null===i||!DM(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const _=n.fullPath;return yf("/b/"+o(n.bucket)+"/o/"+o(_),t,r)+h$({alt:"media",token:h})})[0]}(s,i,n.host,n._protocol)}}(n,t),o);return c.errorHandler=v2(e),c}(n.storage,n._location,y2());return n.storage.makeRequestWithTokens(e,Au).then(t=>{if(null===t)throw function fue(){return new Ws("no-download-url","The given file does not have any download URLs.")}();return t})}function N$(n,e){const t=function Lue(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new La(n._location.bucket,t);return new ay(n.storage,r)}function P$(n,e){if(n instanceof RF){const t=n;if(null==t._bucket)throw function due(){return new Ws("no-default-bucket","No default bucket found. Did you set the '"+s$+"' property when initializing the app?")}();const r=new ay(t,t._bucket);return null!=e?P$(r,e):r}return void 0!==e?N$(n,e):n}function vde(n,e){if(e&&function _de(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof RF)return function yde(n,e){return new ay(n,e)}(n,e);throw Tb("To use ref(service, url), the first argument must be a Storage instance.")}return P$(n,e)}function R$(n,e){const t=e?.[s$];return null==t?null:La.makeFromBucketSpec(t,n)}class RF{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=i$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?La.makeFromBucketSpec(i,this._host):R$(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?La.makeFromBucketSpec(this._url,e):R$(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,_t.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,_t.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ay(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new gue(l$());{const o=function xue(n,e,t,r,i,s,o=!0){const c=h$(n.urlParams),u=n.url+c,h=Object.assign({},n.headers);return function Cue(n,e){e&&(n["X-Firebase-GMPID"]=e)}(h,e),function Eue(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(h,t),function Iue(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(h,s),function Sue(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(h,r),new wue(u,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var r=this;return(0,_t.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const k$="@firebase/storage",L$="storage";function F$(n,e){return vde(n=(0,ne.m9)(n),e)}function Dde(n=(0,gi.getApp)(),e){n=(0,ne.m9)(n);const r=(0,gi._getProvider)(n,L$).getImmediate({identifier:e}),i=(0,ne.P0)("storage");return i&&B$(r,...i),r}function B$(n,e,t,r={}){!function bde(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,ne.Sg)(i,n.app.options.projectId))}(n,e,t,r)}function Mde(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new RF(t,r,i,e,gi.SDK_VERSION)}!function Nde(){(0,gi._registerComponent)(new yo.wA(L$,Mde,"PUBLIC").setMultipleInstances(!0)),(0,gi.registerVersion)(k$,"0.10.0",""),(0,gi.registerVersion)(k$,"0.10.0","esm2017")}();class kM{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class U${constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new kM(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new kM(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(s="function"==typeof t?o=>t(new kM(o,this,this._ref)):{next:t.next?o=>t.next(new kM(o,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class j${constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new vf(e,this._service))}get items(){return this._delegate.items.map(e=>new vf(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class vf{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function Tde(n,e){return N$(n,e)}(this._delegate,e);return new vf(t,this.storage)}get root(){return new vf(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new vf(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new U$(function wde(n,e,t){return function ude(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new A$(n,new kd(e),t)}(n=(0,ne.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=ll.RAW,r){this._throwIfRoot("putString");const i=AF(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new U$(new A$(this._delegate,new kd(i.data,!0),s),this)}listAll(){return function Sde(n){return function hde(n){const e={prefixes:[],items:[]};return D$(n,e).then(()=>e)}(n=(0,ne.m9)(n))}(this._delegate).then(e=>new j$(e,this.storage))}list(e){return function Cde(n,e){return M$(n=(0,ne.m9)(n),e)}(this._delegate,e||void 0).then(t=>new j$(t,this.storage))}getMetadata(){return function Ede(n){return function fde(n){n._throwIfRoot("getMetadata");const e=w$(n.storage,n._location,y2());return n.storage.makeRequestWithTokens(e,Au)}(n=(0,ne.m9)(n))}(this._delegate)}updateMetadata(e){return function Ide(n,e){return function pde(n,e){n._throwIfRoot("updateMetadata");const t=function Kue(n,e,t,r){const s=yf(e.fullServerUrl(),n.host,n._protocol),c=DF(t,r),h=n.maxOperationRetryTime,g=new Od(s,"PATCH",PM(n,r),h);return g.headers={"Content-Type":"application/json; charset=utf-8"},g.body=c,g.errorHandler=v2(e),g}(n.storage,n._location,e,y2());return n.storage.makeRequestWithTokens(t,Au)}(n=(0,ne.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function xde(n){return gde(n=(0,ne.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ade(n){return function mde(n){n._throwIfRoot("deleteObject");const e=function Zue(n,e){const r=yf(e.fullServerUrl(),n.host,n._protocol),c=new Od(r,"DELETE",function o(u,h){},n.maxOperationRetryTime);return c.successCodes=[200,204],c.errorHandler=v2(e),c}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Au)}(n=(0,ne.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw u$(e)}}class V${constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(z$(e))throw Tb("ref() expected a child path but got a URL, use refFromURL instead.");return new vf(F$(this._delegate,e),this)}refFromURL(e){if(!z$(e))throw Tb("refFromURL() expected a full URL but got a child path, use ref() instead.");try{La.makeFromUrl(e,this._delegate.host)}catch{throw Tb("refFromUrl() expected a valid full URL but got an invalid one.")}return new vf(F$(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){B$(this._delegate,e,t,r)}}function z$(n){return/^[A-Za-z]+:\/\//.test(n)}function Ode(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new V$(t,r)}function H$(n){const e=function Fde(n){return new Ko.y(e=>{const t=o=>e.next(o);t(n.snapshot);const s=n.on("state_changed",t);return n.then(o=>{t(o),e.complete()},o=>{t(n.snapshot),(o=>{e.error(o)})(o)}),function(){s()}}).pipe(Th(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,In.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function OM(n){return{getDownloadURL:()=>vn(void 0).pipe(Xt.fc,Ji(()=>n.getDownloadURL()),Xt.iC),getMetadata:()=>vn(void 0).pipe(Xt.fc,Ji(()=>n.getMetadata()),Xt.iC),delete:()=>(0,Li.D)(n.delete()),child:e=>OM(n.child(e)),updateMetadata:e=>(0,Li.D)(n.updateMetadata(e)),put:(e,t)=>H$(n.put(e,t)),putString:(e,t,r)=>H$(n.putString(e,t,r)),list:e=>(0,Li.D)(n.list(e)),listAll:()=>(0,Li.D)(n.listAll())}}!function Lde(n){const e={TaskState:tc,TaskEvent:ede,StringFormat:ll,Storage:V$,Reference:vf};n.INTERNAL.registerComponent(new yo.wA("storage-compat",Ode,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.2.0")}(SE.Z);const Bde=new p.OlP("angularfire2.storageBucket"),Ude=new p.OlP("angularfire2.storage.maxUploadRetryTime"),jde=new p.OlP("angularfire2.storage.maxOperationRetryTime"),Vde=new p.OlP("angularfire2.storage.use-emulator");let zde=(()=>{class n{constructor(t,r,i,s,o,c,u,h,g,_){const I=(0,ls.on)(t,o,r);this.storage=(0,ls.cc)(`${I.name}.storage.${i}`,"AngularFireStorage",I.name,()=>{const w=o.runOutsideAngular(()=>I.storage(i||void 0)),x=g;return x&&w.useEmulator(...x),u&&w.setMaxUploadRetryTime(u),h&&w.setMaxOperationRetryTime(h),w},[u,h])}ref(t){return OM(this.storage.ref(t))}refFromURL(t){return OM(this.storage.refFromURL(t))}upload(t,r,i){return OM(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ls.Dh),p.LFG(ls.xv,8),p.LFG(Bde,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Xt.HU),p.LFG(Ude,8),p.LFG(jde,8),p.LFG(Vde,8),p.LFG(Dd,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Hde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})(),$de=(()=>{class n{constructor(){AD.Z.registerVersion("angularfire",Xt.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[zde],imports:[Hde]}),n})();function LM(){return(0,Ys.e)((n,e)=>{let t,r=!1;n.subscribe((0,bs.x)(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var er,Wde=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bf={},kF=kF||{},kr=Wde||self;function FM(){}function BM(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function b2(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var OF="closure_uid_"+(1e9*Math.random()>>>0),Gde=0;function Kde(n,e,t){return n.call.apply(n.bind,arguments)}function Zde(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Fa(n,e,t){return(Fa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kde:Zde).apply(null,arguments)}function UM(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function _a(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),c=2;c<arguments.length;c++)o[c-2]=arguments[c];return e.prototype[i].apply(r,o)}}function Ng(){this.s=this.s,this.o=this.o}Ng.prototype.s=!1,Ng.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function qde(n){Object.prototype.hasOwnProperty.call(n,OF)&&n[OF]||(n[OF]=++Gde)}(this)},Ng.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $$=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function LF(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function W$(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(BM(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Ba(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ba.prototype.h=function(){this.defaultPrevented=!0};var Xde=function(){if(!kr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kr.addEventListener("test",FM,e),kr.removeEventListener("test",FM,e)}catch{}return n}();function jM(n){return/^[\s\xa0]*$/.test(n)}var q$=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function FF(n,e){return n<e?-1:n>e?1:0}function VM(){var n=kr.navigator;return n&&(n=n.userAgent)?n:""}function Fd(n){return-1!=VM().indexOf(n)}function BF(n){return BF[" "](n),n}BF[" "]=FM;var zM,Jde=Fd("Opera"),Nb=Fd("Trident")||Fd("MSIE"),G$=Fd("Edge"),UF=G$||Nb,K$=Fd("Gecko")&&!(-1!=VM().toLowerCase().indexOf("webkit")&&!Fd("Edge"))&&!(Fd("Trident")||Fd("MSIE"))&&!Fd("Edge"),ehe=-1!=VM().toLowerCase().indexOf("webkit")&&!Fd("Edge");function Z$(){var n=kr.document;return n?n.documentMode:void 0}e:{var jF="",VF=function(){var n=VM();return K$?/rv:([^\);]+)(\)|;)/.exec(n):G$?/Edge\/([\d\.]+)/.exec(n):Nb?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ehe?/WebKit\/(\S+)/.exec(n):Jde?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(VF&&(jF=VF?VF[1]:""),Nb){var zF=Z$();if(null!=zF&&zF>parseFloat(jF)){zM=String(zF);break e}}zM=jF}var the={};var rhe=kr.document&&Nb&&(Z$()||parseInt(zM,10))||void 0;function w2(n,e){if(Ba.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(K$){e:{try{BF(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ihe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&w2.X.h.call(this)}}_a(w2,Ba);var ihe={2:"touch",3:"pen",4:"mouse"};w2.prototype.h=function(){w2.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var E2="closure_listenable_"+(1e6*Math.random()|0),she=0;function ohe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++she,this.ba=this.ea=!1}function HM(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function $F(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function X$(n){const e={};for(const t in n)e[t]=n[t];return e}const Q$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J$(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<Q$.length;s++)t=Q$[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function $M(n){this.src=n,this.g={},this.h=0}function WF(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=$$(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(HM(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function qF(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}$M.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=qF(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new ohe(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var GF="closure_lm_"+(1e6*Math.random()|0),KF={};function e9(n,e,t,r,i){if(r&&r.once)return n9(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)e9(n,e[s],t,r,i);return null}return t=QF(t),n&&n[E2]?n.N(e,t,b2(r)?!!r.capture:!!r,i):t9(n,e,t,!1,r,i)}function t9(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=b2(i)?!!i.capture:!!i,c=YF(n);if(c||(n[GF]=c=new $M(n)),(t=c.add(e,t,r,o,s)).proxy)return t;if(r=function ahe(){const e=che;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Xde||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(i9(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function n9(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)n9(n,e[s],t,r,i);return null}return t=QF(t),n&&n[E2]?n.O(e,t,b2(r)?!!r.capture:!!r,i):t9(n,e,t,!0,r,i)}function r9(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)r9(n,e[s],t,r,i);else r=b2(r)?!!r.capture:!!r,t=QF(t),n&&n[E2]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=qF(s=n.g[e],t,r,i))&&(HM(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=YF(n))&&(e=n.g[e.toString()],n=-1,e&&(n=qF(e,t,r,i)),(t=-1<n?e[n]:null)&&ZF(t))}function ZF(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[E2])WF(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(i9(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=YF(e))?(WF(t,n),0==t.h&&(t.src=null,e[GF]=null)):HM(n)}}}function i9(n){return n in KF?KF[n]:KF[n]="on"+n}function che(n,e){if(n.ba)n=!0;else{e=new w2(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&ZF(n),n=t.call(r,e)}return n}function YF(n){return(n=n[GF])instanceof $M?n:null}var XF="__closure_events_fn_"+(1e9*Math.random()>>>0);function QF(n){return"function"==typeof n?n:(n[XF]||(n[XF]=function(e){return n.handleEvent(e)}),n[XF])}function Xo(){Ng.call(this),this.i=new $M(this),this.P=this,this.I=null}function ya(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ba(e,n);else if(e instanceof Ba)e.target=e.target||n;else{var i=e;J$(e=new Ba(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=WM(o,r,!0,e)&&i}if(i=WM(o=e.g=n,r,!0,e)&&i,i=WM(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=WM(o=e.g=t[s],r,!1,e)&&i}function WM(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var c=o.listener,u=o.ha||o.src;o.ea&&WF(n.i,o),i=!1!==c.call(u,r)&&i}}return i&&!r.defaultPrevented}_a(Xo,Ng),Xo.prototype[E2]=!0,Xo.prototype.removeEventListener=function(n,e,t,r){r9(this,n,e,t,r)},Xo.prototype.M=function(){if(Xo.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)HM(t[r]);delete n.g[e],n.h--}}this.I=null},Xo.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Xo.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var JF=kr.JSON.stringify;function lhe(){var n=a9;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var e3,s9=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new dhe,n=>n.reset());class dhe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hhe(n){kr.setTimeout(()=>{throw n},0)}function o9(n,e){e3||function fhe(){var n=kr.Promise.resolve(void 0);e3=function(){n.then(phe)}}(),t3||(e3(),t3=!0),a9.add(n,e)}var t3=!1,a9=new class uhe{constructor(){this.h=this.g=null}add(e,t){const r=s9.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function phe(){for(var n;n=lhe();){try{n.h.call(n.g)}catch(t){hhe(t)}var e=s9;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}t3=!1}function qM(n,e){Xo.call(this),this.h=n||1,this.g=e||kr,this.j=Fa(this.lb,this),this.l=Date.now()}function n3(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function r3(n,e,t){if("function"==typeof n)t&&(n=Fa(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Fa(n.handleEvent,n)}return 2147483647<Number(e)?-1:kr.setTimeout(n,e||0)}function c9(n){n.g=r3(()=>{n.g=null,n.i&&(n.i=!1,c9(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}_a(qM,Xo),(er=qM.prototype).ca=!1,er.R=null,er.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ya(this,"tick"),this.ca&&(n3(this),this.start()))}},er.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},er.M=function(){qM.X.M.call(this),n3(this),delete this.g};class ghe extends Ng{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:c9(this)}M(){super.M(),this.g&&(kr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function I2(n){Ng.call(this),this.h=n,this.g={}}_a(I2,Ng);var l9=[];function u9(n,e,t,r){Array.isArray(t)||(t&&(l9[0]=t.toString()),t=l9);for(var i=0;i<t.length;i++){var s=e9(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function d9(n){$F(n.g,function(e,t){this.g.hasOwnProperty(t)&&ZF(e)},n),n.g={}}function GM(){this.g=!0}function Pb(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vhe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return JF(t)}catch{return e}}(n,t)+(r?" "+r:"")})}I2.prototype.M=function(){I2.X.M.call(this),d9(this)},I2.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},GM.prototype.Aa=function(){this.g=!1},GM.prototype.info=function(){};var cy={},h9=null;function KM(){return h9=h9||new Xo}function f9(n){Ba.call(this,cy.Pa,n)}function C2(n){const e=KM();ya(e,new f9(e))}function p9(n,e){Ba.call(this,cy.STAT_EVENT,n),this.stat=e}function nc(n){const e=KM();ya(e,new p9(e,n))}function g9(n,e){Ba.call(this,cy.Qa,n),this.size=e}function S2(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return kr.setTimeout(function(){n()},e)}cy.Pa="serverreachability",_a(f9,Ba),cy.STAT_EVENT="statevent",_a(p9,Ba),cy.Qa="timingevent",_a(g9,Ba);var ZM={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},m9={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function s3(){}function y9(){}s3.prototype.h=null;var c3,x2={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function o3(){Ba.call(this,"d")}function a3(){Ba.call(this,"c")}function YM(){}function A2(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new I2(this),this.O=bhe,this.T=new qM(n=UF?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new v9}function v9(){this.i=null,this.g="",this.h=!1}_a(o3,Ba),_a(a3,Ba),_a(YM,s3),YM.prototype.g=function(){return new XMLHttpRequest},YM.prototype.i=function(){return{}},c3=new YM;var bhe=45e3,l3={},XM={};function u3(n,e,t){n.K=1,n.v=t5(wf(e)),n.s=t,n.P=!0,b9(n,null)}function b9(n,e){n.F=Date.now(),T2(n),n.A=wf(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),M9(t.i,"t",r),n.C=0,t=n.l.H,n.h=new v9,n.g=eW(n.l,t?e:null,!n.s),0<n.N&&(n.L=new ghe(Fa(n.La,n,n.g),n.N)),u9(n.S,n.g,"readystatechange",n.ib),e=n.H?X$(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),C2(),function mhe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",c=s.split("&"),u=0;u<c.length;u++){var h=c[u].split("=");if(1<h.length){var g=h[0];h=h[1];var _=g.split("_");o=2<=_.length&&"type"==_[1]?o+(g+"=")+h+"&":o+(g+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function w9(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function E9(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=whe(n,t),i==XM){4==e&&(n.o=4,nc(14),r=!1),Pb(n.j,n.m,null,"[Incomplete Response]");break}if(i==l3){n.o=4,nc(15),Pb(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Pb(n.j,n.m,i,null),d3(n,i)}w9(n)&&i!=XM&&i!=l3&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,nc(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),v3(e),e.K=!0,nc(11))):(Pb(n.j,n.m,t,"[Invalid Chunked Response]"),ly(n),D2(n))}function whe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?XM:(t=Number(e.substring(t,r)),isNaN(t)?l3:(r+=1)+t>e.length?XM:(e=e.substr(r,t),n.C=r+t,e))}function T2(n){n.V=Date.now()+n.O,I9(n,n.O)}function I9(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=S2(Fa(n.gb,n),e)}function QM(n){n.B&&(kr.clearTimeout(n.B),n.B=null)}function D2(n){0==n.l.G||n.I||Y9(n.l,n)}function ly(n){QM(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,n3(n.T),d9(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function d3(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||h3(t.h,n)))if(!n.J&&h3(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;a5(t),s5(t)}y3(t),nc(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=S2(Fa(t.cb,t),6e3));if(1>=R9(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else dy(t,11)}else if((n.J||t.g==n)&&a5(t),!jM(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(t.T=h[0],h=h[1],2==t.G)if("c"==h[0]){t.I=h[1],t.ka=h[2];const g=h[3];null!=g&&(t.ma=g,t.j.info("VER="+t.ma));const _=h[4];null!=_&&(t.Ca=_,t.j.info("SVER="+t.Ca));const I=h[5];null!=I&&"number"==typeof I&&0<I&&(t.J=r=1.5*I,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const w=n.g;if(w){const x=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var s=r.h;s.g||-1==x.indexOf("spdy")&&-1==x.indexOf("quic")&&-1==x.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(f3(s,s.h),s.h=null))}if(r.D){const R=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;R&&(r.za=R,Ls(r.F,r.D,R))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((r=t).sa=J9(r,r.H?r.ka:null,r.V),o.J){k9(r.h,o);var c=o,u=r.J;u&&c.setTimeout(u),c.B&&(QM(c),T2(c)),r.g=o}else K9(r);0<t.i.length&&o5(t)}else"stop"!=h[0]&&"close"!=h[0]||dy(t,7);else 3==t.G&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?dy(t,7):_3(t):"noop"!=h[0]&&t.l&&t.l.wa(h),t.A=0)}C2()}catch{}}function C9(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(BM(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ihe(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(BM(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Ehe(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(BM(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(er=A2.prototype).setTimeout=function(n){this.O=n},er.ib=function(n){n=n.target;const e=this.L;e&&3==Ef(n)?e.l():this.La(n)},er.La=function(n){try{if(n==this.g)e:{const g=Ef(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>g)&&(3!=g||UF||this.g&&(this.h.h||this.g.fa()||z9(this.g)))){this.I||4!=g||7==e||C2(),QM(this);var t=this.g.aa();this.Y=t;t:if(w9(this)){var r=z9(this.g);n="";var i=r.length,s=4==Ef(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ly(this),D2(this);var o="";break t}this.h.i=new kr.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function _he(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,g,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jM(c)){var h=c;break t}}h=null}if(!(t=h)){this.i=!1,this.o=3,nc(12),ly(this),D2(this);break e}Pb(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,d3(this,t)}this.P?(E9(this,g,o),UF&&this.i&&3==g&&(u9(this.S,this.T,"tick",this.hb),this.T.start())):(Pb(this.j,this.m,o,null),d3(this,o)),4==g&&ly(this),this.i&&!this.I&&(4==g?Y9(this.l,this):(this.i=!1,T2(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,nc(12)):(this.o=0,nc(13)),ly(this),D2(this)}}}catch{}},er.hb=function(){if(this.g){var n=Ef(this.g),e=this.g.fa();this.C<e.length&&(QM(this),E9(this,n,e),this.i&&4!=n&&T2(this))}},er.cancel=function(){this.I=!0,ly(this)},er.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function yhe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(C2(),nc(17)),ly(this),this.o=2,D2(this)):I9(this,this.V-n)};var S9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uy(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof uy){this.h=void 0!==e?e:n.h,JM(this,n.j),this.s=n.s,this.g=n.g,e5(this,n.m),this.l=n.l,e=n.i;var t=new P2;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),x9(this,t),this.o=n.o}else n&&(t=String(n).match(S9))?(this.h=!!e,JM(this,t[1]||"",!0),this.s=M2(t[2]||""),this.g=M2(t[3]||"",!0),e5(this,t[4]),this.l=M2(t[5]||"",!0),x9(this,t[6]||"",!0),this.o=M2(t[7]||"")):(this.h=!!e,this.i=new P2(null,this.h))}function wf(n){return new uy(n)}function JM(n,e,t){n.j=t?M2(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function e5(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function x9(n,e,t){e instanceof P2?(n.i=e,function Mhe(n,e){e&&!n.j&&(Pg(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(T9(this,r),M9(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=N2(e,The)),n.i=new P2(e,n.h))}function Ls(n,e,t){n.i.set(e,t)}function t5(n){return Ls(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function M2(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function N2(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,She),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function She(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}uy.prototype.toString=function(){var n=[],e=this.j;e&&n.push(N2(e,A9,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(N2(e,A9,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(N2(t,"/"==t.charAt(0)?Ahe:xhe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",N2(t,Dhe)),n.join("")};var A9=/[#\/\?@]/g,xhe=/[#\?:]/g,Ahe=/[#\?]/g,The=/[#\?@]/g,Dhe=/#/g;function P2(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Pg(n){n.g||(n.g=new Map,n.h=0,n.i&&function Che(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function T9(n,e){Pg(n),e=Rb(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function D9(n,e){return Pg(n),e=Rb(n,e),n.g.has(e)}function M9(n,e,t){T9(n,e),0<t.length&&(n.i=null,n.g.set(Rb(n,e),LF(t)),n.h+=t.length)}function Rb(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function N9(n){this.l=n||Phe,n=kr.PerformanceNavigationTiming?0<(n=kr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(kr.g&&kr.g.Ga&&kr.g.Ga()&&kr.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(er=P2.prototype).add=function(n,e){Pg(this),this.i=null,n=Rb(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},er.forEach=function(n,e){Pg(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},er.oa=function(){Pg(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},er.W=function(n){Pg(this);let e=[];if("string"==typeof n)D9(this,n)&&(e=e.concat(this.g.get(Rb(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},er.set=function(n,e){return Pg(this),this.i=null,D9(this,n=Rb(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},er.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},er.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Phe=10;function P9(n){return!!n.h||!!n.g&&n.g.size>=n.j}function R9(n){return n.h?1:n.g?n.g.size:0}function h3(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function f3(n,e){n.g?n.g.add(e):n.h=e}function k9(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function O9(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return LF(n.i)}function p3(){}function Rhe(){this.g=new p3}function khe(n,e,t){const r=t||"";try{C9(n,function(i,s){let o=i;b2(i)&&(o=JF(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function n5(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function R2(n){this.l=n.ac||null,this.j=n.jb||!1}function r5(n,e){Xo.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=g3,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}N9.prototype.cancel=function(){if(this.i=O9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},p3.prototype.stringify=function(n){return kr.JSON.stringify(n,void 0)},p3.prototype.parse=function(n){return kr.JSON.parse(n,void 0)},_a(R2,s3),R2.prototype.g=function(){return new r5(this.l,this.j)},R2.prototype.i=function(n){return function(){return n}}({}),_a(r5,Xo);var g3=0;function L9(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function k2(n){n.readyState=4,n.l=null,n.j=null,n.A=null,O2(n)}function O2(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(er=r5.prototype).open=function(n,e){if(this.readyState!=g3)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,O2(this)},er.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||kr).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},er.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,k2(this)),this.readyState=g3},er.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,O2(this)),this.g&&(this.readyState=3,O2(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof kr.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;L9(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},er.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?k2(this):O2(this),3==this.readyState&&L9(this)}},er.Va=function(n){this.g&&(this.response=this.responseText=n,k2(this))},er.Ua=function(n){this.g&&(this.response=n,k2(this))},er.ga=function(){this.g&&k2(this)},er.setRequestHeader=function(n,e){this.v.append(n,e)},er.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},er.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(r5.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Lhe=kr.JSON.parse;function Js(n){Xo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=F9,this.K=this.L=!1}_a(Js,Xo);var F9="",Fhe=/^https?$/i,Bhe=["POST","PUT"];function B9(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,U9(n),i5(n)}function U9(n){n.D||(n.D=!0,ya(n,"complete"),ya(n,"error"))}function j9(n){if(n.h&&typeof kF<"u"&&(!n.C[1]||4!=Ef(n)||2!=n.aa()))if(n.v&&4==Ef(n))r3(n.Ha,0,n);else if(ya(n,"readystatechange"),4==Ef(n)){n.h=!1;try{const c=n.aa();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.H).match(S9)[1]||null;if(!i&&kr.self&&kr.self.location){var s=kr.self.location.protocol;i=s.substr(0,s.length-1)}r=!Fhe.test(i?i.toLowerCase():"")}t=r}if(t)ya(n,"complete"),ya(n,"success");else{n.m=6;try{var o=2<Ef(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",U9(n)}}finally{i5(n)}}}function i5(n,e){if(n.g){V9(n);const t=n.g,r=n.C[0]?FM:null;n.g=null,n.C=null,e||ya(n,"ready");try{t.onreadystatechange=r}catch{}}}function V9(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(kr.clearTimeout(n.A),n.A=null)}function Ef(n){return n.g?n.g.readyState:0}function z9(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case F9:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function H9(n){let e="";return $F(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function m3(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=H9(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ls(n,e,t))}function L2(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function $9(n){this.Ca=0,this.i=[],this.j=new GM,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=L2("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=L2("baseRetryDelayMs",5e3,n),this.bb=L2("retryDelaySeedMs",1e4,n),this.$a=L2("forwardChannelMaxRetries",2,n),this.ta=L2("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new N9(n&&n.concurrentRequestLimit),this.Fa=new Rhe,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function _3(n){if(W9(n),3==n.G){var e=n.U++,t=wf(n.F);Ls(t,"SID",n.I),Ls(t,"RID",e),Ls(t,"TYPE","terminate"),F2(n,t),(e=new A2(n,n.j,e,void 0)).K=2,e.v=t5(wf(t)),t=!1,kr.navigator&&kr.navigator.sendBeacon&&(t=kr.navigator.sendBeacon(e.v.toString(),"")),!t&&kr.Image&&((new Image).src=e.v,t=!0),t||(e.g=eW(e.l,null),e.g.da(e.v)),e.F=Date.now(),T2(e)}Q9(n)}function s5(n){n.g&&(v3(n),n.g.cancel(),n.g=null)}function W9(n){s5(n),n.u&&(kr.clearTimeout(n.u),n.u=null),a5(n),n.h.cancel(),n.m&&("number"==typeof n.m&&kr.clearTimeout(n.m),n.m=null)}function o5(n){P9(n.h)||n.m||(n.m=!0,o9(n.Ja,n),n.C=0)}function q9(n,e){var t;t=e?e.m:n.U++;const r=wf(n.F);Ls(r,"SID",n.I),Ls(r,"RID",t),Ls(r,"AID",n.T),F2(n,r),n.o&&n.s&&m3(r,n.o,n.s),t=new A2(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=G9(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),f3(n.h,t),u3(t,r,e)}function F2(n,e){n.ia&&$F(n.ia,function(t,r){Ls(e,r,t)}),n.l&&C9({},function(t,r){Ls(e,r,t)})}function G9(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Fa(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let c=!0;for(let u=0;u<t;u++){let h=i[u].h;const g=i[u].g;if(h-=s,0>h)s=Math.max(0,i[u].h-100),c=!1;else try{khe(g,o,"req"+h+"_")}catch{r&&r(g)}}if(c){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function K9(n){n.g||n.u||(n.Z=1,o9(n.Ia,n),n.A=0)}function y3(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=S2(Fa(n.Ia,n),X9(n,n.A)),n.A++,0))}function v3(n){null!=n.B&&(kr.clearTimeout(n.B),n.B=null)}function Z9(n){n.g=new A2(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=wf(n.sa);Ls(e,"RID","rpc"),Ls(e,"SID",n.I),Ls(e,"CI",n.L?"0":"1"),Ls(e,"AID",n.T),Ls(e,"TYPE","xmlhttp"),F2(n,e),n.o&&n.s&&m3(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=t5(wf(e)),t.s=null,t.P=!0,b9(t,n)}function a5(n){null!=n.v&&(kr.clearTimeout(n.v),n.v=null)}function Y9(n,e){var t=null;if(n.g==e){a5(n),v3(n),n.g=null;var r=2}else{if(!h3(n.h,e))return;t=e.D,k9(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ya(r=KM(),new g9(r,t)),o5(n)}else K9(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function jhe(n,e){return!(R9(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=S2(Fa(n.Ja,n,e),X9(n,n.C)),n.C++,0)))}(n,e)||2==r&&y3(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:dy(n,5);break;case 4:dy(n,10);break;case 3:dy(n,6);break;default:dy(n,2)}}function X9(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function dy(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Fa(n.kb,n);t||(t=new uy("//www.google.com/images/cleardot.gif"),kr.location&&"http"==kr.location.protocol||JM(t,"https"),t5(t)),function Ohe(n,e){const t=new GM;if(kr.Image){const r=new Image;r.onload=UM(n5,t,r,"TestLoadImage: loaded",!0,e),r.onerror=UM(n5,t,r,"TestLoadImage: error",!1,e),r.onabort=UM(n5,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=UM(n5,t,r,"TestLoadImage: timeout",!1,e),kr.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else nc(2);n.G=0,n.l&&n.l.va(e),Q9(n),W9(n)}function Q9(n){if(n.G=0,n.la=[],n.l){const e=O9(n.h);(0!=e.length||0!=n.i.length)&&(W$(n.la,e),W$(n.la,n.i),n.h.i.length=0,LF(n.i),n.i.length=0),n.l.ua()}}function J9(n,e,t){var r=t instanceof uy?wf(t):new uy(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),e5(r,r.m);else{var i=kr.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new uy(null,void 0);r&&JM(s,r),e&&(s.g=e),i&&e5(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&Ls(r,t,e),Ls(r,"VER",n.ma),F2(n,r),r}function eW(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Js(t&&n.Da&&!n.ra?new R2({jb:!0}):n.ra)).Ka(n.H),e}function tW(){}function c5(){if(Nb&&!(10<=Number(rhe)))throw Error("Environmental error: no available transport.")}function ul(n,e){Xo.call(this),this.g=new $9(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!jM(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jM(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new kb(this)}function nW(n){o3.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function rW(){a3.call(this),this.status=1}function kb(n){this.g=n}(er=Js.prototype).Ka=function(n){this.L=n},er.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():c3.g(),this.C=function _9(n){return n.h||(n.h=n.i())}(this.u?this.u:c3),this.g.onreadystatechange=Fa(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void B9(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=kr.FormData&&n instanceof kr.FormData,!(0<=$$(Bhe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{V9(this),0<this.B&&((this.K=function Uhe(n){return Nb&&function nhe(){return function Qde(n){var e=the;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=q$(String(zM)).split("."),t=q$("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=FF(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||FF(0==i[2].length,0==s[2].length)||FF(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fa(this.qa,this)):this.A=r3(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){B9(this,s)}},er.qa=function(){typeof kF<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ya(this,"timeout"),this.abort(8))},er.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ya(this,"complete"),ya(this,"abort"),i5(this))},er.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),i5(this,!0)),Js.X.M.call(this)},er.Ha=function(){this.s||(this.F||this.v||this.l?j9(this):this.fb())},er.fb=function(){j9(this)},er.aa=function(){try{return 2<Ef(this)?this.g.status:-1}catch{return-1}},er.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},er.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Lhe(e)}},er.Ea=function(){return this.m},er.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(er=$9.prototype).ma=8,er.G=1,er.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new A2(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=X$(s),J$(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=G9(this,i,e),Ls(t=wf(this.F),"RID",n),Ls(t,"CVER",22),this.D&&Ls(t,"X-HTTP-Session-Id",this.D),F2(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(H9(s)))+"&"+e:this.o&&m3(t,this.o,s)),f3(this.h,i),this.Ya&&Ls(t,"TYPE","init"),this.O?(Ls(t,"$req",e),Ls(t,"SID","null"),i.Z=!0,u3(i,t,null)):u3(i,t,e),this.G=2}}else 3==this.G&&(n?q9(this,n):0==this.i.length||P9(this.h)||q9(this))},er.Ia=function(){if(this.u=null,Z9(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=S2(Fa(this.eb,this),n)}},er.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,nc(10),s5(this),Z9(this))},er.cb=function(){null!=this.v&&(this.v=null,s5(this),y3(this),nc(19))},er.kb=function(n){n?(this.j.info("Successfully pinged google.com"),nc(2)):(this.j.info("Failed to ping google.com"),nc(1))},(er=tW.prototype).xa=function(){},er.wa=function(){},er.va=function(){},er.ua=function(){},er.Ra=function(){},c5.prototype.g=function(n,e){return new ul(n,e)},_a(ul,Xo),ul.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;nc(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=J9(n,null,n.V),o5(n)},ul.prototype.close=function(){_3(this.g)},ul.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=JF(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&o5(e)},ul.prototype.M=function(){this.g.l=null,delete this.j,_3(this.g),delete this.g,ul.X.M.call(this)},_a(nW,o3),_a(rW,a3),_a(kb,tW),kb.prototype.xa=function(){ya(this.g,"a")},kb.prototype.wa=function(n){ya(this.g,new nW(n))},kb.prototype.va=function(n){ya(this.g,new rW)},kb.prototype.ua=function(){ya(this.g,"b")},c5.prototype.createWebChannel=c5.prototype.g,ul.prototype.send=ul.prototype.u,ul.prototype.open=ul.prototype.m,ul.prototype.close=ul.prototype.close,ZM.NO_ERROR=0,ZM.TIMEOUT=8,ZM.HTTP_ERROR=6,m9.COMPLETE="complete",y9.EventType=x2,x2.OPEN="a",x2.CLOSE="b",x2.ERROR="c",x2.MESSAGE="d",Xo.prototype.listen=Xo.prototype.N,Js.prototype.listenOnce=Js.prototype.O,Js.prototype.getLastError=Js.prototype.Oa,Js.prototype.getLastErrorCode=Js.prototype.Ea,Js.prototype.getStatus=Js.prototype.aa,Js.prototype.getResponseJson=Js.prototype.Sa,Js.prototype.getResponseText=Js.prototype.fa,Js.prototype.send=Js.prototype.da,Js.prototype.setWithCredentials=Js.prototype.Ka;var Vhe=bf.createWebChannelTransport=function(){return new c5},zhe=bf.getStatEventTarget=function(){return KM()},b3=bf.ErrorCode=ZM,Hhe=bf.EventType=m9,$he=bf.Event=cy,iW=bf.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Whe=bf.FetchXmlHttpFactory=R2,l5=bf.WebChannel=y9,qhe=bf.XhrIo=Js;const sW="@firebase/firestore";class Qo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qo.UNAUTHENTICATED=new Qo(null),Qo.GOOGLE_CREDENTIALS=new Qo("google-credentials-uid"),Qo.FIRST_PARTY=new Qo("first-party-uid"),Qo.MOCK_USER=new Qo("mock-user");let Ob="9.15.0";const Rg=new Na.Yd("@firebase/firestore");function w3(){return Rg.logLevel}function Jt(n,...e){if(Rg.logLevel<=Na.in.DEBUG){const t=e.map(E3);Rg.debug(`Firestore (${Ob}): ${n}`,...t)}}function fo(n,...e){if(Rg.logLevel<=Na.in.ERROR){const t=e.map(E3);Rg.error(`Firestore (${Ob}): ${n}`,...t)}}function hy(n,...e){if(Rg.logLevel<=Na.in.WARN){const t=e.map(E3);Rg.warn(`Firestore (${Ob}): ${n}`,...t)}}function E3(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function zn(n="Unexpected state"){const e=`FIRESTORE (${Ob}) INTERNAL ASSERTION FAILED: `+n;throw fo(e),new Error(e)}function Jn(n,e){n||zn()}function En(n,e){return n}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qt extends ne.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class oW{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zhe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qo.UNAUTHENTICATED))}shutdown(){}}class Yhe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Xhe{constructor(e){this.t=e,this.currentUser=Qo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let o=new jo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new jo,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const h=o;e.enqueueRetryable((0,_t.Z)(function*(){yield h.promise,yield s(r.currentUser)}))},u=h=>{Jt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Jt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new jo)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Jt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jn("string"==typeof r.accessToken),new oW(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Jn(null===e||"string"==typeof e),new Qo(e)}}class Qhe{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Qo.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Jn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Jhe{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new Qhe(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Qo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class efe{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&Jt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,Jt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Jt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):Jt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Jn("string"==typeof t.token),this.A=t.token,new aW(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function tfe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class cW{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tfe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Or(n,e){return n<e?-1:n>e?1:0}function Lb(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function lW(n){return n+"\0"}class Fs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fs.fromMillis(Date.now())}static fromDate(e){return Fs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Fs(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Or(this.nanoseconds,e.nanoseconds):Or(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ir{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ir(e)}static min(){return new ir(new Fs(0,0))}static max(){return new ir(new Fs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class B2{constructor(e,t,r){void 0===t?t=0:t>e.length&&zn(),void 0===r?r=e.length-t:r>e.length-t&&zn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===B2.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof B2?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wi extends B2{construct(e,t,r){return new wi(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new qt(pt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new wi(t)}static emptyPath(){return new wi([])}}const nfe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class eo extends B2{construct(e,t,r){return new eo(e,t,r)}static isValidIdentifier(e){return nfe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),eo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new eo(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new qt(pt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if("\\"===c){if(i+1===e.length)throw new qt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new qt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===c?(o=!o,i++):"."!==c||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new qt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new eo(t)}static emptyPath(){return new eo([])}}class mn{constructor(e){this.path=e}static fromPath(e){return new mn(wi.fromString(e))}static fromName(e){return new mn(wi.fromString(e).popFirst(5))}static empty(){return new mn(wi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mn(new wi(e.slice()))}}class u5{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function I3(n){return n.fields.find(e=>2===e.kind)}function fy(n){return n.fields.filter(e=>2!==e.kind)}u5.UNKNOWN_ID=-1;class d5{constructor(e,t){this.fieldPath=e,this.kind=t}}class U2{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new U2(0,dl.min())}}function uW(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ir.fromTimestamp(1e9===r?new Fs(t+1,0):new Fs(t,r));return new dl(i,mn.empty(),e)}function dW(n){return new dl(n.readTime,n.key,-1)}class dl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new dl(ir.min(),mn.empty(),-1)}static max(){return new dl(ir.max(),mn.empty(),-1)}}function C3(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=mn.comparator(n.documentKey,e.documentKey),0!==t?t:Or(n.largestBatchId,e.largestBatchId))}const hW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function kg(n){return S3.apply(this,arguments)}function S3(){return S3=(0,_t.Z)(function*(n){if(n.code!==pt.FAILED_PRECONDITION||n.message!==hW)throw n;Jt("LocalStore","Unexpectedly lost primary lease")}),S3.apply(this,arguments)}class ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&zn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ct((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ct?t:ct.resolve(t)}catch(t){return ct.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ct.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ct.reject(t)}static resolve(e){return new ct((t,r)=>{t(e)})}static reject(e){return new ct((t,r)=>{r(e)})}static waitFor(e){return new ct((t,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=ct.resolve(!1);for(const r of e)t=t.next(i=>i?ct.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ct((r,i)=>{const s=e.length,o=new Array(s);let c=0;for(let u=0;u<s;u++){const h=u;t(e[h]).next(g=>{o[h]=g,++c,c===s&&r(o)},g=>i(g))}})}static doWhile(e,t){return new ct((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class h5{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new jo,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new j2(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=x3(r.target.error);this.P.reject(new j2(e,i))}}static open(e,t,r,i){try{return new h5(t,e.transaction(i,r))}catch(s){throw new j2(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Jt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ofe(t)}}class Tu{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Tu.D((0,ne.z$)())&&fo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Jt("SimpleDb","Removing database:",e),py(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ne.hl)())return!1;if(Tu.N())return!0;const e=(0,ne.z$)(),t=Tu.D(e),r=0<t&&t<10,i=Tu.k(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,_t.Z)(function*(){return t.db||(Jt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new j2(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const c=o.target.error;i("VersionError"===c.name?new qt(pt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===c.name?new qt(pt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c):new j2(e,c))},s.onupgradeneeded=o=>{Jt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.S.$(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{Jt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,_t.Z)(function*(){const o="readonly"===t;let c=0;for(;;){++c;try{s.db=yield s.F(e);const u=h5.open(s.db,e,o?"readonly":"readwrite",r),h=i(u).next(g=>(u.V(),g)).catch(g=>(u.abort(g),ct.reject(g))).toPromise();return h.catch(()=>{}),yield u.v,h}catch(u){const h=u,g="FirebaseError"!==h.name&&c<3;if(Jt("SimpleDb","Transaction failed with error:",h.message,"Retrying:",g),s.close(),!g)return Promise.reject(h)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sfe{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return py(this.q.delete())}}class j2 extends qt{constructor(e,t){super(pt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Og(n){return"IndexedDbTransactionError"===n.name}class ofe{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Jt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Jt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),py(r)}add(e){return Jt("SimpleDb","ADD",this.store.name,e,e),py(this.store.add(e))}get(e){return py(this.store.get(e)).next(t=>(void 0===t&&(t=null),Jt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Jt("SimpleDb","DELETE",this.store.name,e),py(this.store.delete(e))}count(){return Jt("SimpleDb","COUNT",this.store.name),py(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.H(i,(o,c)=>{s.push(c)}).next(()=>s)}{const i=this.store.getAll(r.range);return new ct((s,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{s(c.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ct((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Y(e,t){Jt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(s,o,c)=>c.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ct((r,i)=>{t.onerror=s=>{const o=x3(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(c=>{c?o.continue():r()}):r()}})}H(e,t){const r=[];return new ct((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const c=o.target.result;if(!c)return void i();const u=new sfe(c),h=t(c.primaryKey,c.value,u);if(h instanceof ct){const g=h.catch(_=>(u.done(),ct.reject(_)));r.push(g)}u.isDone?i():null===u.G?c.continue():c.continue(u.G)}}).next(()=>ct.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function py(n){return new ct((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=x3(r.target.error);t(i)}})}let pW=!1;function x3(n){const e=Tu.D((0,ne.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new qt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pW||(pW=!0,setTimeout(()=>{throw r},0)),r}}return n}class afe{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Jt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_t.Z)(function*(){t.task=null;try{Jt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Og(r)?Jt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield kg(r)}yield t.nt(6e4)}))}}class cfe{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,_t.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,s=!0;return ct.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return Jt("IndexBackiller",`Processing collection: ${o}`),this.rt(e,o,i).next(c=>{i-=c,r.add(o)});s=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ot(i,s)).next(c=>(Jt("IndexBackiller",`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c))).next(()=>o.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=dW(s);C3(o,r)>0&&(r=o)}),new dl(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let hl=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class lfe{constructor(e,t,r,i,s,o,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.useFetchStreams=u}}class Lg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Lg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Lg&&e.projectId===this.projectId&&e.database===this.database}}function gW(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gy(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mW(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function V2(n){return null==n}function z2(n){return 0===n&&1/n==-1/0}function _W(n){return"number"==typeof n&&Number.isInteger(n)&&!z2(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Vo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Vo(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Vo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Or(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vo.EMPTY_BYTE_STRING=new Vo("");const dfe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fg(n){if(Jn(!!n),"string"==typeof n){let e=0;const t=dfe.exec(n);if(Jn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:to(n.seconds),nanos:to(n.nanos)}}function to(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function my(n){return"string"==typeof n?Vo.fromBase64String(n):Vo.fromUint8Array(n)}function A3(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function yW(n){const e=n.mapValue.fields.__previous_value__;return A3(e)?yW(e):e}function H2(n){const e=Fg(n.mapValue.fields.__local_write_time__.timestampValue);return new Fs(e.seconds,e.nanos)}const Bg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},f5={nullValue:"NULL_VALUE"};function _y(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?A3(n)?4:EW(n)?9007199254740991:10:zn()}function Bd(n,e){if(n===e)return!0;const t=_y(n);if(t!==_y(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return H2(n).isEqual(H2(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Fg(r.timestampValue),o=Fg(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,my(n.bytesValue).isEqual(my(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return to(r.geoPointValue.latitude)===to(i.geoPointValue.latitude)&&to(r.geoPointValue.longitude)===to(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return to(r.integerValue)===to(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=to(r.doubleValue),o=to(i.doubleValue);return s===o?z2(s)===z2(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Lb(n.arrayValue.values||[],e.arrayValue.values||[],Bd);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(gW(s)!==gW(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===o[c]||!Bd(s[c],o[c])))return!1;return!0}(n,e);default:return zn()}var i}function $2(n,e){return void 0!==(n.values||[]).find(t=>Bd(t,e))}function Ug(n,e){if(n===e)return 0;const t=_y(n),r=_y(e);if(t!==r)return Or(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Or(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=to(i.integerValue||i.doubleValue),c=to(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(n,e);case 3:return vW(n.timestampValue,e.timestampValue);case 4:return vW(H2(n),H2(e));case 5:return Or(n.stringValue,e.stringValue);case 6:return function(i,s){const o=my(i),c=my(s);return o.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),c=s.split("/");for(let u=0;u<o.length&&u<c.length;u++){const h=Or(o[u],c[u]);if(0!==h)return h}return Or(o.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Or(to(i.latitude),to(s.latitude));return 0!==o?o:Or(to(i.longitude),to(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],c=s.values||[];for(let u=0;u<o.length&&u<c.length;++u){const h=Ug(o[u],c[u]);if(h)return h}return Or(o.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Bg.mapValue&&s===Bg.mapValue)return 0;if(i===Bg.mapValue)return 1;if(s===Bg.mapValue)return-1;const o=i.fields||{},c=Object.keys(o),u=s.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let g=0;g<c.length&&g<h.length;++g){const _=Or(c[g],h[g]);if(0!==_)return _;const I=Ug(o[c[g]],u[h[g]]);if(0!==I)return I}return Or(c.length,h.length)}(n.mapValue,e.mapValue);default:throw zn()}}function vW(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Or(n,e);const t=Fg(n),r=Fg(e),i=Or(t.seconds,r.seconds);return 0!==i?i:Or(t.nanos,r.nanos)}function Fb(n){return T3(n)}function T3(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Fg(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?my(n.bytesValue).toBase64():"referenceValue"in n?mn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=T3(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const c of i)o?o=!1:s+=",",s+=`${c}:${T3(r.fields[c])}`;return s+"}"}(n.mapValue):zn();var e}function yy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function D3(n){return!!n&&"integerValue"in n}function W2(n){return!!n&&"arrayValue"in n}function bW(n){return!!n&&"nullValue"in n}function wW(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function p5(n){return!!n&&"mapValue"in n}function q2(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return gy(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=q2(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=q2(n.arrayValue.values[t]);return e}return Object.assign({},n)}function EW(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function hfe(n){return"nullValue"in n?f5:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?yy(Lg.empty(),mn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:zn()}function ffe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?yy(Lg.empty(),mn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Bg:zn()}function IW(n,e){const t=Ug(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function CW(n,e){const t=Ug(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class jg{constructor(e,t){this.position=e,this.inclusive=t}}function SW(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?mn.comparator(mn.fromName(o.referenceValue),t.key):Ug(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function xW(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Bd(n.position[t],e.position[t]))return!1;return!0}class AW{}class li extends AW{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new pfe(e,t,r):"array-contains"===t?new _fe(e,r):"in"===t?new OW(e,r):"not-in"===t?new yfe(e,r):"array-contains-any"===t?new vfe(e,r):new li(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new gfe(e,r):new mfe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ug(t,this.value)):null!==t&&_y(this.value)===_y(t)&&this.matchesComparison(Ug(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ki extends AW{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Ki(e,t)}matches(e){return Bb(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Bb(n){return"and"===n.op}function M3(n){return"or"===n.op}function TW(n){return DW(n)&&Bb(n)}function DW(n){for(const e of n.filters)if(e instanceof Ki)return!1;return!0}function MW(n){if(n instanceof li)return n.field.canonicalString()+n.op.toString()+Fb(n.value);{const e=n.filters.map(t=>MW(t)).join(",");return`${n.op}(${e})`}}function NW(n,e){return n instanceof li?(t=n,(r=e)instanceof li&&t.op===r.op&&t.field.isEqual(r.field)&&Bd(t.value,r.value)):n instanceof Ki?function(t,r){return r instanceof Ki&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&NW(s,r.filters[o]),!0)}(n,e):void zn();var t,r}function PW(n,e){const t=n.filters.concat(e);return Ki.create(t,n.op)}function RW(n){return n instanceof li?function(e){return`${e.field.canonicalString()} ${e.op} ${Fb(e.value)}`}(n):n instanceof Ki?function(e){return e.op.toString()+" {"+e.getFilters().map(RW).join(" ,")+"}"}(n):"Filter"}class pfe extends li{constructor(e,t,r){super(e,t,r),this.key=mn.fromName(r.referenceValue)}matches(e){const t=mn.comparator(e.key,this.key);return this.matchesComparison(t)}}class gfe extends li{constructor(e,t){super(e,"in",t),this.keys=kW(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mfe extends li{constructor(e,t){super(e,"not-in",t),this.keys=kW(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kW(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>mn.fromName(r.referenceValue))}class _fe extends li{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return W2(t)&&$2(t.arrayValue,this.value)}}class OW extends li{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$2(this.value.arrayValue,t)}}class yfe extends li{constructor(e,t){super(e,"not-in",t)}matches(e){if($2(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$2(this.value.arrayValue,t)}}class vfe extends li{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!W2(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$2(this.value.arrayValue,r))}}class Ub{constructor(e,t="asc"){this.field=e,this.dir=t}}function bfe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class no{constructor(e,t){this.comparator=e,this.root=t||va.EMPTY}insert(e,t){return new no(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,va.BLACK,null,null))}remove(e){return new no(this.comparator,this.root.remove(e,this.comparator).copy(null,null,va.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new g5(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new g5(this.root,e,this.comparator,!1)}getReverseIterator(){return new g5(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new g5(this.root,e,this.comparator,!0)}}class g5{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class va{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??va.RED,this.left=i??va.EMPTY,this.right=s??va.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new va(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return va.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return va.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,va.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,va.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zn();const e=this.left.check();if(e!==this.right.check())throw zn();return e+(this.isRed()?0:1)}}va.EMPTY=null,va.RED=!0,va.BLACK=!1,va.EMPTY=new class{constructor(){this.size=0}get key(){throw zn()}get value(){throw zn()}get color(){throw zn()}get left(){throw zn()}get right(){throw zn()}copy(n,e,t,r,i){return this}insert(n,e,t){return new va(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rs{constructor(e){this.comparator=e,this.data=new no(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LW(this.data.getIterator())}getIteratorFrom(e){return new LW(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof rs)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new rs(this.comparator);return t.data=e,t}}class LW{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function jb(n){return n.hasNext()?n.getNext():void 0}class fl{constructor(e){this.fields=e,e.sort(eo.comparator)}static empty(){return new fl([])}unionWith(e){let t=new rs(eo.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new fl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lb(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ba{constructor(e){this.value=e}static empty(){return new ba({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!p5(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=q2(t)}setAll(e){let t=eo.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}o?r[c.lastSegment()]=q2(o):i.push(c.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());p5(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];p5(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){gy(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ba(q2(this.value))}}function FW(n){const e=[];return gy(n.fields,(t,r)=>{const i=new eo([t]);if(p5(r)){const s=FW(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fl(e)}class Cs{constructor(e,t,r,i,s,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Cs(e,0,ir.min(),ir.min(),ir.min(),ba.empty(),0)}static newFoundDocument(e,t,r,i){return new Cs(e,1,t,ir.min(),r,i,0)}static newNoDocument(e,t){return new Cs(e,2,t,ir.min(),ir.min(),ba.empty(),0)}static newUnknownDocument(e,t){return new Cs(e,3,t,ir.min(),ir.min(),ba.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ir.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ba.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ba.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ir.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wfe{constructor(e,t=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ft=null}}function N3(n,e=null,t=[],r=[],i=null,s=null,o=null){return new wfe(n,e,t,r,i,s,o)}function vy(n){const e=En(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>MW(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),V2(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Fb(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Fb(r)).join(",")),e.ft=t}return e.ft}function G2(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bfe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!NW(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xW(n.startAt,e.startAt)&&xW(n.endAt,e.endAt)}function m5(n){return mn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function _5(n,e){return n.filters.filter(t=>t instanceof li&&t.field.isEqual(e))}function BW(n,e,t){let r=f5,i=!0;for(const s of _5(n,e)){let o=f5,c=!0;switch(s.op){case"<":case"<=":o=hfe(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,c=!1;break;case"!=":case"not-in":o=f5}IW({value:r,inclusive:i},{value:o,inclusive:c})<0&&(r=o,i=c)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];IW({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function UW(n,e,t){let r=Bg,i=!0;for(const s of _5(n,e)){let o=Bg,c=!0;switch(s.op){case">=":case">":o=ffe(s.value),c=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,c=!1;break;case"!=":case"not-in":o=Bg}CW({value:r,inclusive:i},{value:o,inclusive:c})>0&&(r=o,i=c)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];CW({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class If{constructor(e,t=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.dt=null,this._t=null}}function jW(n,e,t,r,i,s,o,c){return new If(n,e,t,r,i,s,o,c)}function Vb(n){return new If(n)}function VW(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function P3(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function y5(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function R3(n){return null!==n.collectionGroup}function by(n){const e=En(n);if(null===e.dt){e.dt=[];const t=y5(e),r=P3(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Ub(t)),e.dt.push(new Ub(eo.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ub(eo.keyField(),s))}}}return e.dt}function rc(n){const e=En(n);if(!e._t)if("F"===e.limitType)e._t=N3(e.path,e.collectionGroup,by(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of by(e))t.push(new Ub(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new jg(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new jg(e.startAt.position,e.startAt.inclusive):null;e._t=N3(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function k3(n,e){e.getFirstInequalityField(),y5(n);const t=n.filters.concat([e]);return new If(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function v5(n,e,t){return new If(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function K2(n,e){return G2(rc(n),rc(e))&&n.limitType===e.limitType}function zW(n){return`${vy(rc(n))}|lt:${n.limitType}`}function O3(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>RW(r)).join(", ")}]`),V2(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Fb(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Fb(r)).join(",")),`Target(${t})`}(rc(n))}; limitType=${n.limitType})`}function L3(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):mn.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of by(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const c=SW(i,s,o);return i.inclusive?c<=0:c<0}(t.startAt,by(t),r)||t.endAt&&!function(i,s,o){const c=SW(i,s,o);return i.inclusive?c>=0:c>0}(t.endAt,by(t),r)));var t,r}function HW(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $W(n){return(e,t)=>{let r=!1;for(const i of by(n)){const s=Efe(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Efe(n,e,t){const r=n.field.isKeyField()?mn.comparator(e.key,t.key):function(i,s,o){const c=s.data.field(i),u=o.data.field(i);return null!==c&&null!==u?Ug(c,u):zn()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return zn()}}function WW(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:z2(e)?"-0":e}}function qW(n){return{integerValue:""+n}}function GW(n,e){return _W(e)?qW(e):WW(n,e)}class b5{constructor(){this._=void 0}}function Ife(n,e,t){return n instanceof zb?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof wy?ZW(n,e):n instanceof Ey?YW(n,e):function(r,i){const s=KW(r,i),o=XW(s)+XW(r.gt);return D3(s)&&D3(r.gt)?qW(o):WW(r.yt,o)}(n,e)}function Cfe(n,e,t){return n instanceof wy?ZW(n,e):n instanceof Ey?YW(n,e):t}function KW(n,e){return n instanceof Hb?D3(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class zb extends b5{}class wy extends b5{constructor(e){super(),this.elements=e}}function ZW(n,e){const t=QW(e);for(const r of n.elements)t.some(i=>Bd(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ey extends b5{constructor(e){super(),this.elements=e}}function YW(n,e){let t=QW(e);for(const r of n.elements)t=t.filter(i=>!Bd(i,r));return{arrayValue:{values:t}}}class Hb extends b5{constructor(e,t){super(),this.yt=e,this.gt=t}}function XW(n){return to(n.integerValue||n.doubleValue)}function QW(n){return W2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Z2{constructor(e,t){this.field=e,this.transform=t}}class xfe{constructor(e,t){this.version=e,this.transformResults=t}}class Bs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bs}static exists(e){return new Bs(void 0,e)}static updateTime(e){return new Bs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function w5(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class E5{}function JW(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Wb(n.key,Bs.none()):new $b(n.key,n.data,Bs.none());{const t=n.data,r=ba.empty();let i=new rs(eo.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Cf(n.key,r,new fl(i.toArray()),Bs.none())}}function Afe(n,e,t){n instanceof $b?function(r,i,s){const o=r.value.clone(),c=nq(r.fieldTransforms,i,s.transformResults);o.setAll(c),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Cf?function(r,i,s){if(!w5(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=nq(r.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(tq(r)),c.setAll(o),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Y2(n,e,t,r){return n instanceof $b?function(i,s,o,c){if(!w5(i.precondition,s))return o;const u=i.value.clone(),h=rq(i.fieldTransforms,c,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Cf?function(i,s,o,c){if(!w5(i.precondition,s))return o;const u=rq(i.fieldTransforms,c,s),h=s.data;return h.setAll(tq(i)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(n,e,t,r):(o=t,w5(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Tfe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=KW(r.transform,i||null);null!=s&&(null===t&&(t=ba.empty()),t.set(r.field,s))}return t||null}function eq(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Lb(t,r,(i,s)=>function Sfe(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof wy&&r instanceof wy||t instanceof Ey&&r instanceof Ey?Lb(t.elements,r.elements,Bd):t instanceof Hb&&r instanceof Hb?Bd(t.gt,r.gt):t instanceof zb&&r instanceof zb);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class $b extends E5{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cf extends E5{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tq(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function nq(n,e,t){const r=new Map;Jn(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,Cfe(o,c,t[i]))}return r}function rq(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Ife(s,o,e))}return r}class Wb extends E5{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F3 extends E5{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Dfe{constructor(e){this.count=e}}var bo,Ei;function iq(n){switch(n){default:return zn();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function sq(n){if(void 0===n)return fo("GRPC error has no .code"),pt.UNKNOWN;switch(n){case bo.OK:return pt.OK;case bo.CANCELLED:return pt.CANCELLED;case bo.UNKNOWN:return pt.UNKNOWN;case bo.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case bo.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case bo.INTERNAL:return pt.INTERNAL;case bo.UNAVAILABLE:return pt.UNAVAILABLE;case bo.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case bo.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case bo.NOT_FOUND:return pt.NOT_FOUND;case bo.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case bo.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case bo.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case bo.ABORTED:return pt.ABORTED;case bo.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case bo.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case bo.DATA_LOSS:return pt.DATA_LOSS;default:return zn()}}(Ei=bo||(bo={}))[Ei.OK=0]="OK",Ei[Ei.CANCELLED=1]="CANCELLED",Ei[Ei.UNKNOWN=2]="UNKNOWN",Ei[Ei.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ei[Ei.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ei[Ei.NOT_FOUND=5]="NOT_FOUND",Ei[Ei.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ei[Ei.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ei[Ei.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ei[Ei.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ei[Ei.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ei[Ei.ABORTED=10]="ABORTED",Ei[Ei.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ei[Ei.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ei[Ei.INTERNAL=13]="INTERNAL",Ei[Ei.UNAVAILABLE=14]="UNAVAILABLE",Ei[Ei.DATA_LOSS=15]="DATA_LOSS";class Vg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gy(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return mW(this.inner)}size(){return this.innerSize}}const Mfe=new no(mn.comparator);function kc(){return Mfe}const oq=new no(mn.comparator);function X2(...n){let e=oq;for(const t of n)e=e.insert(t.key,t);return e}function aq(n){let e=oq;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ud(){return Q2()}function cq(){return Q2()}function Q2(){return new Vg(n=>n.toString(),(n,e)=>n.isEqual(e))}const Nfe=new no(mn.comparator),Pfe=new rs(mn.comparator);function Wr(...n){let e=Pfe;for(const t of n)e=e.add(t);return e}const Rfe=new rs(Or);function I5(){return Rfe}class J2{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,eC.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new J2(ir.min(),i,I5(),kc(),Wr())}}class eC{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new eC(r,t,Wr(),Wr(),Wr())}}class C5{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class lq{constructor(e,t){this.targetId=e,this.Et=t}}class uq{constructor(e,t,r=Vo.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class dq{constructor(){this.At=0,this.Rt=fq(),this.bt=Vo.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Wr(),t=Wr(),r=Wr();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:zn()}}),new eC(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=fq()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class kfe{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=kc(),this.qt=hq(),this.Ut=new rs(Or)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:zn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const s=i.target;if(m5(s))if(0===r){const o=new mn(s.path);this.Qt(t,o,Cs.newNoDocument(o,ir.min()))}else Jn(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((s,o)=>{const c=this.Yt(o);if(c){if(s.current&&m5(c.target)){const u=new mn(c.target.path);null!==this.Lt.get(u)||this.te(o,u)||this.Qt(o,u,Cs.newNoDocument(u,e))}s.St&&(t.set(o,s.Ct()),s.xt())}});let r=Wr();this.qt.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{const h=this.Yt(u);return!h||2===h.purpose||(c=!1,!1)}),c&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new J2(e,t,this.Ut,this.Lt,r);return this.Lt=kc(),this.qt=hq(),this.Ut=new rs(Or),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new dq,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new rs(Or),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Jt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new dq),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function hq(){return new no(mn.comparator)}function fq(){return new no(mn.comparator)}const Ofe={asc:"ASCENDING",desc:"DESCENDING"},Lfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ffe={and:"AND",or:"OR"};class Bfe{constructor(e,t){this.databaseId=e,this.wt=t}}function qb(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pq(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Ufe(n,e){return qb(n,e.toTimestamp())}function po(n){return Jn(!!n),ir.fromTimestamp(function(e){const t=Fg(e);return new Fs(t.seconds,t.nanos)}(n))}function B3(n,e){return(t=n,new wi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gq(n){const e=wi.fromString(n);return Jn(Cq(e)),e}function tC(n,e){return B3(n.databaseId,e.path)}function jd(n,e){const t=gq(e);if(t.get(1)!==n.databaseId.projectId)throw new qt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new qt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new mn(_q(t))}function U3(n,e){return B3(n.databaseId,e)}function mq(n){const e=gq(n);return 4===e.length?wi.emptyPath():_q(e)}function nC(n){return new wi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _q(n){return Jn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function yq(n,e,t){return{name:tC(n,e),fields:t.value.mapValue.fields}}function vq(n,e,t){const r=jd(n,e.name),i=po(e.updateTime),s=e.createTime?po(e.createTime):ir.min(),o=new ba({mapValue:{fields:e.fields}}),c=Cs.newFoundDocument(r,i,s,o);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function rC(n,e){let t;if(e instanceof $b)t={update:yq(n,e.key,e.value)};else if(e instanceof Wb)t={delete:tC(n,e.key)};else if(e instanceof Cf)t={update:yq(n,e.key,e.data),updateMask:Gfe(e.fieldMask)};else{if(!(e instanceof F3))return zn();t={verify:tC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof zb)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof wy)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ey)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Hb)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw zn()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Ufe(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:zn()),t;var i}function j3(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Bs.updateTime(po(i.updateTime)):void 0!==i.exists?Bs.exists(i.exists):Bs.none():Bs.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let c=null;"setToServerValue"in o?(Jn("REQUEST_TIME"===o.setToServerValue),c=new zb):"appendMissingElements"in o?c=new wy(o.appendMissingElements.values||[]):"removeAllFromArray"in o?c=new Ey(o.removeAllFromArray.values||[]):"increment"in o?c=new Hb(s,o.increment):zn();const u=eo.fromServerFormat(o.fieldPath);return new Z2(u,c)}(n,i)):[];var i;if(e.update){const i=jd(n,e.update.name),s=new ba({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new fl((e.updateMask.fieldPaths||[]).map(h=>eo.fromServerFormat(h)));return new Cf(i,s,o,t,r)}return new $b(i,s,t,r)}if(e.delete){const i=jd(n,e.delete);return new Wb(i,t)}if(e.verify){const i=jd(n,e.verify);return new F3(i,t)}return zn()}function bq(n,e){return{documents:[U3(n,e.path)]}}function V3(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=U3(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=U3(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return Iq(Ki.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(h=>{return{field:Gb((g=h).field),direction:$fe(g.dir)};var g})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(h=e.limit,n.wt||V2(h)?h:{value:h});var h,c,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function wq(n){let e=mq(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Jn(1===r);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];t.where&&(s=function(g){const _=Eq(g);return _ instanceof Ki&&TW(_)?_.getFilters():[_]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(g=>{return new Ub(Kb((_=g).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction));var _}));let c=null;t.limit&&(c=function(g){let _;return _="object"==typeof g?g.value:g,V2(_)?null:_}(t.limit));let u=null;var g;t.startAt&&(u=new jg((g=t.startAt).values||[],!!g.before));let h=null;return t.endAt&&(h=function(g){return new jg(g.values||[],!g.before)}(t.endAt)),jW(e,i,o,s,c,"F",u,h)}function Eq(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Kb(e.unaryFilter.field);return li.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Kb(e.unaryFilter.field);return li.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Kb(e.unaryFilter.field);return li.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Kb(e.unaryFilter.field);return li.create(s,"!=",{nullValue:"NULL_VALUE"});default:return zn()}}(n):void 0!==n.fieldFilter?function(e){return li.create(Kb(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zn()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):void 0!==n.compositeFilter?function(e){return Ki.create(e.compositeFilter.filters.map(t=>Eq(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return zn()}}(e.compositeFilter.op))}(n):zn()}function $fe(n){return Ofe[n]}function Wfe(n){return Lfe[n]}function qfe(n){return Ffe[n]}function Gb(n){return{fieldPath:n.canonicalString()}}function Kb(n){return eo.fromServerFormat(n.fieldPath)}function Iq(n){return n instanceof li?function(e){if("=="===e.op){if(wW(e.value))return{unaryFilter:{field:Gb(e.field),op:"IS_NAN"}};if(bW(e.value))return{unaryFilter:{field:Gb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wW(e.value))return{unaryFilter:{field:Gb(e.field),op:"IS_NOT_NAN"}};if(bW(e.value))return{unaryFilter:{field:Gb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gb(e.field),op:Wfe(e.op),value:e.value}}}(n):n instanceof Ki?function(e){const t=e.getFilters().map(r=>Iq(r));return 1===t.length?t[0]:{compositeFilter:{op:qfe(e.op),filters:t}}}(n):zn()}function Gfe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Cq(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ic(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Sq(e)),e=Kfe(n.get(t),e);return Sq(e)}function Kfe(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function Sq(n){return n+"\x01\x01"}function Vd(n){const e=n.length;if(Jn(e>=2),2===e)return Jn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),wi.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&zn(),n.charAt(o+1)){case"\x01":const c=n.substring(s,o);let u;0===i.length?u=c:(i+=c,u=i,i=""),r.push(u);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:zn()}s=o+2}return new wi(r)}const xq=["userId","batchId"];function S5(n,e){return[n,ic(e)]}function Aq(n,e,t){return[n,ic(e),t]}const Zfe={},Yfe=["prefixPath","collectionGroup","readTime","documentId"],Xfe=["prefixPath","collectionGroup","documentId"],Qfe=["collectionGroup","readTime","prefixPath","documentId"],Jfe=["canonicalId","targetId"],epe=["targetId","path"],tpe=["path","targetId"],npe=["collectionId","parent"],rpe=["indexId","uid"],ipe=["uid","sequenceNumber"],spe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ope=["indexId","uid","orderedDocumentKey"],ape=["userId","collectionPath","documentId"],cpe=["userId","collectionPath","largestBatchId"],lpe=["userId","collectionGroup","largestBatchId"],Tq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],upe=[...Tq,"documentOverlays"],Dq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Mq=Dq,dpe=[...Mq,"indexConfiguration","indexState","indexEntries"];class z3 extends fW{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Jo(n,e){const t=En(n);return Tu.M(t.se,e)}class H3{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Afe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Y2(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Y2(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=cq();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=t.has(i.key)?null:c;const u=JW(o,c);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ir.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Wr())}isEqual(e){return this.batchId===e.batchId&&Lb(this.mutations,e.mutations,(t,r)=>eq(t,r))&&Lb(this.baseMutations,e.baseMutations,(t,r)=>eq(t,r))}}class $3{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Jn(e.mutations.length===r.length);let i=Nfe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new $3(e,t,r,i)}}class W3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zg{constructor(e,t,r,i,s=ir.min(),o=ir.min(),c=Vo.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c}withSequenceNumber(e){return new zg(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new zg(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new zg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Nq{constructor(e){this.ie=e}}function Pq(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:x5(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:tC(i=n.ie,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:qb(i,s.version.toTimestamp()),createTime:qb(i,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Iy(e.version)};else{if(!e.isUnknownDocument())return zn();r.unknownDocument={path:t.path.toArray(),version:Iy(e.version)}}var i,s;return r}function x5(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Iy(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cy(n){const e=new Fs(n.seconds,n.nanoseconds);return ir.fromTimestamp(e)}function Sy(n,e){const t=(e.baseMutations||[]).map(s=>j3(n.ie,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(o.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const r=e.mutations.map(s=>j3(n.ie,s)),i=Fs.fromMillis(e.localWriteTimeMs);return new H3(e.batchId,i,t,r)}function iC(n){const e=Cy(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Cy(n.lastLimboFreeSnapshotVersion):ir.min();let r;var i;return void 0!==n.query.documents?(Jn(1===(i=n.query).documents.length),r=rc(Vb(mq(i.documents[0])))):r=rc(wq(n.query)),new zg(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Vo.fromBase64String(n.resumeToken))}function Rq(n,e){const t=Iy(e.snapshotVersion),r=Iy(e.lastLimboFreeSnapshotVersion);let i;i=m5(e.target)?bq(n.ie,e.target):V3(n.ie,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vy(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function q3(n){const e=wq({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?v5(e,e.limit,"L"):e}function G3(n,e){return new W3(e.largestBatchId,j3(n.ie,e.overlayMutation))}function kq(n,e){const t=e.path.lastSegment();return[n,ic(e.path.popLast()),t]}function Oq(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Iy(r.readTime),documentKey:ic(r.documentKey.path),largestBatchId:r.largestBatchId}}class fpe{getBundleMetadata(e,t){return Lq(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Cy(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Lq(e).put({bundleId:(r=t).id,createTime:Iy(po(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Fq(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:q3(i.bundledQuery),readTime:Cy(i.readTime)};var i})}saveNamedQuery(e,t){return Fq(e).put({name:(r=t).name,readTime:Iy(po(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Lq(n){return Jo(n,"bundles")}function Fq(n){return Jo(n,"namedQueries")}class A5{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new A5(e,t.uid||"")}getOverlay(e,t){return sC(e).get(kq(this.userId,t)).next(r=>r?G3(this.yt,r):null)}getOverlays(e,t){const r=Ud();return ct.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const c=new W3(t,o);i.push(this.oe(e,c))}),ct.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(ic(o.getCollectionPath())));const s=[];return i.forEach(o=>{const c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(sC(e).Y("collectionPathOverlayIndex",c))}),ct.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Ud(),s=ic(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return sC(e).W("collectionPathOverlayIndex",o).next(c=>{for(const u of c){const h=G3(this.yt,u);i.set(h.getKey(),h)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Ud();let o;const c=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sC(e).Z({index:"collectionGroupOverlayIndex",range:c},(u,h,g)=>{const _=G3(this.yt,h);s.size()<i||_.largestBatchId===o?(s.set(_.getKey(),_),o=_.largestBatchId):g.done()}).next(()=>s)}oe(e,t){return sC(e).put(function(r,i,s){const[o,c,u]=kq(i,s.mutation.key);return{userId:i,collectionPath:c,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:rC(r.ie,s.mutation)}}(this.yt,this.userId,t))}}function sC(n){return Jo(n,"documentOverlays")}class xy{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(to(e.integerValue));else if("doubleValue"in e){const r=to(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),z2(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(my(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?EW(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):zn()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),mn.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function ppe(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Bq(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=ppe(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}xy.Ie=new xy;class gpe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=Bq(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=Bq(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class mpe{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class _pe{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class oC{constructor(){this.$e=new gpe,this.Be=new mpe(this.$e),this.Le=new _pe(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Ay{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ay(this.indexId,this.documentKey,this.arrayValue,r)}}function Hg(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Uq(n.arrayValue,e.arrayValue),0!==t?t:(t=Uq(n.directionalValue,e.directionalValue),0!==t?t:mn.comparator(n.documentKey,e.documentKey)))}function Uq(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class ype{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){Jn(e.collectionGroup===this.collectionId);const t=I3(e);if(void 0!==t&&!this.We(t))return!1;const r=fy(e);let i=0,s=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const o=r[i];if(!this.ze(this.Qe,o)||!this.He(this.Ke[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ke.length||!this.He(this.Ke[s++],o))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function jq(n){var e,t;if(Jn(n instanceof li||n instanceof Ki),n instanceof li){if(n instanceof OW){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>li.create(n.field,"==",s)))||[];return Ki.create(i,"or")}return n}const r=n.filters.map(i=>jq(i));return Ki.create(r,n.op)}function vpe(n){if(0===n.getFilters().length)return[];const e=Y3(jq(n));return Jn(Vq(e)),K3(e)||Z3(e)?[e]:e.getFilters()}function K3(n){return n instanceof li}function Z3(n){return n instanceof Ki&&TW(n)}function Vq(n){return K3(n)||Z3(n)||function(e){if(e instanceof Ki&&M3(e)){for(const t of e.getFilters())if(!K3(t)&&!Z3(t))return!1;return!0}return!1}(n)}function Y3(n){if(Jn(n instanceof li||n instanceof Ki),n instanceof li)return n;if(1===n.filters.length)return Y3(n.filters[0]);const e=n.filters.map(r=>Y3(r));let t=Ki.create(e,n.op);return t=T5(t),Vq(t)?t:(Jn(t instanceof Ki),Jn(Bb(t)),Jn(t.filters.length>1),t.filters.reduce((r,i)=>X3(r,i)))}function X3(n,e){let t;return Jn(n instanceof li||n instanceof Ki),Jn(e instanceof li||e instanceof Ki),t=n instanceof li?e instanceof li?Ki.create([n,e],"and"):zq(n,e):e instanceof li?zq(e,n):function(r,i){if(Jn(r.filters.length>0&&i.filters.length>0),Bb(r)&&Bb(i))return PW(r,i.getFilters());const s=M3(r)?r:i,o=M3(r)?i:r,c=s.filters.map(u=>X3(u,o));return Ki.create(c,"or")}(n,e),T5(t)}function zq(n,e){if(Bb(e))return PW(e,n.getFilters());{const t=e.filters.map(r=>X3(n,r));return Ki.create(t,"or")}}function T5(n){if(Jn(n instanceof li||n instanceof Ki),n instanceof li)return n;const e=n.getFilters();if(1===e.length)return T5(e[0]);if(DW(n))return n;const t=e.map(i=>T5(i)),r=[];return t.forEach(i=>{i instanceof li?r.push(i):i instanceof Ki&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Ki.create(r,n.op)}class bpe{constructor(){this.Je=new Q3}addToCollectionParentIndex(e,t){return this.Je.add(t),ct.resolve()}getCollectionParents(e,t){return ct.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ct.resolve()}deleteFieldIndex(e,t){return ct.resolve()}getDocumentsMatchingTarget(e,t){return ct.resolve(null)}getIndexType(e,t){return ct.resolve(0)}getFieldIndexes(e,t){return ct.resolve([])}getNextCollectionGroupToUpdate(e){return ct.resolve(null)}getMinOffset(e,t){return ct.resolve(dl.min())}getMinOffsetFromCollectionGroup(e,t){return ct.resolve(dl.min())}updateCollectionGroup(e,t,r){return ct.resolve()}updateIndexEntries(e,t){return ct.resolve()}}class Q3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new rs(wi.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rs(wi.comparator)).toArray()}}const D5=new Uint8Array(0);class wpe{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Q3,this.Xe=new Vg(r=>vy(r),(r,i)=>G2(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const s={collectionId:r,parent:ic(i)};return Hq(e).put(s)}return ct.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[lW(t),""],!1,!0);return Hq(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(Vd(o.parent))}return r})}addFieldIndex(e,t){const r=M5(e),i={indexId:(o=t).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var o;delete i.indexId;const s=r.add(i);if(t.indexState){const o=cC(e);return s.next(c=>{o.put(Oq(c,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=M5(e),i=cC(e),s=aC(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=aC(e);let i=!0;const s=new Map;return ct.forEach(this.Ze(t),o=>this.tn(e,o).next(c=>{i&&(i=!!c),s.set(o,c)})).next(()=>{if(i){let o=Wr();const c=[];return ct.forEach(s,(u,h)=>{var g;Jt("IndexedDbIndexManager",`Using index ${g=u,`id=${g.indexId}|cg=${g.collectionGroup}|f=${g.fields.map(Y=>`${Y.fieldPath}:${Y.kind}`).join(",")}`} to execute ${vy(t)}`);const _=function(Y,te){const ce=I3(te);if(void 0===ce)return null;for(const ye of _5(Y,ce.fieldPath))switch(ye.op){case"array-contains-any":return ye.value.arrayValue.values||[];case"array-contains":return[ye.value]}return null}(h,u),I=function(Y,te){const ce=new Map;for(const ye of fy(te))for(const pe of _5(Y,ye.fieldPath))switch(pe.op){case"==":case"in":ce.set(ye.fieldPath.canonicalString(),pe.value);break;case"not-in":case"!=":return ce.set(ye.fieldPath.canonicalString(),pe.value),Array.from(ce.values())}return null}(h,u),w=function(Y,te){const ce=[];let ye=!0;for(const pe of fy(te)){const le=0===pe.kind?BW(Y,pe.fieldPath,Y.startAt):UW(Y,pe.fieldPath,Y.startAt);ce.push(le.value),ye&&(ye=le.inclusive)}return new jg(ce,ye)}(h,u),x=function(Y,te){const ce=[];let ye=!0;for(const pe of fy(te)){const le=0===pe.kind?UW(Y,pe.fieldPath,Y.endAt):BW(Y,pe.fieldPath,Y.endAt);ce.push(le.value),ye&&(ye=le.inclusive)}return new jg(ce,ye)}(h,u),R=this.en(u,h,w),O=this.en(u,h,x),L=this.nn(u,h,I),U=this.sn(u.indexId,_,R,w.inclusive,O,x.inclusive,L);return ct.forEach(U,Y=>r.J(Y,t.limit).next(te=>{te.forEach(ce=>{const ye=mn.fromSegments(ce.documentKey);o.has(ye)||(o=o.add(ye),c.push(ye))})}))}).next(()=>c)}return ct.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:vpe(Ki.create(e.filters,"and")).map(r=>N3(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,s,o,c){const u=(null!=t?t.length:1)*Math.max(r.length,s.length),h=u/(null!=t?t.length:1),g=[];for(let _=0;_<u;++_){const I=t?this.rn(t[_/h]):D5,w=this.on(e,I,r[_%h],i),x=this.un(e,I,s[_%h],o),R=c.map(O=>this.on(e,I,O,!0));g.push(...this.createRange(w,x,R))}return g}on(e,t,r,i){const s=new Ay(e,mn.empty(),t,r);return i?s:s.Ue()}un(e,t,r,i){const s=new Ay(e,mn.empty(),t,r);return i?s.Ue():s}tn(e,t){const r=new ype(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const c of s)r.je(c)&&(!o||c.fields.length>o.fields.length)&&(o=c);return o})}getIndexType(e,t){let r=2;const i=this.Ze(t);return ct.forEach(i,s=>this.tn(e,s).next(o=>{o?0!==r&&o.fields.length<function(c){let u=new rs(eo.comparator),h=!1;for(const g of c.filters)for(const _ of g.getFlattenedFilters())_.field.isKeyField()||("array-contains"===_.op||"array-contains-any"===_.op?h=!0:u=u.add(_.field));for(const g of c.orderBy)g.field.isKeyField()||(u=u.add(g.field));return u.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new oC;for(const i of fy(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.qe(i.kind);xy.Ie.ue(s,o)}return r.Fe()}rn(e){const t=new oC;return xy.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new oC;return xy.Ie.ue(yy(this.databaseId,t),r.qe(function(i){const s=fy(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new oC);let s=0;for(const o of fy(e)){const c=r[s++];for(const u of i)if(this.hn(t,o.fieldPath)&&W2(c))i=this.ln(i,o,c);else{const h=u.qe(o.kind);xy.Ie.ue(c,h)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const c of i){const u=new oC;u.seed(c.Fe()),xy.Ie.ue(o,u.qe(t.kind)),s.push(u)}return s}hn(e,t){return!!e.filters.find(r=>r instanceof li&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=M5(e),i=cC(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const o=[];return ct.forEach(s,c=>i.get([c.indexId,this.uid]).next(u=>{o.push(function(h,g){const _=g?new U2(g.sequenceNumber,new dl(Cy(g.readTime),new mn(Vd(g.documentKey)),g.largestBatchId)):U2.empty(),I=h.fields.map(([w,x])=>new d5(eo.fromServerFormat(w),x));return new u5(h.indexId,h.collectionGroup,I,_)}(c,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Or(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=M5(e),s=cC(e);return this.dn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(c=>ct.forEach(c,u=>s.put(Oq(u.indexId,this.user,o,r)))))}updateIndexEntries(e,t){const r=new Map;return ct.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?ct.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(c=>(r.set(i.collectionGroup,c),ct.forEach(c,u=>this._n(e,i,u).next(h=>{const g=this.wn(s,u);return h.isEqual(g)?ct.resolve():this.mn(e,s,u,h,g)}))))})}gn(e,t,r,i){return aC(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return aC(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=aC(e);let s=new rs(Hg);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(o,c)=>{s=s.add(new Ay(r.indexId,t,c.arrayValue,c.directionalValue))}).next(()=>s)}wn(e,t){let r=new rs(Hg);const i=this.cn(t,e);if(null==i)return r;const s=I3(t);if(null!=s){const o=e.data.field(s.fieldPath);if(W2(o))for(const c of o.arrayValue.values||[])r=r.add(new Ay(t.indexId,e.key,this.rn(c),i))}else r=r.add(new Ay(t.indexId,e.key,D5,i));return r}mn(e,t,r,i,s){Jt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(c,u,h,g,_){const I=c.getIterator(),w=u.getIterator();let x=jb(I),R=jb(w);for(;x||R;){let O=!1,L=!1;if(x&&R){const U=h(x,R);U<0?L=!0:U>0&&(O=!0)}else null!=x?L=!0:O=!0;O?(g(R),R=jb(w)):L?(_(x),x=jb(I)):(x=jb(I),R=jb(w))}}(i,s,Hg,c=>{o.push(this.gn(e,t,r,c))},c=>{o.push(this.yn(e,t,r,c))}),ct.waitFor(o)}dn(e){let t=1;return cC(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,c)=>Hg(o,c)).filter((o,c,u)=>!c||0!==Hg(o,u[c-1]));const i=[];i.push(e);for(const o of r){const c=Hg(o,e),u=Hg(o,t);if(0===c)i[0]=e.Ue();else if(c>0&&u<0)i.push(o),i.push(o.Ue());else if(u>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.pn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,D5,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,D5,[]]))}return s}pn(e,t){return Hg(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($q)}getMinOffset(e,t){return ct.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||zn())).next($q)}}function Hq(n){return Jo(n,"collectionParents")}function aC(n){return Jo(n,"indexEntries")}function M5(n){return Jo(n,"indexConfiguration")}function cC(n){return Jo(n,"indexState")}function $q(n){Jn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;C3(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new dl(e.readTime,e.documentKey,t)}const Wq={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Oc{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Oc(e,Oc.DEFAULT_COLLECTION_PERCENTILE,Oc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qq(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let c=0;const u=r.Z({range:o},(g,_,I)=>(c++,I.delete()));s.push(u.next(()=>{Jn(1===c)}));const h=[];for(const g of t.mutations){const _=Aq(e,g.key.path,t.batchId);s.push(i.delete(_)),h.push(g.key)}return ct.waitFor(s).next(()=>h)}function N5(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw zn();e=n.noDocument}return JSON.stringify(e).length}Oc.DEFAULT_COLLECTION_PERCENTILE=10,Oc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oc.DEFAULT=new Oc(41943040,Oc.DEFAULT_COLLECTION_PERCENTILE,Oc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oc.DISABLED=new Oc(-1,0,0);class P5{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){Jn(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new P5(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $g(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Zb(e),o=$g(e);return o.add({}).next(c=>{Jn("number"==typeof c);const u=new H3(c,t,r,i),h=function(I,w,x){const R=x.baseMutations.map(L=>rC(I.ie,L)),O=x.mutations.map(L=>rC(I.ie,L));return{userId:w,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:R,mutations:O}}(this.yt,this.userId,u),g=[];let _=new rs((I,w)=>Or(I.canonicalString(),w.canonicalString()));for(const I of i){const w=Aq(this.userId,I.key.path,c);_=_.add(I.key.path.popLast()),g.push(o.put(h)),g.push(s.put(w,Zfe))}return _.forEach(I=>{g.push(this.indexManager.addToCollectionParentIndex(e,I))}),e.addOnCommittedListener(()=>{this.In[c]=u.keys()}),ct.waitFor(g).next(()=>u)})}lookupMutationBatch(e,t){return $g(e).get(t).next(r=>r?(Jn(r.userId===this.userId),Sy(this.yt,r)):null)}Tn(e,t){return this.In[t]?ct.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return $g(e).Z({index:"userMutationsIndex",range:i},(o,c,u)=>{c.userId===this.userId&&(Jn(c.batchId>=r),s=Sy(this.yt,c)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return $g(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $g(e).W("userMutationsIndex",t).next(r=>r.map(i=>Sy(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=S5(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Zb(e).Z({range:i},(o,c,u)=>{const[h,g,_]=o,I=Vd(g);if(h===this.userId&&t.path.isEqual(I))return $g(e).get(_).next(w=>{if(!w)throw zn();Jn(w.userId===this.userId),s.push(Sy(this.yt,w))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rs(Or);const i=[];return t.forEach(s=>{const o=S5(this.userId,s.path),c=IDBKeyRange.lowerBound(o),u=Zb(e).Z({range:c},(h,g,_)=>{const[I,w,x]=h,R=Vd(w);I===this.userId&&s.path.isEqual(R)?r=r.add(x):_.done()});i.push(u)}),ct.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=S5(this.userId,r),o=IDBKeyRange.lowerBound(s);let c=new rs(Or);return Zb(e).Z({range:o},(u,h,g)=>{const[_,I,w]=u,x=Vd(I);_===this.userId&&r.isPrefixOf(x)?x.length===i&&(c=c.add(w)):g.done()}).next(()=>this.En(e,c))}En(e,t){const r=[],i=[];return t.forEach(s=>{i.push($g(e).get(s).next(o=>{if(null===o)throw zn();Jn(o.userId===this.userId),r.push(Sy(this.yt,o))}))}),ct.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return qq(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ct.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ct.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Zb(e).Z({range:r},(s,o,c)=>{if(s[0]===this.userId){const u=Vd(s[1]);i.push(u)}else c.done()}).next(()=>{Jn(0===i.length)})})}containsKey(e,t){return Gq(e,this.userId,t)}Rn(e){return Kq(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Gq(n,e,t){const r=S5(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Zb(n).Z({range:s,X:!0},(c,u,h)=>{const[g,_,I]=c;g===e&&_===i&&(o=!0),h.done()}).next(()=>o)}function $g(n){return Jo(n,"mutations")}function Zb(n){return Jo(n,"documentMutations")}function Kq(n){return Jo(n,"mutationQueues")}class Ty{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ty(0)}static vn(){return new Ty(-1)}}class Epe{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Ty(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>ir.fromTimestamp(new Fs(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Yb(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Jn(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return Yb(e).Z((o,c)=>{const u=iC(c);u.sequenceNumber<=t&&null===r.get(u.targetId)&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>ct.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Yb(e).Z((r,i)=>{const s=iC(i);t(s)})}Vn(e){return Zq(e).get("targetGlobalKey").next(t=>(Jn(null!==t),t))}Sn(e,t){return Zq(e).put("targetGlobalKey",t)}Dn(e,t){return Yb(e).put(Rq(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=vy(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Yb(e).Z({range:i,index:"queryTargetsIndex"},(o,c,u)=>{const h=iC(c);G2(t,h.target)&&(s=h,u.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Wg(e);return t.forEach(o=>{const c=ic(o.path);i.push(s.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,o))}),ct.waitFor(i)}removeMatchingKeys(e,t,r){const i=Wg(e);return ct.forEach(t,s=>{const o=ic(s.path);return ct.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Wg(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Wg(e);let s=Wr();return i.Z({range:r,X:!0},(o,c,u)=>{const h=Vd(o[1]),g=new mn(h);s=s.add(g)}).next(()=>s)}containsKey(e,t){const r=ic(t.path),i=IDBKeyRange.bound([r],[lW(r)],!1,!0);let s=0;return Wg(e).Z({index:"documentTargetsIndex",X:!0,range:i},([o,c],u,h)=>{0!==o&&(s++,h.done())}).next(()=>s>0)}ne(e,t){return Yb(e).get(t).next(r=>r?iC(r):null)}}function Yb(n){return Jo(n,"targets")}function Zq(n){return Jo(n,"targetGlobal")}function Wg(n){return Jo(n,"targetDocuments")}function Yq([n,e],[t,r]){const i=Or(n,t);return 0===i?Or(e,r):i}class Ipe{constructor(e){this.xn=e,this.buffer=new rs(Yq),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Yq(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Cpe{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Jt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_t.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Og(r)?Jt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield kg(r)}yield t.Fn(3e5)}))}}class Spe{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ct.resolve(hl.at);const r=new Ipe(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Jt("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(Wq)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Jt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wq):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,s,o,c,u,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Jt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,o=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,t))).next(_=>(s=_,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(h=Date.now(),w3()<=Na.in.DEBUG&&Jt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-g}ms\n\tDetermined least recently used ${i} in `+(c-o)+`ms\n\tRemoved ${s} targets in `+(u-c)+`ms\n\tRemoved ${_} documents in `+(h-u)+`ms\nTotal Duration: ${h-g}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:_})))}}class xpe{constructor(e,t){this.db=e,this.garbageCollector=new Spe(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return R5(e,r)}removeReference(e,t,r){return R5(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return R5(e,t)}Gn(e,t){return function(r,i){let s=!1;return Kq(r).tt(o=>Gq(r,o,i).next(c=>(c&&(s=!0),ct.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Kn(e,(o,c)=>{if(c<=t){const u=this.Gn(e,o).next(h=>{if(!h)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ir.min()),Wg(e).delete([0,ic(o.path)])))});i.push(u)}}).next(()=>ct.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return R5(e,t)}Kn(e,t){const r=Wg(e);let i,s=hl.at;return r.Z({index:"documentTargetsIndex"},([o,c],{path:u,sequenceNumber:h})=>{0===o?(s!==hl.at&&t(new mn(Vd(i)),s),s=h,i=u):s=hl.at}).next(()=>{s!==hl.at&&t(new mn(Vd(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function R5(n,e){return Wg(n).put((r=n.currentSequenceNumber,{targetId:0,path:ic(e.path),sequenceNumber:r}));var r}class Xq{constructor(){this.changes=new Vg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ct.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ape{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Dy(e).put(r)}removeEntry(e,t,r){return Dy(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],x5(s),o[o.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Cs.newInvalidDocument(t);return Dy(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(lC(t))},(i,s)=>{r=this.jn(t,s)}).next(()=>r)}Wn(e,t){let r={size:0,document:Cs.newInvalidDocument(t)};return Dy(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(lC(t))},(i,s)=>{r={document:this.jn(t,s),size:N5(s)}}).next(()=>r)}getEntries(e,t){let r=kc();return this.zn(e,t,(i,s)=>{const o=this.jn(i,s);r=r.insert(i,o)}).next(()=>r)}Hn(e,t){let r=kc(),i=new no(mn.comparator);return this.zn(e,t,(s,o)=>{const c=this.jn(s,o);r=r.insert(s,c),i=i.insert(s,N5(o))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ct.resolve();let i=new rs(tG);t.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(lC(i.first()),lC(i.last())),o=i.getIterator();let c=o.getNext();return Dy(e).Z({index:"documentKeyIndex",range:s},(u,h,g)=>{const _=mn.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;c&&tG(c,_)<0;)r(c,null),c=o.getNext();c&&c.isEqual(_)&&(r(c,h),c=o.hasNext()?o.getNext():null),c?g.j(lC(c)):g.done()}).next(()=>{for(;c;)r(c,null),c=o.hasNext()?o.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),x5(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Dy(e).W(IDBKeyRange.bound(i,s,!0)).next(o=>{let c=kc();for(const u of o){const h=this.jn(mn.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);c=c.insert(h.key,h)}return c})}getAllFromCollectionGroup(e,t,r,i){let s=kc();const o=eG(t,r),c=eG(t,dl.max());return Dy(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,c,!0)},(u,h,g)=>{const _=this.jn(mn.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(_.key,_),s.size===i&&g.done()}).next(()=>s)}newChangeBuffer(e){return new Tpe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Jq(e).get("remoteDocumentGlobalKey").next(t=>(Jn(!!t),t))}Qn(e,t){return Jq(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function hpe(n,e){let t;if(e.document)t=vq(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=mn.fromSegments(e.noDocument.path),i=Cy(e.noDocument.readTime);t=Cs.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return zn();{const r=mn.fromSegments(e.unknownDocument.path),i=Cy(e.unknownDocument.version);t=Cs.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Fs(r[0],r[1]);return ir.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(ir.min()))return r}return Cs.newInvalidDocument(e)}}function Qq(n){return new Ape(n)}class Tpe extends Xq{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Vg(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new rs((s,o)=>Or(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const c=this.Xn.get(s);if(t.push(this.Yn.removeEntry(e,s,c.readTime)),o.isValidDocument()){const u=Pq(this.Yn.yt,o);i=i.add(s.path.popLast());const h=N5(u);r+=h-c.size,t.push(this.Yn.addEntry(e,s,u))}else if(r-=c.size,this.trackRemovals){const u=Pq(this.Yn.yt,o.convertToNoDocument(ir.min()));t.push(this.Yn.addEntry(e,s,u))}}),i.forEach(s=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Yn.updateMetadata(e,r)),ct.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((s,o)=>{this.Xn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function Jq(n){return Jo(n,"remoteDocumentGlobal")}function Dy(n){return Jo(n,"remoteDocumentsV14")}function lC(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function eG(n,e){const t=e.documentKey.path.toArray();return[n,x5(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function tG(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Or(t[s],r[s]),i)return i;return i=Or(t.length,r.length),i||(i=Or(t[t.length-2],r[r.length-2]),i||Or(t[t.length-1],r[r.length-1]))}class Dpe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class nG{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Y2(r.mutation,i,fl.empty(),Fs.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Wr()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Wr()){const i=Ud();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=X2();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Ud();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Wr()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,r,i){let s=kc();const o=Q2(),c=Q2();return t.forEach((u,h)=>{const g=r.get(h.key);i.has(h.key)&&(void 0===g||g.mutation instanceof Cf)?s=s.insert(h.key,h):void 0!==g&&(o.set(h.key,g.mutation.getFieldMask()),Y2(g.mutation,h,g.mutation.getFieldMask(),Fs.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,g)=>o.set(h,g)),t.forEach((h,g)=>{var _;return c.set(h,new Dpe(g,null!==(_=o.get(h))&&void 0!==_?_:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Q2();let i=new no((o,c)=>o-c),s=Wr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const c of o)c.keys().forEach(u=>{const h=t.get(u);if(null===h)return;let g=r.get(u)||fl.empty();g=c.applyToLocalView(h,g),r.set(u,g);const _=(i.get(c.batchId)||Wr()).add(u);i=i.insert(c.batchId,_)})}).next(()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,g=u.value,_=cq();g.forEach(I=>{if(!s.has(I)){const w=JW(t.get(I),r.get(I));null!==w&&_.set(I,w),s=s.add(I)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,_))}return ct.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return mn.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):R3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ct.resolve(Ud());let c=-1,u=s;return o.next(h=>ct.forEach(h,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),s.get(g)?ct.resolve():this.remoteDocumentCache.getEntry(e,g).next(I=>{u=u.insert(g,I)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,Wr())).next(g=>({batchId:c,changes:aq(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new mn(t)).next(r=>{let i=X2();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=X2();return this.indexManager.getCollectionParents(e,i).next(o=>ct.forEach(o,c=>{const u=(h=t,g=c.child(i),new If(g,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,g;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(h=>{h.forEach((g,_)=>{s=s.insert(g,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((c,u)=>{const h=u.getKey();null===i.get(h)&&(i=i.insert(h,Cs.newInvalidDocument(h)))});let o=X2();return i.forEach((c,u)=>{const h=s.get(c);void 0!==h&&Y2(h.mutation,u,fl.empty(),Fs.now()),L3(t,u)&&(o=o.insert(c,u))}),o})}}class Mpe{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ct.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:po(r.createTime)}),ct.resolve()}getNamedQuery(e,t){return ct.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:q3(r.bundledQuery),readTime:po(r.readTime)}),ct.resolve();var r}}class Npe{constructor(){this.overlays=new no(mn.comparator),this.es=new Map}getOverlay(e,t){return ct.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ud();return ct.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.oe(e,t,s)}),ct.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),ct.resolve()}getOverlaysForCollection(e,t,r){const i=Ud(),s=t.length+1,o=new mn(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return ct.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new no((h,g)=>h-g);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let g=s.get(h.largestBatchId);null===g&&(g=Ud(),s=s.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const c=Ud(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,g)=>c.set(h,g)),!(c.size()>=i)););return ct.resolve(c)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new W3(t,r));let s=this.es.get(t);void 0===s&&(s=Wr(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class J3{constructor(){this.ns=new rs(ea.ss),this.rs=new rs(ea.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new ea(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new ea(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new mn(new wi([])),r=new ea(t,e),i=new ea(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new mn(new wi([])),r=new ea(t,e),i=new ea(t,e+1);let s=Wr();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new ea(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ea{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return mn.comparator(e.key,t.key)||Or(e._s,t._s)}static os(e,t){return Or(e._s,t._s)||mn.comparator(e.key,t.key)}}class Ppe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new rs(ea.ss)}checkEmpty(e){return ct.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new H3(s,t,r,i);this.mutationQueue.push(o);for(const c of i)this.gs=this.gs.add(new ea(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ct.resolve(o)}lookupMutationBatch(e,t){return ct.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return ct.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ea(t,0),i=new ea(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const c=this.ys(o._s);s.push(c)}),ct.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rs(Or);return t.forEach(i=>{const s=new ea(i,0),o=new ea(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],c=>{r=r.add(c._s)})}),ct.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;mn.isDocumentKey(s)||(s=s.child(""));const o=new ea(new mn(s),0);let c=new rs(Or);return this.gs.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(u._s)),!0)},o),ct.resolve(this.Is(c))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Jn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ct.forEach(t.mutations,i=>{const s=new ea(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new ea(t,0),i=this.gs.firstAfterOrEqual(r);return ct.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ct.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Rpe{constructor(e){this.Es=e,this.docs=new no(mn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ct.resolve(r?r.document.mutableCopy():Cs.newInvalidDocument(t))}getEntries(e,t){let r=kc();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Cs.newInvalidDocument(i))}),ct.resolve(r)}getAllFromCollection(e,t,r){let i=kc();const s=new mn(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:c,value:{document:u}}=o.getNext();if(!t.isPrefixOf(c.path))break;c.path.length>t.length+1||C3(dW(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return ct.resolve(i)}getAllFromCollectionGroup(e,t,r,i){zn()}As(e,t){return ct.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new kpe(this)}getSize(e){return ct.resolve(this.size)}}class kpe extends Xq{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ct.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Ope{constructor(e){this.persistence=e,this.Rs=new Vg(t=>vy(t),G2),this.lastRemoteSnapshotVersion=ir.min(),this.highestTargetId=0,this.bs=0,this.Ps=new J3,this.targetCount=0,this.vs=Ty.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ct.resolve()}getLastRemoteSnapshotVersion(e){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ct.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ct.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Ty(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ct.resolve()}updateTargetData(e,t){return this.Dn(t),ct.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ct.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,c)=>{c.sequenceNumber<=t&&null===r.get(c.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ct.waitFor(s).next(()=>i)}getTargetCount(e){return ct.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ct.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ct.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ct.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ct.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ct.resolve(r)}containsKey(e,t){return ct.resolve(this.Ps.containsKey(t))}}class rG{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new hl(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Ope(this),this.indexManager=new bpe,this.remoteDocumentCache=new Rpe(r=>this.referenceDelegate.xs(r)),this.yt=new Nq(t),this.Ns=new Mpe(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Npe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new Ppe(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Jt("MemoryPersistence","Starting transaction:",e);const i=new Lpe(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return ct.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Lpe extends fW{constructor(e){super(),this.currentSequenceNumber=e}}class k5{constructor(e){this.persistence=e,this.Fs=new J3,this.$s=null}static Bs(e){return new k5(e)}get Ls(){if(this.$s)return this.$s;throw zn()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ct.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ct.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ct.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.Ls,r=>{const i=mn.fromPath(r);return this.qs(e,i).next(s=>{s||t.removeEntry(i,ir.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ct.or([()=>ct.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Fpe{constructor(e){this.yt=e}$(e,t,r,i){const s=new h5("createOrUpgrade",t);var c;r<1&&i>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xq,{unique:!0}),c.createObjectStore("documentMutations"),iG(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=ct.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),iG(e)),o=o.next(()=>function(c){const u=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ir.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",h)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(c,u){return u.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xq,{unique:!0});const g=u.store("mutations"),_=h.map(I=>g.put(I));return ct.waitFor(_)})}(e,s))),o=o.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Us(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),r<7&&i>=7&&(o=o.next(()=>this.Gs(s))),r<8&&i>=8&&(o=o.next(()=>this.Qs(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.js(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(c){const u=c.createObjectStore("documentOverlays",{keyPath:ape});u.createIndex("collectionPathOverlayIndex",cpe,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",lpe,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){const u=c.createObjectStore("remoteDocumentsV14",{keyPath:Yfe});u.createIndex("documentKeyIndex",Xfe),u.createIndex("collectionGroupIndex",Qfe)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.zs(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:rpe}).createIndex("sequenceNumberIndex",ipe,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:spe}).createIndex("documentKeyIndex",ope,{unique:!1})}(e))),o}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=N5(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ct.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(c=>ct.forEach(c,u=>{Jn(u.userId===s.userId);const h=Sy(this.yt,u);return qq(e,s.userId,h).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,c)=>{const u=new wi(o),h=[0,ic(u)];s.push(t.get(h).next(g=>g?ct.resolve():t.put({targetId:0,path:ic(u),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ct.waitFor(s))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:npe});const r=t.store("collectionParents"),i=new Q3,s=o=>{if(i.add(o)){const c=o.lastSegment(),u=o.popLast();return r.put({collectionId:c,parent:ic(u)})}};return t.store("remoteDocuments").Z({X:!0},(o,c)=>{const u=new wi(o);return s(u.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([o,c,u],h)=>{const g=Vd(c);return s(g.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const s=iC(i),o=Rq(this.yt,s);return t.put(o)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const c=t.store("remoteDocumentsV14"),u=(h=o,h.document?new mn(wi.fromString(h.document.name).popFirst(5)):h.noDocument?mn.fromSegments(h.noDocument.path):h.unknownDocument?mn.fromSegments(h.unknownDocument.path):zn()).path.toArray();var h;const g={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(c.put(g))}).next(()=>ct.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=Qq(this.yt),s=new rG(k5.Bs,this.yt.ie);return r.W().next(o=>{const c=new Map;return o.forEach(u=>{var h;let g=null!==(h=c.get(u.userId))&&void 0!==h?h:Wr();Sy(this.yt,u).keys().forEach(_=>g=g.add(_)),c.set(u.userId,g)}),ct.forEach(c,(u,h)=>{const g=new Qo(h),_=A5.re(this.yt,g),I=s.getIndexManager(g),w=P5.re(g,this.yt,I,s.referenceDelegate);return new nG(i,w,_,I).recalculateAndSaveOverlaysForDocumentKeys(new z3(t,hl.at),u).next()})})}}function iG(n){n.createObjectStore("targetDocuments",{keyPath:epe}).createIndex("documentTargetsIndex",tpe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Jfe,{unique:!0}),n.createObjectStore("targetGlobal")}const e4="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class t4{constructor(e,t,r,i,s,o,c,u,h,g,_=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=s,this.window=o,this.document=c,this.Js=h,this.Ys=g,this.Xs=_,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=I=>Promise.resolve(),!t4.C())throw new qt(pt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xpe(this,i),this.ii=t+"main",this.yt=new Nq(u),this.ri=new Tu(this.ii,this.Xs,new Fpe(this.yt)),this.Cs=new Epe(this.referenceDelegate,this.yt),this.remoteDocumentCache=Qq(this.yt),this.Ns=new fpe,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===g&&fo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qt(pt.FAILED_PRECONDITION,e4);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new hl(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,_t.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,_t.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,_t.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>O5(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Og(e))return Jt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Jt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return uC(e).get("owner").next(t=>ct.resolve(this.mi(t)))}gi(e){return O5(e).delete(this.clientId)}yi(){var e=this;return(0,_t.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Jo(r,"clientMetadata");return i.W().next(s=>{const o=e.Ii(s,18e5),c=s.filter(u=>-1===o.indexOf(u));return ct.forEach(c,u=>i.delete(u.clientId)).next(()=>c)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ct.resolve(!0):uC(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new qt(pt.FAILED_PRECONDITION,e4);return!1}}return!(!this.networkEnabled||!this.inForeground)||O5(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||o&&c)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Jt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_t.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new z3(t,hl.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>O5(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return P5.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new wpe(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return A5.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Jt("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(o=this.Xs)?dpe:14===o?Mq:13===o?Dq:12===o?upe:11===o?Tq:void zn();var o;let c;return this.ri.runTransaction(e,i,s,u=>(c=new z3(u,this.Ss?this.Ss.next():hl.at),"readwrite-primary"===t?this.fi(c).next(h=>!!h||this.di(c)).next(h=>{if(!h)throw fo(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new qt(pt.FAILED_PRECONDITION,hW);return r(c)}).next(h=>this.wi(c).next(()=>h)):this.Vi(c).next(()=>r(c)))).then(u=>(c.raiseOnCommittedEvent(),u))}Vi(e){return uC(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new qt(pt.FAILED_PRECONDITION,e4)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uC(e).put("owner",t)}static C(){return Tu.C()}_i(e){const t=uC(e);return t.get("owner").next(r=>this.mi(r)?(Jt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ct.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(fo(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ne.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Jt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return fo("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){fo("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function uC(n){return Jo(n,"owner")}function O5(n){return Jo(n,"clientMetadata")}function n4(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class r4{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Wr(),i=Wr();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new r4(e,t.fromCache,r,i)}}class sG{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(VW(t))return ct.resolve(null);let r=rc(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=v5(t,null,"F"),r=rc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Wr(...s);return this.Ni.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Fi(t,c);return this.$i(t,h,o,u.readTime)?this.ki(e,v5(t,null,"F")):this.Bi(e,h,t,u)}))})))}Oi(e,t,r,i){return VW(t)||i.isEqual(ir.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Mi(e,t):(w3()<=Na.in.DEBUG&&Jt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),O3(t)),this.Bi(e,o,t,uW(i,-1)))})}Fi(e,t){let r=new rs($W(e));return t.forEach((i,s)=>{L3(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return w3()<=Na.in.DEBUG&&Jt("QueryEngine","Using full collection scan to execute query:",O3(t)),this.Ni.getDocumentsMatchingQuery(e,t,dl.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Bpe{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new no(Or),this.Ui=new Vg(s=>vy(s),G2),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nG(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function oG(n,e,t,r){return new Bpe(n,e,t,r)}function aG(n,e){return i4.apply(this,arguments)}function i4(){return i4=(0,_t.Z)(function*(n,e){const t=En(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],c=[];let u=Wr();for(const h of i){o.push(h.batchId);for(const g of h.mutations)u=u.add(g.key)}for(const h of s){c.push(h.batchId);for(const g of h.mutations)u=u.add(g.key)}return t.localDocuments.getDocuments(r,u).next(h=>({ji:h,removedBatchIds:o,addedBatchIds:c}))})})}),i4.apply(this,arguments)}function Upe(n,e){const t=En(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,c,u,h){const g=u.batch,_=g.keys();let I=ct.resolve();return _.forEach(w=>{I=I.next(()=>h.getEntry(c,w)).next(x=>{const R=u.docVersions.get(w);Jn(null!==R),x.version.compareTo(R)<0&&(g.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),h.addEntry(x)))})}),I.next(()=>o.mutationQueue.removeMutationBatch(c,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let c=Wr();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function cG(n){const e=En(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function jpe(n,e){const t=En(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const c=[];e.targetChanges.forEach((g,_)=>{const I=i.get(_);if(!I)return;c.push(t.Cs.removeMatchingKeys(s,g.removedDocuments,_).next(()=>t.Cs.addMatchingKeys(s,g.addedDocuments,_)));let w=I.withSequenceNumber(s.currentSequenceNumber);var x,R,O;e.targetMismatches.has(_)?w=w.withResumeToken(Vo.EMPTY_BYTE_STRING,ir.min()).withLastLimboFreeSnapshotVersion(ir.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),i=i.insert(_,w),R=w,O=g,(0===(x=I).resumeToken.approximateByteSize()||R.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8||O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0)&&c.push(t.Cs.updateTargetData(s,w))});let u=kc(),h=Wr();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,g))}),c.push(lG(s,o,e.documentUpdates).next(g=>{u=g.Wi,h=g.zi})),!r.isEqual(ir.min())){const g=t.Cs.getLastRemoteSnapshotVersion(s).next(_=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(g)}return ct.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(t.qi=i,s))}function lG(n,e,t){let r=Wr(),i=Wr();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=kc();return t.forEach((c,u)=>{const h=s.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ir.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||0===u.version.compareTo(h.version)&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):Jt("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)}),{Wi:o,zi:i}})}function Vpe(n,e){const t=En(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xb(n,e){const t=En(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,ct.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new zg(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function Qb(n,e,t){return s4.apply(this,arguments)}function s4(){return s4=(0,_t.Z)(function*(n,e,t){const r=En(n),i=r.qi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Og(o))throw o;Jt("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),s4.apply(this,arguments)}function L5(n,e,t){const r=En(n);let i=ir.min(),s=Wr();return r.persistence.runTransaction("Execute query","readonly",o=>function(c,u,h){const g=En(c),_=g.Ui.get(h);return void 0!==_?ct.resolve(g.qi.get(_)):g.Cs.getTargetData(u,h)}(r,o,rc(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:ir.min(),t?s:Wr())).next(c=>(hG(r,HW(e),c),{documents:c,Hi:s})))}function uG(n,e){const t=En(n),r=En(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.ne(s,e).next(o=>o?o.target:null))}function dG(n,e){const t=En(n),r=t.Ki.get(e)||ir.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,uW(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(hG(t,e,i),i))}function hG(n,e,t){let r=n.Ki.get(e)||ir.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}function o4(){return o4=(0,_t.Z)(function*(n,e,t,r){const i=En(n);let s=Wr(),o=kc();for(const h of t){const g=e.Ji(h.metadata.name);h.document&&(s=s.add(g));const _=e.Yi(h);_.setReadTime(e.Xi(h.metadata.readTime)),o=o.insert(g,_)}const c=i.Gi.newChangeBuffer({trackRemovals:!0}),u=yield Xb(i,(h=r,rc(Vb(wi.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",h=>lG(h,c,o).next(g=>(c.apply(h),g)).next(g=>i.Cs.removeMatchingKeysForTargetId(h,u.targetId).next(()=>i.Cs.addMatchingKeys(h,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,g.Wi,g.zi)).next(()=>g.Wi)))}),o4.apply(this,arguments)}function Hpe(n,e){return a4.apply(this,arguments)}function a4(){return a4=(0,_t.Z)(function*(n,e,t=Wr()){const r=yield Xb(n,rc(q3(e.bundledQuery))),i=En(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=po(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ns.saveNamedQuery(s,e);const c=r.withResumeToken(Vo.EMPTY_BYTE_STRING,o);return i.qi=i.qi.insert(c.targetId,c),i.Cs.updateTargetData(s,c).next(()=>i.Cs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Cs.addMatchingKeys(s,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(s,e))})}),a4.apply(this,arguments)}function fG(n,e){return`firestore_clients_${n}_${e}`}function pG(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function c4(n,e){return`firestore_targets_${n}_${e}`}class F5{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new qt(i.error.code,i.error.message))),o?new F5(e,t,i.state,s):(fo("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dC{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new qt(r.error.code,r.error.message))),s?new dC(e,r.state,i):(fo("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class B5{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=I5();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=_W(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new B5(e,s):(fo("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class l4{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new l4(t.clientId,t.onlineState):(fo("SharedClientState",`Failed to parse online state: ${e}`),null)}}class u4{constructor(){this.activeTargetIds=I5()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d4{constructor(e,t,r,i,s){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new no(Or),this.started=!1,this.cr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=fG(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new u4),this.lr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_t.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const s=e.getItem(fG(e.persistenceKey,i));if(s){const o=B5.Zi(i,s);o&&(e.ur=e.ur.insert(o.clientId,o))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(c4(this.persistenceKey,e));if(r){const i=dC.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(c4(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Jt("SharedClientState","READ",e,t),t}setItem(e,t){Jt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Jt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Jt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void fo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,_t.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(s){let o=hl.at;if(null!=s)try{const c=JSON.parse(s);Jn("number"==typeof c),o=c}catch(c){fo("SharedClientState","Failed to read sequence number from WebStorage",c)}return o}(r.newValue);i!==hl.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Mr(s)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new F5(this.currentUser,e,t,r),s=pG(this.persistenceKey,this.currentUser,e);this.setItem(s,i.tr())}Er(e){const t=pG(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=c4(this.persistenceKey,e),s=new dC(e,t,r);this.setItem(i,s.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return B5.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return F5.Zi(new Qo(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return dC.Zi(i,t)}yr(e){return l4.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,_t.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Jt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),s=this.Ir(r),o=[],c=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||c.push(u)}),this.syncEngine.Br(o,c).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=I5();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class gG{constructor(){this.Lr=new u4,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new u4,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $pe{Ur(e){}shutdown(){}}class mG{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Jt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Jt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Wpe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qpe{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Gpe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const o=this.ho(e,t);Jt("RestConnection","Sending: ",o,r);const c={};return this.lo(c,i,s),this.fo(e,o,c,r).then(u=>(Jt("RestConnection","Received: ",u),u),u=>{throw hy("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,t,r,i,s,o){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ob,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Wpe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const c=new qhe;c.setWithCredentials(!0),c.listenOnce(Hhe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case b3.NO_ERROR:const h=c.getResponseJson();Jt("Connection","XHR received:",JSON.stringify(h)),s(h);break;case b3.TIMEOUT:Jt("Connection",'RPC "'+e+'" timed out'),o(new qt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case b3.HTTP_ERROR:const g=c.getStatus();if(Jt("Connection",'RPC "'+e+'" failed with status:',g,"response text:",c.getResponseText()),g>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const I=_?.error;if(I&&I.status&&I.message){const w=function(x){const R=x.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(R)>=0?R:pt.UNKNOWN}(I.status);o(new qt(w,I.message))}else o(new qt(pt.UNKNOWN,"Server responded with status "+c.getStatus()))}else o(new qt(pt.UNAVAILABLE,"Connection failed."));break;default:zn()}}finally{Jt("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);c.send(t,"POST",u,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Vhe(),o=zhe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new Whe({})),this.lo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const u=i.join("");Jt("Connection","Creating WebChannel: "+u,c);const h=s.createWebChannel(u,c);let g=!1,_=!1;const I=new qpe({Hr:x=>{_?Jt("Connection","Not sending because WebChannel is closed:",x):(g||(Jt("Connection","Opening WebChannel transport."),h.open(),g=!0),Jt("Connection","WebChannel sending:",x),h.send(x))},Jr:()=>h.close()}),w=(x,R,O)=>{x.listen(R,L=>{try{O(L)}catch(U){setTimeout(()=>{throw U},0)}})};return w(h,l5.EventType.OPEN,()=>{_||Jt("Connection","WebChannel transport opened.")}),w(h,l5.EventType.CLOSE,()=>{_||(_=!0,Jt("Connection","WebChannel transport closed"),I.io())}),w(h,l5.EventType.ERROR,x=>{_||(_=!0,hy("Connection","WebChannel transport errored:",x),I.io(new qt(pt.UNAVAILABLE,"The operation could not be completed")))}),w(h,l5.EventType.MESSAGE,x=>{var R;if(!_){const O=x.data[0];Jn(!!O);const L=O,U=L.error||(null===(R=L[0])||void 0===R?void 0:R.error);if(U){Jt("Connection","WebChannel received error:",U);const Y=U.status;let te=function(ye){const pe=bo[ye];if(void 0!==pe)return sq(pe)}(Y),ce=U.message;void 0===te&&(te=pt.INTERNAL,ce="Unknown error status: "+Y+" with message "+U.message),_=!0,I.io(new qt(te,ce)),h.close()}else Jt("Connection","WebChannel received:",O),I.ro(O)}}),w(o,$he.STAT_EVENT,x=>{x.stat===iW.PROXY?Jt("Connection","Detected buffering proxy"):x.stat===iW.NOPROXY&&Jt("Connection","Detected no buffering proxy")}),setTimeout(()=>{I.so()},0),I}}function _G(){return typeof window<"u"?window:null}function U5(){return typeof document<"u"?document:null}function hC(n){return new Bfe(n,!0)}class h4{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Jt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class yG{constructor(e,t,r,i,s,o,c,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new h4(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,_t.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,_t.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,_t.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===pt.RESOURCE_EXHAUSTED?(fo(t.toString()),fo("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===pt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new qt(pt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,_t.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Jt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Jt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kpe extends yG{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.yt=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Vfe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:zn(),i=e.targetChange.targetIds||[],s=function(u,h){return u.wt?(Jn(void 0===h||"string"==typeof h),Vo.fromBase64String(h||"")):(Jn(void 0===h||h instanceof Uint8Array),Vo.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(u){const h=void 0===u.code?pt.UNKNOWN:sq(u.code);return new qt(h,u.message||"")}(o);t=new uq(r,i,s,c||null)}else if("documentChange"in e){const r=e.documentChange,i=jd(n,r.document.name),s=po(r.document.updateTime),o=r.document.createTime?po(r.document.createTime):ir.min(),c=new ba({mapValue:{fields:r.document.fields}}),u=Cs.newFoundDocument(i,s,o,c);t=new C5(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=jd(n,r.document),s=r.readTime?po(r.readTime):ir.min(),o=Cs.newNoDocument(i,s);t=new C5([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=jd(n,r.document);t=new C5([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return zn();{const r=e.filter,s=new Dfe(r.count||0);t=new lq(r.targetId,s)}}var u;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return ir.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ir.min():s.readTime?po(s.readTime):ir.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=nC(this.yt),t.addTarget=function(i,s){let o;const c=s.target;return o=m5(c)?{documents:bq(i,c)}:{query:V3(i,c)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=pq(i,s.resumeToken):s.snapshotVersion.compareTo(ir.min())>0&&(o.readTime=qb(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=function Hfe(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=nC(this.yt),t.removeTarget=e,this.Bo(t)}}class Zpe extends yG{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Jn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function zfe(n,e){return n&&n.length>0?(Jn(void 0!==e),n.map(t=>function(r,i){let s=po(r.updateTime?r.updateTime:i);return s.isEqual(ir.min())&&(s=po(i)),new xfe(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=po(e.commitTime);return this.listener.Zo(r,t)}return Jn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=nC(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>rC(this.yt,r))};this.Bo(t)}}class Ype extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new qt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new qt(pt.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new qt(pt.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class Qpe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(fo(t),this.ou=!1):Jt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Jpe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(c=>{r.enqueueAndForget((0,_t.Z)(function*(){var u;Sf(o)&&(Jt("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,_t.Z)(function*(h){const g=En(h);g._u.add(4),yield Jb(g),g.gu.set("Unknown"),g._u.delete(4),yield fC(g)}),function(h){return u.apply(this,arguments)})(o))}))}),this.gu=new Qpe(r,i)}}function fC(n){return p4.apply(this,arguments)}function p4(){return p4=(0,_t.Z)(function*(n){if(Sf(n))for(const e of n.wu)yield e(!0)}),p4.apply(this,arguments)}function Jb(n){return g4.apply(this,arguments)}function g4(){return g4=(0,_t.Z)(function*(n){for(const e of n.wu)yield e(!1)}),g4.apply(this,arguments)}function j5(n,e){const t=En(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),y4(t)?_4(t):t1(t).ko()&&m4(t,e))}function pC(n,e){const t=En(n),r=t1(t);t.du.delete(e),r.ko()&&vG(t,e),0===t.du.size&&(r.ko()?r.Fo():Sf(t)&&t.gu.set("Unknown"))}function m4(n,e){n.yu.Ot(e.targetId),t1(n).zo(e)}function vG(n,e){n.yu.Ot(e),t1(n).Ho(e)}function _4(n){n.yu=new kfe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),t1(n).start(),n.gu.uu()}function y4(n){return Sf(n)&&!t1(n).No()&&n.du.size>0}function Sf(n){return 0===En(n)._u.size}function bG(n){n.yu=void 0}function ege(n){return v4.apply(this,arguments)}function v4(){return v4=(0,_t.Z)(function*(n){n.du.forEach((e,t)=>{m4(n,e)})}),v4.apply(this,arguments)}function tge(n,e){return b4.apply(this,arguments)}function b4(){return b4=(0,_t.Z)(function*(n,e){bG(n),y4(n)?(n.gu.hu(e),_4(n)):n.gu.set("Unknown")}),b4.apply(this,arguments)}function nge(n,e,t){return w4.apply(this,arguments)}function w4(){return w4=(0,_t.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof uq&&2===e.state&&e.cause)try{yield(r=(0,_t.Z)(function*(i,s){const o=s.cause;for(const c of s.targetIds)i.du.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.du.delete(c),i.yu.removeTarget(c))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Jt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield V5(n,r)}else if(e instanceof C5?n.yu.Kt(e):e instanceof lq?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(ir.min()))try{const r=yield cG(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.du.get(u);h&&i.du.set(u,h.withResumeToken(c.resumeToken,s))}}),o.targetMismatches.forEach(c=>{const u=i.du.get(c);if(!u)return;i.du.set(c,u.withResumeToken(Vo.EMPTY_BYTE_STRING,u.snapshotVersion)),vG(i,c);const h=new zg(u.target,c,1,u.sequenceNumber);m4(i,h)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){Jt("RemoteStore","Failed to raise snapshot:",r),yield V5(n,r)}var r}),w4.apply(this,arguments)}function V5(n,e,t){return E4.apply(this,arguments)}function E4(){return E4=(0,_t.Z)(function*(n,e,t){if(!Og(e))throw e;n._u.add(1),yield Jb(n),n.gu.set("Offline"),t||(t=()=>cG(n.localStore)),n.asyncQueue.enqueueRetryable((0,_t.Z)(function*(){Jt("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield fC(n)}))}),E4.apply(this,arguments)}function wG(n,e){return e().catch(t=>V5(n,t,e))}function e1(n){return I4.apply(this,arguments)}function I4(){return I4=(0,_t.Z)(function*(n){const e=En(n),t=qg(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;rge(e);)try{const i=yield Vpe(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,ige(e,i)}catch(i){yield V5(e,i)}EG(e)&&IG(e)}),I4.apply(this,arguments)}function rge(n){return Sf(n)&&n.fu.length<10}function ige(n,e){n.fu.push(e);const t=qg(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function EG(n){return Sf(n)&&!qg(n).No()&&n.fu.length>0}function IG(n){qg(n).start()}function sge(n){return C4.apply(this,arguments)}function C4(){return C4=(0,_t.Z)(function*(n){qg(n).eu()}),C4.apply(this,arguments)}function oge(n){return S4.apply(this,arguments)}function S4(){return S4=(0,_t.Z)(function*(n){const e=qg(n);for(const t of n.fu)e.Xo(t.mutations)}),S4.apply(this,arguments)}function age(n,e,t){return x4.apply(this,arguments)}function x4(){return x4=(0,_t.Z)(function*(n,e,t){const r=n.fu.shift(),i=$3.from(r,e,t);yield wG(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield e1(n)}),x4.apply(this,arguments)}function cge(n,e){return A4.apply(this,arguments)}function A4(){return A4=(0,_t.Z)(function*(n,e){var t;e&&qg(n).Yo&&(yield(t=(0,_t.Z)(function*(r,i){if(iq(s=i.code)&&s!==pt.ABORTED){const o=r.fu.shift();qg(r).Mo(),yield wG(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield e1(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),EG(n)&&IG(n)}),A4.apply(this,arguments)}function CG(n,e){return T4.apply(this,arguments)}function T4(){return T4=(0,_t.Z)(function*(n,e){const t=En(n);t.asyncQueue.verifyOperationInProgress(),Jt("RemoteStore","RemoteStore received new credentials");const r=Sf(t);t._u.add(3),yield Jb(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield fC(t)}),T4.apply(this,arguments)}function D4(n,e){return M4.apply(this,arguments)}function M4(){return M4=(0,_t.Z)(function*(n,e){const t=En(n);e?(t._u.delete(2),yield fC(t)):e||(t._u.add(2),yield Jb(t),t.gu.set("Unknown"))}),M4.apply(this,arguments)}function t1(n){return n.pu||(n.pu=function(e,t,r){const i=En(e);return i.su(),new Kpe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:ege.bind(null,n),Zr:tge.bind(null,n),Wo:nge.bind(null,n)}),n.wu.push(function(){var e=(0,_t.Z)(function*(t){t?(n.pu.Mo(),y4(n)?_4(n):n.gu.set("Unknown")):(yield n.pu.stop(),bG(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function qg(n){return n.Iu||(n.Iu=function(e,t,r){const i=En(e);return i.su(),new Zpe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:sge.bind(null,n),Zr:cge.bind(null,n),tu:oge.bind(null,n),Zo:age.bind(null,n)}),n.wu.push(function(){var e=(0,_t.Z)(function*(t){t?(n.Iu.Mo(),yield e1(n)):(yield n.Iu.stop(),n.fu.length>0&&(Jt("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class N4{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,c=new N4(e,t,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qt(pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n1(n,e){if(fo("AsyncQueue",`${e}: ${n}`),Og(n))return new qt(pt.UNAVAILABLE,`${e}: ${n}`);throw n}class r1{constructor(e){this.comparator=e?(t,r)=>e(t,r)||mn.comparator(t.key,r.key):(t,r)=>mn.comparator(t.key,r.key),this.keyedMap=X2(),this.sortedSet=new no(this.comparator)}static emptySet(e){return new r1(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof r1)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new r1;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class SG{constructor(){this.Tu=new no(mn.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):zn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class s1{constructor(e,t,r,i,s,o,c,u,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new s1(e,t,r1.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&K2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class lge{constructor(){this.Au=void 0,this.listeners=[]}}class uge{constructor(){this.queries=new Vg(e=>zW(e),K2),this.onlineState="Unknown",this.Ru=new Set}}function P4(n,e){return R4.apply(this,arguments)}function R4(){return R4=(0,_t.Z)(function*(n,e){const t=En(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new lge),i)try{s.Au=yield t.onListen(r)}catch(o){const c=n1(o,`Initialization of query '${O3(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&L4(t)}),R4.apply(this,arguments)}function k4(n,e){return O4.apply(this,arguments)}function O4(){return O4=(0,_t.Z)(function*(n,e){const t=En(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),O4.apply(this,arguments)}function dge(n,e){const t=En(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const c of o.listeners)c.Pu(i)&&(r=!0);o.Au=i}}r&&L4(t)}function hge(n,e,t){const r=En(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function L4(n){n.Ru.forEach(e=>{e.next()})}class F4{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new s1(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=s1.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class fge{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class xG{constructor(e){this.yt=e}Ji(e){return jd(this.yt,e)}Yi(e){return e.metadata.exists?vq(this.yt,e.document,!1):Cs.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return po(e)}}class pge{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AG(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=wi.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new xG(this.yt);for(const i of e)if(i.metadata.queries){const s=r.Ji(i.metadata.name);for(const o of i.metadata.queries){const c=(t.get(o)||Wr()).add(s);t.set(o,c)}}return t}complete(){var e=this;return(0,_t.Z)(function*(){const t=yield function zpe(n,e,t,r){return o4.apply(this,arguments)}(e.localStore,new xG(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield Hpe(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function AG(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class TG{constructor(e){this.key=e}}class DG{constructor(e){this.key=e}}class MG{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Wr(),this.mutatedKeys=Wr(),this.Gu=$W(e),this.Qu=new r1(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new SG,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,c=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,h="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const I=i.get(g),w=L3(this.query,_)?_:null,x=!!I&&this.mutatedKeys.has(I.key),R=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let O=!1;I&&w?I.data.isEqual(w.data)?x!==R&&(r.track({type:3,doc:w}),O=!0):this.Hu(I,w)||(r.track({type:2,doc:w}),O=!0,(u&&this.Gu(w,u)>0||h&&this.Gu(w,h)<0)&&(c=!0)):!I&&w?(r.track({type:0,doc:w}),O=!0):I&&!w&&(r.track({type:1,doc:I}),O=!0,(u||h)&&(c=!0)),O&&(w?(o=o.add(w),s=R?s.add(g):s.delete(g)):(o=o.delete(g),s=s.delete(g)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const g="F"===this.query.limitType?o.last():o.first();o=o.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{Qu:o,zu:r,$i:c,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((h,g)=>function(_,I){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zn()}};return w(_)-w(I)}(h.type,g.type)||this.Gu(h.doc,g.doc)),this.Ju(r);const o=t?this.Yu():[],c=0===this.Ku.size&&this.current?1:0,u=c!==this.Uu;return this.Uu=c,0!==s.length||u?{snapshot:new s1(this.query,e.Qu,i,s,e.mutatedKeys,0===c,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new SG,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Wr(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new DG(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new TG(r))}),t}tc(e){this.qu=e.Hi,this.Ku=Wr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return s1.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class gge{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mge{constructor(e){this.key=e,this.nc=!1}}class _ge{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Vg(c=>zW(c),K2),this.rc=new Map,this.oc=new Set,this.uc=new no(mn.comparator),this.cc=new Map,this.ac=new J3,this.hc={},this.lc=new Map,this.fc=Ty.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function yge(n,e){return B4.apply(this,arguments)}function B4(){return B4=(0,_t.Z)(function*(n,e){const t=a6(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield Xb(t.localStore,rc(e));t.isPrimaryClient&&j5(t.remoteStore,o);const c=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield U4(t,e,r,"current"===c,o.resumeToken)}return i}),B4.apply(this,arguments)}function U4(n,e,t,r,i){return j4.apply(this,arguments)}function j4(){return j4=(0,_t.Z)(function*(n,e,t,r,i){n._c=(_,I,w)=>{return(x=(0,_t.Z)(function*(R,O,L,U){let Y=O.view.Wu(L);Y.$i&&(Y=yield L5(R.localStore,O.query,!1).then(({documents:ye})=>O.view.Wu(ye,Y)));const te=U&&U.targetChanges.get(O.targetId),ce=O.view.applyChanges(Y,R.isPrimaryClient,te);return Y4(R,O.targetId,ce.Xu),ce.snapshot}),function(R,O,L,U){return x.apply(this,arguments)})(n,_,I,w);var x};const s=yield L5(n.localStore,e,!0),o=new MG(e,s.Hi),c=o.Wu(s.documents),u=eC.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),h=o.applyChanges(c,n.isPrimaryClient,u);Y4(n,t,h.Xu);const g=new gge(e,t,o);return n.ic.set(e,g),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),h.snapshot}),j4.apply(this,arguments)}function vge(n,e){return V4.apply(this,arguments)}function V4(){return V4=(0,_t.Z)(function*(n,e){const t=En(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!K2(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Qb(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),pC(t.remoteStore,r.targetId),o1(t,r.targetId)}).catch(kg))):(o1(t,r.targetId),yield Qb(t.localStore,r.targetId,!0))}),V4.apply(this,arguments)}function z4(){return z4=(0,_t.Z)(function*(n,e,t){const r=c6(n);try{const i=yield function(s,o){const c=En(s),u=Fs.now(),h=o.reduce((I,w)=>I.add(w.key),Wr());let g,_;return c.persistence.runTransaction("Locally write mutations","readwrite",I=>{let w=kc(),x=Wr();return c.Gi.getEntries(I,h).next(R=>{w=R,w.forEach((O,L)=>{L.isValidDocument()||(x=x.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(I,w)).next(R=>{g=R;const O=[];for(const L of o){const U=Tfe(L,g.get(L.key).overlayedDocument);null!=U&&O.push(new Cf(L.key,U,FW(U.value.mapValue),Bs.exists(!0)))}return c.mutationQueue.addMutationBatch(I,u,O,o)}).next(R=>{_=R;const O=R.applyToLocalDocumentSet(g,x);return c.documentOverlayCache.saveOverlays(I,R.batchId,O)})}).then(()=>({batchId:_.batchId,changes:aq(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,c){let u=s.hc[s.currentUser.toKey()];u||(u=new no(Or)),u=u.insert(o,c),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield xf(r,i.changes),yield e1(r.remoteStore)}catch(i){const s=n1(i,"Failed to persist write");t.reject(s)}}),z4.apply(this,arguments)}function NG(n,e){return H4.apply(this,arguments)}function H4(){return H4=(0,_t.Z)(function*(n,e){const t=En(n);try{const r=yield jpe(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.cc.get(s);o&&(Jn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?Jn(o.nc):i.removedDocuments.size>0&&(Jn(o.nc),o.nc=!1))}),yield xf(t,r,e)}catch(r){yield kg(r)}}),H4.apply(this,arguments)}function PG(n,e,t){const r=En(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,o)=>{const c=o.view.bu(e);c.snapshot&&i.push(c.snapshot)}),function(s,o){const c=En(s);c.onlineState=o;let u=!1;c.queries.forEach((h,g)=>{for(const _ of g.listeners)_.bu(o)&&(u=!0)}),u&&L4(c)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wge(n,e,t){return $4.apply(this,arguments)}function $4(){return $4=(0,_t.Z)(function*(n,e,t){const r=En(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new no(mn.comparator);o=o.insert(s,Cs.newNoDocument(s,ir.min()));const c=Wr().add(s),u=new J2(ir.min(),new Map,new rs(Or),o,c);yield NG(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),X4(r)}else yield Qb(r.localStore,e,!1).then(()=>o1(r,e,t)).catch(kg)}),$4.apply(this,arguments)}function Ege(n,e){return W4.apply(this,arguments)}function W4(){return W4=(0,_t.Z)(function*(n,e){const t=En(n),r=e.batch.batchId;try{const i=yield Upe(t.localStore,e);Z4(t,r,null),K4(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield xf(t,i)}catch(i){yield kg(i)}}),W4.apply(this,arguments)}function Ige(n,e,t){return q4.apply(this,arguments)}function q4(){return q4=(0,_t.Z)(function*(n,e,t){const r=En(n);try{const i=yield function(s,o){const c=En(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,o).next(g=>(Jn(null!==g),h=g.keys(),c.mutationQueue.removeMutationBatch(u,g))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);Z4(r,e,t),K4(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield xf(r,i)}catch(i){yield kg(i)}}),q4.apply(this,arguments)}function G4(){return G4=(0,_t.Z)(function*(n,e){const t=En(n);Sf(t.remoteStore)||Jt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const o=En(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>o.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=n1(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),G4.apply(this,arguments)}function K4(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Z4(n,e,t){const r=En(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function o1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||RG(n,r)})}function RG(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(pC(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),X4(n))}function Y4(n,e,t){for(const r of t)r instanceof TG?(n.ac.addReference(r.key,e),Sge(n,r)):r instanceof DG?(Jt("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||RG(n,r.key)):zn()}function Sge(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Jt("SyncEngine","New document in limbo: "+t),n.oc.add(r),X4(n))}function X4(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new mn(wi.fromString(e)),r=n.fc.next();n.cc.set(r,new mge(t)),n.uc=n.uc.insert(t,r),j5(n.remoteStore,new zg(rc(Vb(t.path)),r,2,hl.at))}}function xf(n,e,t){return Q4.apply(this,arguments)}function Q4(){return Q4=(0,_t.Z)(function*(n,e,t){const r=En(n),i=[],s=[],o=[];var c;r.ic.isEmpty()||(r.ic.forEach((c,u)=>{o.push(r._c(u,e,t).then(h=>{if((h||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,h?.fromCache?"not-current":"current"),h){i.push(h);const g=r4.Ci(u.targetId,h);s.push(g)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(c=(0,_t.Z)(function*(u,h){const g=En(u);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ct.forEach(h,I=>ct.forEach(I.Si,w=>g.persistence.referenceDelegate.addReference(_,I.targetId,w)).next(()=>ct.forEach(I.Di,w=>g.persistence.referenceDelegate.removeReference(_,I.targetId,w)))))}catch(_){if(!Og(_))throw _;Jt("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of h){const I=_.targetId;if(!_.fromCache){const w=g.qi.get(I),R=w.withLastLimboFreeSnapshotVersion(w.snapshotVersion);g.qi=g.qi.insert(I,R)}}}),function(u,h){return c.apply(this,arguments)})(r.localStore,s))}),Q4.apply(this,arguments)}function xge(n,e){return J4.apply(this,arguments)}function J4(){return J4=(0,_t.Z)(function*(n,e){const t=En(n);if(!t.currentUser.isEqual(e)){Jt("SyncEngine","User change. New user:",e.toKey());const r=yield aG(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(o=>{o.forEach(c=>{c.reject(new qt(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xf(t,r.ji)}var i}),J4.apply(this,arguments)}function Age(n,e){const t=En(n),r=t.cc.get(e);if(r&&r.nc)return Wr().add(r.key);{let i=Wr();const s=t.rc.get(e);if(!s)return i;for(const o of s){const c=t.ic.get(o);i=i.unionWith(c.view.ju)}return i}}function Tge(n,e){return e6.apply(this,arguments)}function e6(){return e6=(0,_t.Z)(function*(n,e){const t=En(n),r=yield L5(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&Y4(t,e.targetId,i.Xu),i}),e6.apply(this,arguments)}function Dge(n,e){return t6.apply(this,arguments)}function t6(){return t6=(0,_t.Z)(function*(n,e){const t=En(n);return dG(t.localStore,e).then(r=>xf(t,r))}),t6.apply(this,arguments)}function Mge(n,e,t,r){return n6.apply(this,arguments)}function n6(){return n6=(0,_t.Z)(function*(n,e,t,r){const i=En(n),s=yield function(o,c){const u=En(o),h=En(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",g=>h.Tn(g,c).next(_=>_?u.localDocuments.getDocuments(g,_):ct.resolve(null)))}(i.localStore,e);var c;null!==s?("pending"===t?yield e1(i.remoteStore):"acknowledged"===t||"rejected"===t?(Z4(i,e,r||null),K4(i,e),c=e,En(En(i.localStore).mutationQueue).An(c)):zn(),yield xf(i,s)):Jt("SyncEngine","Cannot apply mutation batch with id: "+e)}),n6.apply(this,arguments)}function r6(){return r6=(0,_t.Z)(function*(n,e){const t=En(n);if(a6(t),c6(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield kG(t,r.toArray());t.dc=!0,yield D4(t.remoteStore,!0);for(const s of i)j5(t.remoteStore,s)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(o1(t,o),Qb(t.localStore,o,!0))),pC(t.remoteStore,o)}),yield i,yield kG(t,r),function(s){const o=En(s);o.cc.forEach((c,u)=>{pC(o.remoteStore,u)}),o.ac.fs(),o.cc=new Map,o.uc=new no(mn.comparator)}(t),t.dc=!1,yield D4(t.remoteStore,!1)}}),r6.apply(this,arguments)}function kG(n,e,t){return i6.apply(this,arguments)}function i6(){return i6=(0,_t.Z)(function*(n,e,t){const r=En(n),i=[],s=[];for(const o of e){let c;const u=r.rc.get(o);if(u&&0!==u.length){c=yield Xb(r.localStore,rc(u[0]));for(const h of u){const g=r.ic.get(h),_=yield Tge(r,g);_.snapshot&&s.push(_.snapshot)}}else{const h=yield uG(r.localStore,o);c=yield Xb(r.localStore,h),yield U4(r,OG(h),o,!1,c.resumeToken)}i.push(c)}return r.sc.Wo(s),i}),i6.apply(this,arguments)}function OG(n){return jW(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Pge(n){const e=En(n);return En(En(e.localStore).persistence).vi()}function Rge(n,e,t,r){return s6.apply(this,arguments)}function s6(){return s6=(0,_t.Z)(function*(n,e,t,r){const i=En(n);if(i.dc)return void Jt("SyncEngine","Ignoring unexpected query state notification.");const s=i.rc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield dG(i.localStore,HW(s[0])),c=J2.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Vo.EMPTY_BYTE_STRING);yield xf(i,o,c);break}case"rejected":yield Qb(i.localStore,e,!0),o1(i,e,r);break;default:zn()}}),s6.apply(this,arguments)}function kge(n,e,t){return o6.apply(this,arguments)}function o6(){return o6=(0,_t.Z)(function*(n,e,t){const r=a6(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Jt("SyncEngine","Adding an already active target "+i);continue}const s=yield uG(r.localStore,i),o=yield Xb(r.localStore,s);yield U4(r,OG(s),o.targetId,!1,o.resumeToken),j5(r.remoteStore,o)}for(const i of t)r.rc.has(i)&&(yield Qb(r.localStore,i,!1).then(()=>{pC(r.remoteStore,i),o1(r,i)}).catch(kg))}}),o6.apply(this,arguments)}function a6(n){const e=En(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Age.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wge.bind(null,e),e.sc.Wo=dge.bind(null,e.eventManager),e.sc.wc=hge.bind(null,e.eventManager),e}function c6(n){const e=En(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ege.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ige.bind(null,e),e}class LG{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_t.Z)(function*(){t.yt=hC(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return oG(this.persistence,new sG,e.initialUser,this.yt)}yc(e){return new rG(k5.Bs,this.yt)}gc(e){return new gG}terminate(){var e=this;return(0,_t.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class FG extends LG{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_t.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield c6(r.Ac.syncEngine),yield e1(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return oG(this.persistence,new sG,e.initialUser,this.yt)}Tc(e,t){return new Cpe(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new cfe(t,this.persistence);return new afe(e.asyncQueue,r)}yc(e){const t=n4(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Oc.withCacheSize(this.cacheSizeBytes):Oc.DEFAULT;return new t4(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,_G(),U5(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new gG}}class Lge extends FG{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_t.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof d4&&(r.sharedClientState.syncEngine={Fr:Mge.bind(null,i),$r:Rge.bind(null,i),Br:kge.bind(null,i),vi:Pge.bind(null,i),Mr:Dge.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var s=(0,_t.Z)(function*(o){yield function Nge(n,e){return r6.apply(this,arguments)}(r.Ac.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}gc(e){const t=_G();if(!d4.C(t))throw new qt(pt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=n4(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new d4(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class l6{initialize(e,t){var r=this;return(0,_t.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>PG(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=xge.bind(null,r.syncEngine),yield D4(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new uge}createDatastore(e){const t=hC(e.databaseInfo.databaseId),r=new Gpe(e.databaseInfo);return new Ype(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=c=>PG(this.syncEngine,c,0),o=mG.C()?new mG:new $pe,new Jpe(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,c,u,h){const g=new _ge(r,i,s,o,c,u);return h&&(g.dc=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=(0,_t.Z)(function*(t){const r=En(t);Jt("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Jb(r),r.mu.shutdown(),r.gu.set("Unknown")});return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}function u6(n,e,t){if(!t)throw new qt(pt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BG(n,e,t,r){if(!0===e&&!0===r)throw new qt(pt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function UG(n){if(!mn.isDocumentKey(n))throw new qt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jG(n){if(mn.isDocumentKey(n))throw new qt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function z5(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":zn()}function ui(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new qt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=z5(n);throw new qt(pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function VG(n,e){if(e<=0)throw new qt(pt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const zG=new Map;class HG{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new qt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,BG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gC{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HG({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new qt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HG(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Zhe;switch(t.type){case"gapi":return new Jhe(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new qt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zG.get(e);t&&(Jt("ComponentProvider","Removing Datastore"),zG.delete(e),t.terminate())}(this),Promise.resolve()}}function $G(n,e,t,r={}){var i;const s=(n=ui(n,gC))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&hy("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,c;if("string"==typeof r.mockUserToken)o=r.mockUserToken,c=Qo.MOCK_USER;else{o=(0,ne.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new qt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Qo(u)}n._authCredentials=new Yhe(new oW(o,c))}}class Ss{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ss(this.firestore,e,this._key)}}class wa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wa(this.firestore,e,this._query)}}class zd extends wa{constructor(e,t,r){super(e,t,Vb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ss(this.firestore,null,new mn(e))}withConverter(e){return new zd(this.firestore,e,this._path)}}function WG(n,e,...t){if(n=(0,ne.m9)(n),u6("collection","path",e),n instanceof gC){const r=wi.fromString(e,...t);return jG(r),new zd(n,null,r)}{if(!(n instanceof Ss||n instanceof zd))throw new qt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wi.fromString(e,...t));return jG(r),new zd(n.firestore,null,r)}}function H5(n,e,...t){if(n=(0,ne.m9)(n),1===arguments.length&&(e=cW.R()),u6("doc","path",e),n instanceof gC){const r=wi.fromString(e,...t);return UG(r),new Ss(n,null,new mn(r))}{if(!(n instanceof Ss||n instanceof zd))throw new qt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(wi.fromString(e,...t));return UG(r),new Ss(n.firestore,n instanceof zd?n.converter:null,new mn(r))}}function qG(n,e){return n=(0,ne.m9)(n),e=(0,ne.m9)(e),(n instanceof Ss||n instanceof zd)&&(e instanceof Ss||e instanceof zd)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function d6(n,e){return n=(0,ne.m9)(n),e=(0,ne.m9)(e),n instanceof wa&&e instanceof wa&&n.firestore===e.firestore&&K2(n._query,e._query)&&n.converter===e.converter}function GG(n,e=10240){let t=0;return{read:()=>(0,_t.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_t.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class $5{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):fo("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Bge{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new jo,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,_t.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,_t.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,_t.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const s=yield e.Cc(i);return new fge(JSON.parse(s),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,_t.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,_t.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,_t.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Vge{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_t.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new qt(pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,_t.Z)(function*(s,o){const c=En(s),u=nC(c.yt)+"/documents",h={documents:o.map(w=>tC(c.yt,w))},g=yield c._o("BatchGetDocuments",u,h,o.length),_=new Map;g.forEach(w=>{const x=function jfe(n,e){return"found"in e?function(t,r){Jn(!!r.found);const i=jd(t,r.found.name),s=po(r.found.updateTime),o=r.found.createTime?po(r.found.createTime):ir.min(),c=new ba({mapValue:{fields:r.found.fields}});return Cs.newFoundDocument(i,s,o,c)}(n,e):"missing"in e?function(t,r){Jn(!!r.missing),Jn(!!r.readTime);const i=jd(t,r.missing),s=po(r.readTime);return Cs.newNoDocument(i,s)}(n,e):zn()}(c.yt,w);_.set(x.key.toString(),x)});const I=[];return o.forEach(w=>{const x=_.get(w.toString());Jn(!!x),I.push(x)}),I}),function(s,o){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Wb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_t.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=mn.fromPath(i);e.mutations.push(new F3(s,e.precondition(s)))}),yield(r=(0,_t.Z)(function*(i,s){const o=En(i),c=nC(o.yt)+"/documents",u={writes:s.map(h=>rC(o.yt,h))};yield o.ao("Commit",c,u)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw zn();t=ir.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new qt(pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ir.min())?Bs.exists(!1):Bs.updateTime(t):Bs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ir.min()))throw new qt(pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bs.updateTime(t)}return Bs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class zge{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.kc=r.maxAttempts,this.xo=new h4(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,_t.Z)(function*(){const t=new Vge(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Fc(s)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!V2(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!iq(t)}return!1}}class Hge{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Qo.UNAUTHENTICATED,this.clientId=cW.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,_t.Z)(function*(c){Jt("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(Jt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,_t.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_t.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=n1(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function KG(n,e){return h6.apply(this,arguments)}function h6(){return h6=(0,_t.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Jt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,_t.Z)(function*(s){r.isEqual(s)||(yield aG(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),h6.apply(this,arguments)}function ZG(n,e){return f6.apply(this,arguments)}function f6(){return f6=(0,_t.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield p6(n);Jt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>CG(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>CG(e.remoteStore,s)),n.onlineComponents=e}),f6.apply(this,arguments)}function p6(n){return g6.apply(this,arguments)}function g6(){return g6=(0,_t.Z)(function*(n){return n.offlineComponents||(Jt("FirestoreClient","Using default OfflineComponentProvider"),yield KG(n,new LG)),n.offlineComponents}),g6.apply(this,arguments)}function W5(n){return m6.apply(this,arguments)}function m6(){return m6=(0,_t.Z)(function*(n){return n.onlineComponents||(Jt("FirestoreClient","Using default OnlineComponentProvider"),yield ZG(n,new l6)),n.onlineComponents}),m6.apply(this,arguments)}function YG(n){return p6(n).then(e=>e.persistence)}function q5(n){return p6(n).then(e=>e.localStore)}function _6(n){return W5(n).then(e=>e.remoteStore)}function y6(n){return W5(n).then(e=>e.syncEngine)}function a1(n){return v6.apply(this,arguments)}function v6(){return v6=(0,_t.Z)(function*(n){const e=yield W5(n),t=e.eventManager;return t.onListen=yge.bind(null,e.syncEngine),t.onUnlisten=vge.bind(null,e.syncEngine),t}),v6.apply(this,arguments)}function QG(n,e,t={}){const r=new jo;return n.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return function(i,s,o,c,u){const h=new $5({next:_=>{s.enqueueAndForget(()=>k4(i,g));const I=_.docs.has(o);!I&&_.fromCache?u.reject(new qt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&c&&"server"===c.source?u.reject(new qt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(_)},error:_=>u.reject(_)}),g=new F4(Vb(o.path),h,{includeMetadataChanges:!0,Nu:!0});return P4(i,g)}(yield a1(n),n.asyncQueue,e,t,r)})),r.promise}function JG(n,e,t={}){const r=new jo;return n.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return function(i,s,o,c,u){const h=new $5({next:_=>{s.enqueueAndForget(()=>k4(i,g)),_.fromCache&&"server"===c.source?u.reject(new qt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(_)},error:_=>u.reject(_)}),g=new F4(o,h,{includeMetadataChanges:!0,Nu:!0});return P4(i,g)}(yield a1(n),n.asyncQueue,e,t,r)})),r.promise}class Xge{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new h4(this,"async_queue_retry"),this.Wc=()=>{const t=U5();t&&Jt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=U5();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=U5();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new jo;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,_t.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Og(t))throw t;Jt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,fo("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=N4.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&zn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,_t.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function b6(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Qge{constructor(){this._progressObserver={},this._taskCompletionResolver=new jo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class xs extends gC{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Xge,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||eK(this),this._firestoreClient.terminate()}}function eme(n,e){const t="object"==typeof n?n:(0,gi.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,gi._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,ne.P0)("firestore");s&&$G(i,...s)}return i}function go(n){return n._firestoreClient||eK(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function eK(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new lfe(n._databaseId,s,n._persistenceKey,(c=t).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams));var s,c;n._firestoreClient=new Hge(n._authCredentials,n._appCheckCredentials,n._queue,r)}function tK(n,e,t){const r=new jo;return n.asyncQueue.enqueue((0,_t.Z)(function*(){try{yield KG(n,t),yield ZG(n,e),r.resolve()}catch(i){const s=i;if(!("FirebaseError"===(o=s).name?o.code===pt.FAILED_PRECONDITION||o.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw s;hy("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var o})).then(()=>r.promise)}function nK(n){if(n._initialized||n._terminated)throw new qt(pt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Hd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hd(Vo.fromBase64String(e))}catch(t){throw new qt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hd(Vo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Af{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new qt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new eo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class My{constructor(e){this._methodName=e}}class G5{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Or(this._lat,e._lat)||Or(this._long,e._long)}}const lme=/^__.*__$/;class ume{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Cf(e,this.data,this.fieldMask,t,this.fieldTransforms):new $b(e,this.data,t,this.fieldTransforms)}}class rK{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Cf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iK(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zn()}}class K5{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new K5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return X5(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(iK(this.sa)&&lme.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class dme{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||hC(e)}da(e,t,r,i=!1){return new K5({sa:e,methodName:t,fa:r,path:eo.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Ny(n){const e=n._freezeSettings(),t=hC(n._databaseId);return new dme(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Z5(n,e,t,r,i,s={}){const o=n.da(s.merge||s.mergeFields?2:0,e,t,i);C6("Data must be an object, but it was:",o,r);const c=aK(r,o);let u,h;if(s.merge)u=new fl(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const g=[];for(const _ of s.mergeFields){const I=S6(e,_,t);if(!o.contains(I))throw new qt(pt.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);lK(g,I)||g.push(I)}u=new fl(g),h=o.fieldTransforms.filter(_=>u.covers(_.field))}else u=null,h=o.fieldTransforms;return new ume(new ba(c),u,h)}class mC extends My{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mC}}function sK(n,e,t){return new K5({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class w6 extends My{_toFieldTransform(e){return new Z2(e.path,new zb)}isEqual(e){return e instanceof w6}}class hme extends My{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=sK(this,e,!0),r=this._a.map(s=>Py(s,t)),i=new wy(r);return new Z2(e.path,i)}isEqual(e){return this===e}}class fme extends My{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=sK(this,e,!0),r=this._a.map(s=>Py(s,t)),i=new Ey(r);return new Z2(e.path,i)}isEqual(e){return this===e}}class pme extends My{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Hb(e.yt,GW(e.yt,this.wa));return new Z2(e.path,t)}isEqual(e){return this===e}}function E6(n,e,t,r){const i=n.da(1,e,t);C6("Data must be an object, but it was:",i,r);const s=[],o=ba.empty();gy(r,(u,h)=>{const g=Y5(e,u,t);h=(0,ne.m9)(h);const _=i.ca(g);if(h instanceof mC)s.push(g);else{const I=Py(h,_);null!=I&&(s.push(g),o.set(g,I))}});const c=new fl(s);return new rK(o,c,i.fieldTransforms)}function I6(n,e,t,r,i,s){const o=n.da(1,e,t),c=[S6(e,r,t)],u=[i];if(s.length%2!=0)throw new qt(pt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<s.length;I+=2)c.push(S6(e,s[I])),u.push(s[I+1]);const h=[],g=ba.empty();for(let I=c.length-1;I>=0;--I)if(!lK(h,c[I])){const w=c[I];let x=u[I];x=(0,ne.m9)(x);const R=o.ca(w);if(x instanceof mC)h.push(w);else{const O=Py(x,R);null!=O&&(h.push(w),g.set(w,O))}}const _=new fl(h);return new rK(g,_,o.fieldTransforms)}function oK(n,e,t,r=!1){return Py(t,n.da(r?4:3,e))}function Py(n,e){if(cK(n=(0,ne.m9)(n)))return C6("Unsupported field value:",e,n),aK(n,e);if(n instanceof My)return function(t,r){if(!iK(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let c=Py(o,r.aa(s));null==c&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,ne.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return GW(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Fs.fromDate(t);return{timestampValue:qb(r.yt,i)}}if(t instanceof Fs){const i=new Fs(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:qb(r.yt,i)}}if(t instanceof G5)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Hd)return{bytesValue:pq(r.yt,t._byteString)};if(t instanceof Ss){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:B3(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${z5(t)}`)}(n,e)}function aK(n,e){const t={};return mW(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gy(n,(r,i)=>{const s=Py(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function cK(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Fs||n instanceof G5||n instanceof Hd||n instanceof Ss||n instanceof My)}function C6(n,e,t){if(!cK(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=z5(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function S6(n,e,t){if((e=(0,ne.m9)(e))instanceof Af)return e._internalPath;if("string"==typeof e)return Y5(n,e);throw X5("Field path arguments must be of type string or ",n,!1,void 0,t)}const gme=new RegExp("[~\\*/\\[\\]]");function Y5(n,e,t){if(e.search(gme)>=0)throw X5(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Af(...e.split("."))._internalPath}catch{throw X5(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function X5(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new qt(pt.INVALID_ARGUMENT,c+n+u)}function lK(n,e){return n.some(t=>t.isEqual(e))}class _C{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ss(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Q5("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class mme extends _C{data(){return super.data()}}function Q5(n,e){return"string"==typeof e?Y5(n,e):e instanceof Af?e._internalPath:e._delegate._internalPath}function uK(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new qt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x6{}class yC extends x6{}function Gg(n,e,...t){let r=[];e instanceof x6&&r.push(e),r=r.concat(t),function(i){const s=i.filter(c=>c instanceof c1).length,o=i.filter(c=>c instanceof vC).length;if(s>1||s>0&&o>0)throw new qt(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class vC extends yC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new vC(e,t,r)}_apply(e){const t=this._parse(e);return pK(e._query,t),new wa(e.firestore,e.converter,k3(e._query,t))}_parse(e){const t=Ny(e.firestore);return function(i,s,o,c,u,h,g){let _;if(u.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new qt(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){fK(g,h);const I=[];for(const w of g)I.push(hK(c,i,w));_={arrayValue:{values:I}}}else _=hK(c,i,g)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||fK(g,h),_=oK(o,"where",g,"in"===h||"not-in"===h);return li.create(u,h,_)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class c1 extends x6{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new c1(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Ki.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const c of o)pK(s,c),s=k3(s,c)}(e._query,t),new wa(e.firestore,e.converter,k3(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class A6 extends yC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new A6(e,t)}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new qt(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new qt(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Ub(i,s);return function(c,u){if(null===P3(c)){const h=y5(c);null!==h&&gK(0,h,u.field)}}(r,o),o}(e._query,this._field,this._direction);return new wa(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new If(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class J5 extends yC{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new J5(e,t,r)}_apply(e){return new wa(e.firestore,e.converter,v5(e._query,this._limit,this._limitType))}}class eN extends yC{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new eN(e,t,r)}_apply(e){const t=dK(e,this.type,this._docOrFields,this._inclusive);return new wa(e.firestore,e.converter,(i=t,new If((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class tN extends yC{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new tN(e,t,r)}_apply(e){const t=dK(e,this.type,this._docOrFields,this._inclusive);return new wa(e.firestore,e.converter,(i=t,new If((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function dK(n,e,t,r){if(t[0]=(0,ne.m9)(t[0]),t[0]instanceof _C)return function(i,s,o,c,u){if(!c)throw new qt(pt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const h=[];for(const g of by(i))if(g.field.isKeyField())h.push(yy(s,c.key));else{const _=c.data.field(g.field);if(A3(_))throw new qt(pt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_){const I=g.field.canonicalString();throw new qt(pt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}h.push(_)}return new jg(h,u)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Ny(n.firestore);return function(s,o,c,u,h,g){const _=s.explicitOrderBy;if(h.length>_.length)throw new qt(pt.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let w=0;w<h.length;w++){const x=h[w];if(_[w].field.isKeyField()){if("string"!=typeof x)throw new qt(pt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof x}`);if(!R3(s)&&-1!==x.indexOf("/"))throw new qt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${x}' contains a slash.`);const R=s.path.child(wi.fromString(x));if(!mn.isDocumentKey(R))throw new qt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const O=new mn(R);I.push(yy(o,O))}else{const R=oK(c,u,x);I.push(R)}}return new jg(I,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function hK(n,e,t){if("string"==typeof(t=(0,ne.m9)(t))){if(""===t)throw new qt(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R3(e)&&-1!==t.indexOf("/"))throw new qt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(wi.fromString(t));if(!mn.isDocumentKey(r))throw new qt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yy(n,new mn(r))}if(t instanceof Ss)return yy(n,t._key);throw new qt(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${z5(t)}.`)}function fK(n,e){if(!Array.isArray(n)||0===n.length)throw new qt(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new qt(pt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function pK(n,e){if(e.isInequality()){const r=y5(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new qt(pt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=P3(n);null!==s&&gK(0,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new qt(pt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function gK(n,e,t){if(!t.isEqual(e))throw new qt(pt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class T6{convertValue(e,t="none"){switch(_y(e)){case 0:return null;case 1:return e.booleanValue;case 2:return to(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(my(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw zn()}}convertObject(e,t){const r={};return gy(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new G5(to(e.latitude),to(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=yW(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(H2(e));default:return null}}convertTimestamp(e){const t=Fg(e);return new Fs(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=wi.fromString(e);Jn(Cq(r));const i=new Lg(r.get(1),r.get(3)),s=new mn(r.popFirst(5));return i.isEqual(t)||fo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function nN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Sme extends T6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ss(this.firestore,null,t)}}class Ry{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tf extends _C{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Q5("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class bC extends Tf{data(e={}){return super.data(e)}}class Kg{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ry(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bC(this._firestore,this._userDataWriter,r.key,r,new Ry(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new bC(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ry(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const c=new bC(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ry(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,h=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),h=s.indexOf(o.doc.key)),{type:xme(o.type),doc:c,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xme(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zn()}}function _K(n,e){return n instanceof Tf&&e instanceof Tf?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Kg&&e instanceof Kg&&n._firestore===e._firestore&&d6(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Zg extends T6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ss(this.firestore,null,t)}}function yK(n,e,t){n=ui(n,Ss);const r=ui(n.firestore,xs),i=nN(n.converter,e,t);return l1(r,[Z5(Ny(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Bs.none())])}function vK(n,e,t,...r){n=ui(n,Ss);const i=ui(n.firestore,xs),s=Ny(i);let o;return o="string"==typeof(e=(0,ne.m9)(e))||e instanceof Af?I6(s,"updateDoc",n._key,e,t,r):E6(s,"updateDoc",n._key,e),l1(i,[o.toMutation(n._key,Bs.exists(!0))])}function bK(n,...e){var t,r,i;n=(0,ne.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||b6(e[o])||(s=e[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges};if(b6(e[o])){const _=e[o];e[o]=null===(t=_.next)||void 0===t?void 0:t.bind(_),e[o+1]=null===(r=_.error)||void 0===r?void 0:r.bind(_),e[o+2]=null===(i=_.complete)||void 0===i?void 0:i.bind(_)}let u,h,g;if(n instanceof Ss)h=ui(n.firestore,xs),g=Vb(n._key.path),u={next:_=>{e[o]&&e[o](D6(h,n,_))},error:e[o+1],complete:e[o+2]};else{const _=ui(n,wa);h=ui(_.firestore,xs),g=_._query;const I=new Zg(h);u={next:w=>{e[o]&&e[o](new Kg(h,I,_,w))},error:e[o+1],complete:e[o+2]},uK(n._query)}return function(_,I,w,x){const R=new $5(x),O=new F4(I,R,w);return _.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return P4(yield a1(_),O)})),()=>{R.bc(),_.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return k4(yield a1(_),O)}))}}(go(h),g,c,u)}function l1(n,e){return function(t,r){const i=new jo;return t.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return function bge(n,e,t){return z4.apply(this,arguments)}(yield y6(t),r,i)})),i.promise}(go(n),e)}function D6(n,e,t){const r=t.docs.get(e._key),i=new Zg(n);return new Tf(n,i,e._key,r,new Ry(t.hasPendingWrites,t.fromCache),e.converter)}const Lme={maxAttempts:5};class wK{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ny(e)}set(e,t,r){this._verifyNotCommitted();const i=Yg(e,this._firestore),s=nN(i.converter,t,r),o=Z5(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,Bs.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Yg(e,this._firestore);let o;return o="string"==typeof(t=(0,ne.m9)(t))||t instanceof Af?I6(this._dataReader,"WriteBatch.update",s._key,t,r,i):E6(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Bs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yg(e,this._firestore);return this._mutations=this._mutations.concat(new Wb(t._key,Bs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qt(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yg(n,e){if((n=(0,ne.m9)(n)).firestore!==e)throw new qt(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Fme extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ny(e)}get(e){const t=Yg(e,this._firestore),r=new Sme(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return zn();const s=i[0];if(s.isFoundDocument())return new _C(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new _C(this._firestore,r,t._key,null,t.converter);throw zn()})}set(e,t,r){const i=Yg(e,this._firestore),s=nN(i.converter,t,r),o=Z5(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,o),this}update(e,t,r,...i){const s=Yg(e,this._firestore);let o;return o="string"==typeof(t=(0,ne.m9)(t))||t instanceof Af?I6(this._dataReader,"Transaction.update",s._key,t,r,i):E6(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){const t=Yg(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yg(e,this._firestore),r=new Zg(this._firestore);return super.get(e).then(i=>new Tf(this._firestore,r,t._key,i._document,new Ry(!1,!1),t.converter))}}function M6(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new qt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function IK(){if(typeof Uint8Array>"u")throw new qt("unimplemented","Uint8Arrays are not available in this environment.")}function CK(){if(!function ufe(){return typeof atob<"u"}())throw new qt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ob=gi.SDK_VERSION,(0,gi._registerComponent)(new yo.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new xs(new Xhe(t.getProvider("auth-internal")),new efe(t.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new qt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lg(c.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),(0,gi.registerVersion)(sW,"3.8.0",n),(0,gi.registerVersion)(sW,"3.8.0","esm2017")}();class wC{constructor(e){this._delegate=e}static fromBase64String(e){return CK(),new wC(Hd.fromBase64String(e))}static fromUint8Array(e){return IK(),new wC(Hd.fromUint8Array(e))}toBase64(){return CK(),this._delegate.toBase64()}toUint8Array(){return IK(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function N6(n){return function qme(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Gme{enableIndexedDbPersistence(e,t){return function tme(n,e){nK(n=ui(n,xs));const t=go(n),r=n._freezeSettings(),i=new l6;return tK(t,i,new FG(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function nme(n){nK(n=ui(n,xs));const e=go(n),t=n._freezeSettings(),r=new l6;return tK(e,r,new Lge(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function rme(n){if(n._initialized&&!n._terminated)throw new qt(pt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new jo;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_t.Z)(function*(){try{yield(t=(0,_t.Z)(function*(r){if(!Tu.C())return Promise.resolve();const i=r+"main";yield Tu.delete(i)}),function(r){return t.apply(this,arguments)})(n4(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class SK{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Lg||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&hy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){$G(this._delegate,e,t,r)}enableNetwork(){return function sme(n){return function $ge(n){return n.asyncQueue.enqueue((0,_t.Z)(function*(){const e=yield YG(n),t=yield _6(n);return e.setNetworkEnabled(!0),function(r){const i=En(r);return i._u.delete(0),fC(i)}(t)}))}(go(n=ui(n,xs)))}(this._delegate)}disableNetwork(){return function ome(n){return function Wge(n){return n.asyncQueue.enqueue((0,_t.Z)(function*(){const e=yield YG(n),t=yield _6(n);return e.setNetworkEnabled(!1),(r=(0,_t.Z)(function*(i){const s=En(i);s._u.add(0),yield Jb(s),s.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(go(n=ui(n,xs)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,BG("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ime(n){return function(e){const t=new jo;return e.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return function Cge(n,e){return G4.apply(this,arguments)}(yield y6(e),t)})),t.promise}(go(n=ui(n,xs)))}(this._delegate)}onSnapshotsInSync(e){return function Ome(n,e){return function Kge(n,e){const t=new $5(e);return n.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return r=yield a1(n),i=t,En(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return r=yield a1(n),i=t,void En(r).Ru.delete(i);var r,i}))}}(go(n=ui(n,xs)),b6(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new qt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new u1(this,WG(this._delegate,e))}catch(t){throw sc(t,"collection()","Firestore.collection()")}}doc(e){try{return new Wl(this,H5(this._delegate,e))}catch(t){throw sc(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new oc(this,function Fge(n,e){if(n=ui(n,gC),u6("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new qt(pt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new wa(n,null,(t=e,new If(wi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw sc(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Bme(n,e,t){n=ui(n,xs);const r=Object.assign(Object.assign({},Lme),t);return function(i){if(i.maxAttempts<1)throw new qt(pt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const c=new jo;return i.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){const u=yield function XG(n){return W5(n).then(e=>e.datastore)}(i);new zge(i.asyncQueue,u,o,s,c).run()})),c.promise}(go(n),i=>e(new Fme(n,i)),r)}(this._delegate,t=>e(new xK(this,t)))}batch(){return go(this._delegate),new AK(new wK(this._delegate,e=>l1(this._delegate,e)))}loadBundle(e){return function ame(n,e){const t=go(n=ui(n,xs)),r=new Qge;return function Zge(n,e,t,r){const i=function(s,o){let c;return c="string"==typeof s?(new TextEncoder).encode(s):s,u=function(u,h){if(u instanceof Uint8Array)return GG(u,h);if(u instanceof ArrayBuffer)return GG(new Uint8Array(u),h);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new Bge(u,o);var u}(t,hC(e));n.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){!function Oge(n,e,t){const r=En(n);var i;(i=(0,_t.Z)(function*(s,o,c){try{const u=yield o.getMetadata();if(yield function(I,w){const x=En(I),R=po(w.createTime);return x.persistence.runTransaction("hasNewerBundle","readonly",O=>x.Ns.getBundleMetadata(O,w.id)).then(O=>!!O&&O.createTime.compareTo(R)>=0)}(s.localStore,u))return yield o.close(),c._completeWith({taskState:"Success",documentsLoaded:(I=u).totalDocuments,bytesLoaded:I.totalBytes,totalDocuments:I.totalDocuments,totalBytes:I.totalBytes}),Promise.resolve(new Set);c._updateProgress(AG(u));const h=new pge(u,s.localStore,o.yt);let g=yield o.mc();for(;g;){const I=yield h.Fu(g);I&&c._updateProgress(I),g=yield o.mc()}const _=yield h.complete();return yield xf(s,_.Lu,void 0),yield function(I,w){const x=En(I);return x.persistence.runTransaction("Save bundle","readwrite",R=>x.Ns.saveBundleMetadata(R,w))}(s.localStore,u),c._completeWith(_.progress),Promise.resolve(_.Bu)}catch(u){return hy("SyncEngine",`Loading bundle failed with ${u}`),c._failWith(u),Promise.resolve(new Set)}var I}),function(s,o,c){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield y6(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function cme(n,e){return function Yge(n,e){return n.asyncQueue.enqueue((0,_t.Z)(function*(){return function(t,r){const i=En(t);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ns.getNamedQuery(s,r))}(yield q5(n),e)}))}(go(n=ui(n,xs)),e).then(t=>t?new wa(n,null,t.query):null)}(this._delegate,e).then(t=>t?new oc(this,t):null)}}class rN extends T6{constructor(e){super(),this.firestore=e}convertBytes(e){return new wC(new Hd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Wl.forKey(t,this.firestore,null)}}class xK{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rN(e)}get(e){const t=Oy(e);return this._delegate.get(t).then(r=>new EC(this._firestore,new Tf(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Oy(e);return r?(M6("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Oy(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Oy(e);return this._delegate.delete(t),this}}class AK{constructor(e){this._delegate=e}set(e,t,r){const i=Oy(e);return r?(M6("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Oy(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Oy(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ky{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new bC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new IC(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ky.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new ky(e,new rN(e),t),i.set(t,s)),s}}ky.INSTANCES=new WeakMap;class Wl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rN(e)}static forPath(e,t,r){if(e.length%2!=0)throw new qt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Wl(t,new Ss(t._delegate,r,new mn(e)))}static forKey(e,t,r){return new Wl(t,new Ss(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new u1(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new u1(this.firestore,WG(this._delegate,e))}catch(t){throw sc(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ne.m9)(e))instanceof Ss&&qG(this._delegate,e)}set(e,t){t=M6("DocumentReference.set",t);try{return t?yK(this._delegate,e,t):yK(this._delegate,e)}catch(r){throw sc(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?vK(this._delegate,e):vK(this._delegate,e,t,...r)}catch(i){throw sc(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Rme(n){return l1(ui(n.firestore,xs),[new Wb(n._key,Bs.none())])}(this._delegate)}onSnapshot(...e){const t=TK(e),r=DK(e,i=>new EC(this.firestore,new Tf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return bK(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Tme(n){n=ui(n,Ss);const e=ui(n.firestore,xs),t=go(e),r=new Zg(e);return function qge(n,e){const t=new jo;return n.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return(r=(0,_t.Z)(function*(i,s,o){try{const c=yield function(u,h){const g=En(u);return g.persistence.runTransaction("read document","readonly",_=>g.localDocuments.getDocument(_,h))}(i,s);c.isFoundDocument()?o.resolve(c):c.isNoDocument()?o.resolve(null):o.reject(new qt(pt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const u=n1(c,`Failed to get document '${s} from cache`);o.reject(u)}}),function(i,s,o){return r.apply(this,arguments)})(yield q5(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Tf(e,r,n._key,i,new Ry(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Dme(n){n=ui(n,Ss);const e=ui(n.firestore,xs);return QG(go(e),n._key,{source:"server"}).then(t=>D6(e,n,t))}(this._delegate):function Ame(n){n=ui(n,Ss);const e=ui(n.firestore,xs);return QG(go(e),n._key).then(t=>D6(e,n,t))}(this._delegate),t.then(r=>new EC(this.firestore,new Tf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Wl(this.firestore,this._delegate.withConverter(e?ky.getInstance(this.firestore,e):null))}}function sc(n,e,t){return n.message=n.message.replace(e,t),n}function TK(n){for(const e of n)if("object"==typeof e&&!N6(e))return e;return{}}function DK(n,e){var t,r;let i;return i=N6(n[0])?n[0]:N6(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class EC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Wl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _K(this._delegate,e._delegate)}}class IC extends EC{data(e){const t=this._delegate.data(e);return function Khe(n,e){n||zn()}(void 0!==t),t}}class oc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rN(e)}where(e,t,r){try{return new oc(this.firestore,Gg(this._delegate,function _me(n,e,t){const r=e,i=Q5("where",n);return vC._create(i,r,t)}(e,t,r)))}catch(i){throw sc(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new oc(this.firestore,Gg(this._delegate,function yme(n,e="asc"){const t=e,r=Q5("orderBy",n);return A6._create(r,t)}(e,t)))}catch(r){throw sc(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new oc(this.firestore,Gg(this._delegate,function vme(n){return VG("limit",n),J5._create("limit",n,"F")}(e)))}catch(t){throw sc(t,"limit()","Query.limit()")}}limitToLast(e){try{return new oc(this.firestore,Gg(this._delegate,function bme(n){return VG("limitToLast",n),J5._create("limitToLast",n,"L")}(e)))}catch(t){throw sc(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new oc(this.firestore,Gg(this._delegate,function wme(...n){return eN._create("startAt",n,!0)}(...e)))}catch(t){throw sc(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new oc(this.firestore,Gg(this._delegate,function Eme(...n){return eN._create("startAfter",n,!1)}(...e)))}catch(t){throw sc(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new oc(this.firestore,Gg(this._delegate,function Ime(...n){return tN._create("endBefore",n,!1)}(...e)))}catch(t){throw sc(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new oc(this.firestore,Gg(this._delegate,function Cme(...n){return tN._create("endAt",n,!0)}(...e)))}catch(t){throw sc(t,"endAt()","Query.endAt()")}}isEqual(e){return d6(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Nme(n){n=ui(n,wa);const e=ui(n.firestore,xs),t=go(e),r=new Zg(e);return function Gge(n,e){const t=new jo;return n.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return(r=(0,_t.Z)(function*(i,s,o){try{const c=yield L5(i,s,!0),u=new MG(s,c.Hi),h=u.Wu(c.documents),g=u.applyChanges(h,!1);o.resolve(g.snapshot)}catch(c){const u=n1(c,`Failed to execute query '${s} against cache`);o.reject(u)}}),function(i,s,o){return r.apply(this,arguments)})(yield q5(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Kg(e,r,n,i))}(this._delegate):"server"===e?.source?function Pme(n){n=ui(n,wa);const e=ui(n.firestore,xs),t=go(e),r=new Zg(e);return JG(t,n._query,{source:"server"}).then(i=>new Kg(e,r,n,i))}(this._delegate):function Mme(n){n=ui(n,wa);const e=ui(n.firestore,xs),t=go(e),r=new Zg(e);return uK(n._query),JG(t,n._query).then(i=>new Kg(e,r,n,i))}(this._delegate),t.then(r=>new P6(this.firestore,new Kg(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=TK(e),r=DK(e,i=>new P6(this.firestore,new Kg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return bK(this._delegate,t,r)}withConverter(e){return new oc(this.firestore,this._delegate.withConverter(e?ky.getInstance(this.firestore,e):null))}}class Zme{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new IC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class P6{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new oc(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new IC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Zme(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new IC(this._firestore,r))})}isEqual(e){return _K(this._delegate,e._delegate)}}class u1 extends oc{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Wl(this.firestore,e):null}doc(e){try{return new Wl(this.firestore,void 0===e?H5(this._delegate):H5(this._delegate,e))}catch(t){throw sc(t,"doc()","CollectionReference.doc()")}}add(e){return function kme(n,e){const t=ui(n.firestore,xs),r=H5(n),i=nN(n.converter,e);return l1(t,[Z5(Ny(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Bs.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Wl(this.firestore,t))}isEqual(e){return qG(this._delegate,e._delegate)}withConverter(e){return new u1(this.firestore,this._delegate.withConverter(e?ky.getInstance(this.firestore,e):null))}}function Oy(n){return ui(n,Ss)}class R6{constructor(...e){this._delegate=new Af(...e)}static documentId(){return new R6(eo.keyField().canonicalString())}isEqual(e){return(e=(0,ne.m9)(e))instanceof Af&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ly{constructor(e){this._delegate=e}static serverTimestamp(){const e=function jme(){return new w6("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ly(e)}static delete(){const e=function Ume(){return new mC("deleteField")}();return e._methodName="FieldValue.delete",new Ly(e)}static arrayUnion(...e){const t=function Vme(...n){return new hme("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ly(t)}static arrayRemove(...e){const t=function zme(...n){return new fme("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ly(t)}static increment(e){const t=function Hme(n){return new pme("increment",n)}(e);return t._methodName="FieldValue.increment",new Ly(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Yme={Firestore:SK,GeoPoint:G5,Timestamp:Fs,Blob:wC,Transaction:xK,WriteBatch:AK,DocumentReference:Wl,DocumentSnapshot:EC,Query:oc,QueryDocumentSnapshot:IC,QuerySnapshot:P6,CollectionReference:u1,FieldPath:R6,FieldValue:Ly,setLogLevel:function Kme(n){!function Ghe(n){Rg.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function MK(n,e){return function Jme(n,e=Yc.z){return new Ko.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function k6(n,e){return MK(n,e).pipe((0,In.U)(t=>({payload:t,type:"query"})))}function iN(n,e){return k6(n,e).pipe(xp(void 0),LM(),(0,In.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(o=>({type:o.type,payload:o}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((o,c)=>{const u=i.find(g=>g.doc.ref.isEqual(o.ref)),h=t?.payload.docs.find(g=>g.ref.isEqual(o.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(o.metadata)||!u&&h&&JSON.stringify(h.metadata)===JSON.stringify(o.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:o}})}),s}))}function NK(n,e,t){return iN(n,t).pipe(fd((r,i)=>function t_e(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function n_e(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return O6(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return O6(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return O6(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),Iv(),(0,In.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function O6(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function PK(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Qme(n){(function Xme(n,e){n.INTERNAL.registerComponent(new yo.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Yme)))})(n,(e,t)=>new SK(e,t,new Gme)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(SE.Z);class RK{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=iN(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,In.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(xp(void 0),LM(),vc(([r,i])=>i.length>0||!r),(0,In.U)(([r,i])=>i),Xt.iC)}auditTrail(e){return this.stateChanges(e).pipe(fd((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=PK(e);return NK(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xt.iC)}valueChanges(e={}){return k6(this.query,this.afs.schedulers.outsideAngular).pipe((0,In.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Xt.iC)}get(e){return(0,Li.D)(this.query.get(e)).pipe(Xt.iC)}add(e){return this.ref.add(e)}doc(e){return new kK(this.ref.doc(e),this.afs)}}class kK{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=FK(r,t);return new RK(i,s,this.afs)}snapshotChanges(){return function e_e(n,e){return MK(n,e).pipe(xp(void 0),LM(),(0,In.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Xt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,In.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Li.D)(this.ref.get(e)).pipe(Xt.iC)}}class r_e{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?iN(this.query,this.afs.schedulers.outsideAngular).pipe((0,In.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),vc(t=>t.length>0),Xt.iC):iN(this.query,this.afs.schedulers.outsideAngular).pipe(Xt.iC)}auditTrail(e){return this.stateChanges(e).pipe(fd((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=PK(e);return NK(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xt.iC)}valueChanges(e={}){return k6(this.query,this.afs.schedulers.outsideAngular).pipe((0,In.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Xt.iC)}get(e){return(0,Li.D)(this.query.get(e)).pipe(Xt.iC)}}const OK=new p.OlP("angularfire2.enableFirestorePersistence"),LK=new p.OlP("angularfire2.firestore.persistenceSettings"),i_e=new p.OlP("angularfire2.firestore.settings"),s_e=new p.OlP("angularfire2.firestore.use-emulator");function FK(n,e=(t=>t)){return{query:e(n),ref:n}}let o_e=(()=>{class n{constructor(t,r,i,s,o,c,u,h,g,_,I,w,x,R,O,L,U){this.schedulers=u;const Y=(0,ls.on)(t,c,r),te=g;_&&uL(Y,c,I,x,R,O,w,L),[this.firestore,this.persistenceEnabled$]=(0,ls.cc)(`${Y.name}.firestore`,"AngularFirestore",Y.name,()=>{const ce=c.runOutsideAngular(()=>Y.firestore());if(s&&ce.settings(s),te&&ce.useEmulator(...te),i&&!sh(o)){const ye=()=>{try{return(0,Li.D)(ce.enablePersistence(h||void 0).then(()=>!0,()=>!1))}catch(pe){return typeof console<"u"&&console.warn(pe),vn(!1)}};return[ce,c.runOutsideAngular(ye)]}return[ce,vn(!1)]},[s,te,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=FK(i,r),c=this.schedulers.ngZone.run(()=>s);return new RK(c,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new r_e(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new kK(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ls.Dh),p.LFG(ls.xv,8),p.LFG(OK,8),p.LFG(i_e,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Xt.HU),p.LFG(LK,8),p.LFG(s_e,8),p.LFG(TD,8),p.LFG(iL,8),p.LFG(sL,8),p.LFG(oL,8),p.LFG(aL,8),p.LFG(cL,8),p.LFG(lL,8),p.LFG(Dd,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),a_e=(()=>{class n{constructor(){AD.Z.registerVersion("angularfire",Xt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:OK,useValue:!0},{provide:LK,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[o_e]}),n})();class c_e{constructor(e,t="/assets/i18n/",r=".json"){this.http=e,this.prefix=t,this.suffix=r}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}}var BK=Q(552);function l_e(n){return new Ko.y(function(e){return{unsubscribe:(0,BK.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class sN{constructor(e){return e}}class CC{constructor(){return(0,Xt.vb)("auth")}}const L6=new p.OlP("angularfire2.auth-instances");function h_e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new sN(r)}}const f_e={provide:CC,deps:[[new p.FiY,L6]]},p_e={provide:sN,useFactory:function d_e(n,e){const t=(0,Xt.JM)("auth",n,e);return t&&new sN(t)},deps:[[new p.FiY,L6],al]};let g_e=(()=>{class n{constructor(){(0,ga.KN)("angularfire",Xt.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[p_e,f_e]}),n})();function m_e(n,...e){return{ngModule:g_e,providers:[{provide:L6,useFactory:h_e(n),multi:!0,deps:[p.R0b,p.zs3,Xt.HU,Td,[new p.FiY,Dd],...e]}]}}const __e=(0,Xt.u3)(l_e,!0),y_e=(0,Xt.u3)(BK.n,!0);class F6{constructor(e){return e}}const jK="database",B6=new p.OlP("angularfire2.database-instances");function w_e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new F6(r)}}const E_e={provide:class v_e{constructor(){return(0,Xt.vb)(jK)}},deps:[[new p.FiY,B6]]},I_e={provide:F6,useFactory:function b_e(n,e){const t=(0,Xt.JM)(jK,n,e);return t&&new F6(t)},deps:[[new p.FiY,B6],al]};let C_e=(()=>{class n{constructor(){(0,ga.KN)("angularfire",Xt.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[I_e,E_e]}),n})();function S_e(n,...e){return{ngModule:C_e,providers:[{provide:B6,useFactory:w_e(n),multi:!0,deps:[p.R0b,p.zs3,Xt.HU,Td,[new p.FiY,CC],[new p.FiY,Dd],...e]}]}}const x_e=(0,Xt.u3)(_Q,!0);class U6{constructor(e){return e}}const VK="firestore",j6=new p.OlP("angularfire2.firestore-instances");function D_e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new U6(r)}}const M_e={provide:class A_e{constructor(){return(0,Xt.vb)(VK)}},deps:[[new p.FiY,j6]]},N_e={provide:U6,useFactory:function T_e(n,e){const t=(0,Xt.JM)(VK,n,e);return t&&new U6(t)},deps:[[new p.FiY,j6],al]};let P_e=(()=>{class n{constructor(){(0,ga.KN)("angularfire",Xt.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[N_e,M_e]}),n})();function R_e(n,...e){return{ngModule:P_e,providers:[{provide:j6,useFactory:D_e(n),multi:!0,deps:[p.R0b,p.zs3,Xt.HU,Td,[new p.FiY,CC],[new p.FiY,Dd],...e]}]}}const k_e=(0,Xt.u3)(eme,!0),z6="functions";class U_e{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return(0,_t.Z)(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return(0,_t.Z)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return(0,_t.Z)(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return(0,_t.Z)(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const H6="us-central1";class V_e{constructor(e,t,r,i,s=H6,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new U_e(t,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(s);this.customDomain=c.origin,this.region=H6}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const WK="@firebase/functions";function X_e(n=(0,gi.getApp)(),e=H6){const r=(0,gi._getProvider)((0,ne.m9)(n),z6).getImmediate({identifier:e}),i=(0,ne.P0)("functions");return i&&function Q_e(n,e,t){!function z_e(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}((0,ne.m9)(n),e,t)}(r,...i),r}!function Y_e(n,e){(0,gi._registerComponent)(new yo.wA(z6,(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),c=r.getProvider("messaging-internal"),u=r.getProvider("app-check-internal");return new V_e(s,o,c,u,i,n)},"PUBLIC").setMultipleInstances(!0)),(0,gi.registerVersion)(WK,"0.9.0",e),(0,gi.registerVersion)(WK,"0.9.0","esm2017")}(fetch.bind(self));class q6{constructor(e){return e}}const GK="functions",G6=new p.OlP("angularfire2.functions-instances");function tye(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new q6(r)}}const nye={provide:class J_e{constructor(){return(0,Xt.vb)(GK)}},deps:[[new p.FiY,G6]]},rye={provide:q6,useFactory:function eye(n,e){const t=(0,Xt.JM)(GK,n,e);return t&&new q6(t)},deps:[[new p.FiY,G6],al]};let iye=(()=>{class n{constructor(){(0,ga.KN)("angularfire",Xt.q4.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[rye,nye]}),n})();function sye(n,...e){return{ngModule:iye,providers:[{provide:G6,useFactory:tye(n),multi:!0,deps:[p.R0b,p.zs3,Xt.HU,Td,[new p.FiY,CC],[new p.FiY,Dd],...e]}]}}const oye=(0,Xt.u3)(X_e,!0);var aye=Q(751);class K6{constructor(e){return e}}const KK="messaging",Z6=new p.OlP("angularfire2.messaging-instances");function uye(n){return(e,t)=>{if(!Xt.n1.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new K6(r)}}const dye={provide:class cye{constructor(){return(0,Xt.vb)(KK)}},deps:[[new p.FiY,Z6]]},hye={provide:K6,useFactory:function lye(n,e){if(!Xt.n1.sync())return null;const t=(0,Xt.JM)(KK,n,e);return t&&new K6(t)},deps:[[new p.FiY,Z6],al]};let fye=(()=>{class n{constructor(){(0,ga.KN)("angularfire",Xt.q4.full,"fcm")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[hye,dye,{provide:p.ip1,useValue:Xt.n1.async,multi:!0}]}),n})();function pye(n,...e){return{ngModule:fye,providers:[{provide:Z6,useFactory:uye(n),multi:!0,deps:[p.R0b,p.zs3,Xt.HU,Td,...e]}]}}const gye=(0,Xt.u3)(aye.KL,!0);Q(2833);const ZK="@firebase/performance",Y6="0.6.0",X6="FB-PERF-TRACE-MEASURE",tZ="@firebase/performance/config",nZ="@firebase/performance/configexpire",rZ="Performance",Ea=new ne.LL("performance",rZ,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),$d=new Na.Yd(rZ);let Q6,iZ,sZ,eB;$d.logLevel=Na.in.INFO;class ta{constructor(e){if(this.window=e,!e)throw Ea.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,t,r){!this.performance||!this.performance.measure||this.performance.measure(e,t,r)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,ne.zI)()?!!(0,ne.hl)()||($d.info("IndexedDB is not supported by current browswer"),!1):($d.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){this.PerformanceObserver&&new this.PerformanceObserver(i=>{for(const s of i.getEntries())t(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===Q6&&(Q6=new ta(iZ)),Q6}}function J6(){return sZ}function oZ(n,e){const t=n.length-e.length;if(t<0||t>1)throw Ea.create("invalid String merger input");const r=[];for(let i=0;i<n.length;i++)r.push(n.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}class pl{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=oZ("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=oZ("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===eB&&(eB=new pl),eB}}var Fy=(()=>(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.VISIBLE=1]="VISIBLE",n[n.HIDDEN=2]="HIDDEN"}(Fy||(Fy={})),Fy))();const Iye=["firebase_","google_","ga_"],Cye=new RegExp("^[a-zA-Z]\\w*$");function Aye(){const n=ta.getInstance().navigator;return n?.serviceWorker?n.serviceWorker.controller?2:3:1}function aZ(){switch(ta.getInstance().document.visibilityState){case"visible":return Fy.VISIBLE;case"hidden":return Fy.HIDDEN;default:return Fy.UNKNOWN}}function Tye(){const e=ta.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function cZ(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.appId;if(!t)throw Ea.create("no app id");return t}const Du={loggingEnabled:!0};const Bye="Could not fetch config, will use default configs";function lZ(n){if(!n)return n;const e=pl.getInstance(),t=n.entries||{};return e.loggingEnabled=void 0!==t.fpr_enabled?"true"===String(t.fpr_enabled):Du.loggingEnabled,t.fpr_log_source?e.logSource=Number(t.fpr_log_source):Du.logSource&&(e.logSource=Du.logSource),t.fpr_log_endpoint_url?e.logEndPointUrl=t.fpr_log_endpoint_url:Du.logEndPointUrl&&(e.logEndPointUrl=Du.logEndPointUrl),t.fpr_log_transport_key?e.transportKey=t.fpr_log_transport_key:Du.transportKey&&(e.transportKey=Du.transportKey),void 0!==t.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(t.fpr_vc_network_request_sampling_rate):void 0!==Du.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=Du.networkRequestsSamplingRate),void 0!==t.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(t.fpr_vc_trace_sampling_rate):void 0!==Du.tracesSamplingRate&&(e.tracesSamplingRate=Du.tracesSamplingRate),e.logTraceAfterSampling=uZ(e.tracesSamplingRate),e.logNetworkAfterSampling=uZ(e.networkRequestsSamplingRate),n}function uZ(n){return Math.random()<=n}let nB,tB=1;function dZ(n){return tB=2,nB=nB||function zye(n){return function Hye(){const n=ta.getInstance().document;return new Promise(e=>{if(n&&"complete"!==n.readyState){const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(()=>function wye(n){const e=n.getId();return e.then(t=>{sZ=t}),e}(n.installations)).then(e=>function Oye(n,e){const t=function Lye(){const n=ta.getInstance().localStorage;if(!n)return;const e=n.getItem(nZ);if(!e||!function jye(n){return Number(n)>Date.now()}(e))return;const t=n.getItem(tZ);if(t)try{return JSON.parse(t)}catch{return}}();return t?(lZ(t),Promise.resolve()):function Uye(n,e){return function Eye(n){const e=n.getToken();return e.then(t=>{}),e}(n.installations).then(t=>{const r=function Nye(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.projectId;if(!t)throw Ea.create("no project id");return t}(n.app),i=function Pye(n){var e;const t=null===(e=n.options)||void 0===e?void 0:e.apiKey;if(!t)throw Ea.create("no api key");return t}(n.app),o=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${t}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:cZ(n.app),app_version:"0.6.0",sdk_version:"0.0.1"})});return fetch(o).then(c=>{if(c.ok)return c.json();throw Ea.create("RC response not ok")})}).catch(()=>{$d.info(Bye)})}(n,e).then(lZ).then(r=>function Fye(n){const e=ta.getInstance().localStorage;!n||!e||(e.setItem(tZ,JSON.stringify(n)),e.setItem(nZ,String(Date.now()+60*pl.getInstance().configTimeToLive*60*1e3)))}(r),()=>{})}(n,e)).then(()=>hZ(),()=>hZ())}(n),nB}function hZ(){tB=3}let iB,aN=3,Xg=[],pZ=!1;function cN(n){setTimeout(()=>{if(0!==aN){if(!Xg.length)return cN(1e4);!function Gye(){const n=Xg.splice(0,1e3),e=n.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}));(function Kye(n,e){return function Zye(n){const e=pl.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(n)})}(n).then(t=>(t.ok||$d.info("Call to Firebase backend failed."),t.json())).then(t=>{const r=Number(t.nextRequestWaitMillis);let i=1e4;isNaN(r)||(i=Math.max(r,i));const s=t.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(Xg=[...e,...Xg],$d.info("Retry transport request later.")),aN=3,cN(i)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:pl.getInstance().logSource,log_event:e},n).catch(()=>{Xg=[...n,...Xg],aN--,$d.info(`Tries left: ${aN}.`),cN(1e4)})}()}},n)}function gZ(n,e){iB||(iB=function Xye(n){return(...e)=>{!function Yye(n){if(!n.eventTime||!n.message)throw Ea.create("invalid cc log");Xg=[...Xg,n]}({message:n(...e),eventTime:Date.now()})}}(Jye)),iB(n,e)}function lN(n){const e=pl.getInstance();!e.instrumentationEnabled&&n.isAuto||!e.dataCollectionEnabled&&!n.isAuto||!ta.getInstance().requiredApisAvailable()||n.isAuto&&aZ()!==Fy.VISIBLE||(function Vye(){return 3===tB}()?sB(n):dZ(n.performanceController).then(()=>sB(n),()=>sB(n)))}function sB(n){if(!J6())return;const e=pl.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>gZ(n,1),0)}function Jye(n,e){return 0===e?function e0e(n){const e={url:n.url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},t={application_info:mZ(n.performanceController.app),network_request_metric:e};return JSON.stringify(t)}(n):function t0e(n){const e={name:n.name,is_auto:n.isAuto,client_start_time_us:n.startTimeUs,duration_us:n.durationUs};0!==Object.keys(n.counters).length&&(e.counters=n.counters);const t=n.getAttributes();0!==Object.keys(t).length&&(e.custom_attributes=t);const r={application_info:mZ(n.performanceController.app),trace_metric:e};return JSON.stringify(r)}(n)}function mZ(n){return{google_app_id:cZ(n),app_instance_id:J6(),web_app_info:{sdk_version:"0.6.0",page_url:ta.getInstance().getUrl(),service_worker_status:Aye(),visibility_state:aZ(),effective_connection_type:Tye()},application_process_state:0}}const i0e=["_fp","_fcp","_fid"];class Qg{constructor(e,t,r=!1,i){this.performanceController=e,this.name=t,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=ta.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=i||`${X6}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw Ea.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw Ea.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),lN(this)}record(e,t,r){if(e<=0)throw Ea.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Ea.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));lN(this)}incrementMetric(e,t=1){this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)}putMetric(e,t){if(!function s0e(n,e){return!(0===n.length||n.length>100)&&(e&&e.startsWith("_wt_")&&i0e.indexOf(n)>-1||!n.startsWith("_"))}(e,this.name))throw Ea.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function o0e(n){const e=Math.floor(n);return e<n&&$d.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(t??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const r=function Dye(n){return!(0===n.length||n.length>40||Iye.some(t=>n.startsWith(t))||!n.match(Cye))}(e),i=function Mye(n){return 0!==n.length&&n.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw Ea.create("invalid attribute name",{attributeName:e});if(!i)throw Ea.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,r,i){const s=ta.getInstance().getUrl();if(!s)return;const o=new Qg(e,"_wt_"+s,!0),c=Math.floor(1e3*ta.getInstance().getTimeOrigin());if(o.setStartTime(c),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),r){const g=r.find(I=>"first-paint"===I.name);g&&g.startTime&&o.putMetric("_fp",Math.floor(1e3*g.startTime));const _=r.find(I=>"first-contentful-paint"===I.name);_&&_.startTime&&o.putMetric("_fcp",Math.floor(1e3*_.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))}lN(o)}static createUserTimingTrace(e,t){lN(new Qg(e,t,!1,t))}}function _Z(n,e){const t=e;if(!t||void 0===t.responseStart)return;const r=ta.getInstance().getTimeOrigin(),i=Math.floor(1e3*(t.startTime+r)),s=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function Qye(n){const e=pl.getInstance();if(!e.instrumentationEnabled)return;const t=n.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];t===r||t===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>gZ(n,0),0)}({performanceController:n,url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o})}function yZ(n){!J6()||(setTimeout(()=>function l0e(n){const e=ta.getInstance(),t=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");if(e.onFirstInputDelay){let i=setTimeout(()=>{Qg.createOobTrace(n,t,r),i=void 0},5e3);e.onFirstInputDelay(s=>{i&&(clearTimeout(i),Qg.createOobTrace(n,t,r,s))})}else Qg.createOobTrace(n,t,r)}(n),0),setTimeout(()=>function c0e(n){const e=ta.getInstance(),t=e.getEntriesByType("resource");for(const r of t)_Z(n,r);e.setupObserver("resource",r=>_Z(n,r))}(n),0),setTimeout(()=>function u0e(n){const e=ta.getInstance(),t=e.getEntriesByType("measure");for(const r of t)vZ(n,r);e.setupObserver("measure",r=>vZ(n,r))}(n),0))}function vZ(n,e){const t=e.name;t.substring(0,X6.length)!==X6&&Qg.createUserTimingTrace(n,t)}class d0e{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),ta.getInstance().requiredApisAvailable()?(0,ne.eu)().then(t=>{t&&(function qye(){pZ||(cN(5500),pZ=!0)}(),dZ(this).then(()=>yZ(this),()=>yZ(this)),this.initialized=!0)}).catch(t=>{$d.info(`Environment doesn't support IndexedDB: ${t}`)}):$d.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){pl.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return pl.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){pl.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return pl.getInstance().dataCollectionEnabled}}function f0e(n=(0,gi.getApp)()){return n=(0,ne.m9)(n),(0,gi._getProvider)(n,"performance").getImmediate()}const p0e=(n,{options:e})=>{const t=n.getProvider("app").getImmediate(),r=n.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==t.name)throw Ea.create("FB not default");if(typeof window>"u")throw Ea.create("no window");!function bye(n){iZ=n}(window);const i=new d0e(t,r);return i._init(e),i};!function g0e(){(0,gi._registerComponent)(new yo.wA("performance",p0e,"PUBLIC")),(0,gi.registerVersion)(ZK,Y6),(0,gi.registerVersion)(ZK,Y6,"esm2017")}();class oB{constructor(e){return e}}const bZ="performance",aB=new p.OlP("angularfire2.performance-instances");function y0e(n){return(e,t,r)=>{if(!Yf(t))return null;const i=e.runOutsideAngular(()=>n(r));return new oB(i)}}const v0e={provide:class m0e{constructor(){return(0,Xt.vb)(bZ)}},deps:[[new p.FiY,aB]]},b0e={provide:oB,useFactory:function _0e(n,e,t){if(!Yf(t))return null;const r=(0,Xt.JM)(bZ,n,e);return r&&new oB(r)},deps:[[new p.FiY,aB],al,p.Lbi]};let w0e=(()=>{class n{constructor(){(0,ga.KN)("angularfire",Xt.q4.full,"perf")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[b0e,v0e]}),n})();function E0e(n,...e){return{ngModule:w0e,providers:[{provide:aB,useFactory:y0e(n),multi:!0,deps:[p.R0b,p.Lbi,p.zs3,Xt.HU,Td,...e]}]}}const I0e=(0,Xt.u3)(f0e,!0);var C0e=Q(4880);class cB{constructor(e){return e}}const wZ="remote-config",lB=new p.OlP("angularfire2.remote-config-instances");function A0e(n){return(e,t)=>{if(!Xt._J.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new cB(r)}}const T0e={provide:class S0e{constructor(){return(0,Xt.vb)(wZ)}},deps:[[new p.FiY,lB]]},D0e={provide:cB,useFactory:function x0e(n,e){if(!Xt._J.sync())return null;const t=(0,Xt.JM)(wZ,n,e);return t&&new cB(t)},deps:[[new p.FiY,lB],al]};let M0e=(()=>{class n{constructor(){(0,ga.KN)("angularfire",Xt.q4.full,"rc")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[D0e,T0e,{provide:p.ip1,useValue:Xt._J.async,multi:!0}]}),n})();function N0e(n,...e){return{ngModule:M0e,providers:[{provide:lB,useFactory:A0e(n),multi:!0,deps:[p.R0b,p.zs3,Xt.HU,Td,...e]}]}}const P0e=(0,Xt.u3)(C0e.sN,!0);class uB{constructor(e){return e}}const EZ="storage",dB=new p.OlP("angularfire2.storage-instances");function O0e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new uB(r)}}const L0e={provide:class R0e{constructor(){return(0,Xt.vb)(EZ)}},deps:[[new p.FiY,dB]]},F0e={provide:uB,useFactory:function k0e(n,e){const t=(0,Xt.JM)(EZ,n,e);return t&&new uB(t)},deps:[[new p.FiY,dB],al]};let B0e=(()=>{class n{constructor(){(0,ga.KN)("angularfire",Xt.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[F0e,L0e]}),n})();function U0e(n,...e){return{ngModule:B0e,providers:[{provide:dB,useFactory:O0e(n),multi:!0,deps:[p.R0b,p.zs3,Xt.HU,Td,[new p.FiY,CC],[new p.FiY,Dd],...e]}]}}const j0e=(0,Xt.u3)(Dde,!0);var z0e=Q(655);class Mu extends Ta.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var H0e=Q(9635),IZ=Q(727);function hB(){return(0,Ys.e)((n,e)=>{let t=null;n._refCount++;const r=(0,bs.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class CZ extends Ko.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ys.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new IZ.w0;const t=this.getSubject();e.add(this.source.subscribe((0,bs.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=IZ.w0.EMPTY)}return e}refCount(){return hB()(this)}}function fB(n){return n<=0?()=>Ah.E:(0,Ys.e)((e,t)=>{let r=[];e.subscribe((0,bs.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function SZ(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vc((i,s)=>n(i,s,r)):nd.y,fB(1),t?bD(e):s7(()=>new vD))}const ei="primary",SC=Symbol("RouteTitle");class q0e{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function h1(n){return new q0e(n)}function G0e(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],c=n[s];if(o.startsWith(":"))i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Wd(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!xZ(n[i],e[i]))return!1;return!0}function xZ(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function AZ(n){return Array.prototype.concat.apply([],n)}function TZ(n){return n.length>0?n[n.length-1]:null}function Ia(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Jg(n){return(0,p.CqO)(n)?n:(0,p.QGY)(n)?(0,Li.D)(Promise.resolve(n)):vn(n)}const uN=!1,Z0e={exact:function NZ(n,e,t){if(!Uy(n.segments,e.segments)||!dN(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!NZ(n.children[r],e.children[r],t))return!1;return!0},subset:PZ},DZ={exact:function Y0e(n,e){return Wd(n,e)},subset:function X0e(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xZ(n[t],e[t]))},ignored:()=>!0};function MZ(n,e,t){return Z0e[t.paths](n.root,e.root,t.matrixParams)&&DZ[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function PZ(n,e,t){return RZ(n,e,e.segments,t)}function RZ(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Uy(i,t)||e.hasChildren()||!dN(i,t,r))}if(n.segments.length===t.length){if(!Uy(n.segments,t)||!dN(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!PZ(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Uy(n.segments,i)&&dN(n.segments,i,r)&&n.children[ei])&&RZ(n.children[ei],e,s,r)}}function dN(n,e,t){return e.every((r,i)=>DZ[t](n[i].parameters,r.parameters))}class By{constructor(e=new ti([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=h1(this.queryParams)),this._queryParamMap}toString(){return eve.serialize(this)}}class ti{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ia(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hN(this)}}class xC{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=h1(this.parameters)),this._parameterMap}toString(){return LZ(this)}}function Uy(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let AC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return new pB},providedIn:"root"}),n})();class pB{parse(e){const t=new lve(e);return new By(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${TC(e.root,!0)}`,r=function rve(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${fN(t)}=${fN(i)}`).join("&"):`${fN(t)}=${fN(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function tve(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const eve=new pB;function hN(n){return n.segments.map(e=>LZ(e)).join("/")}function TC(n,e){if(!n.hasChildren())return hN(n);if(e){const t=n.children[ei]?TC(n.children[ei],!1):"",r=[];return Ia(n.children,(i,s)=>{s!==ei&&r.push(`${s}:${TC(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function J0e(n,e){let t=[];return Ia(n.children,(r,i)=>{i===ei&&(t=t.concat(e(r,i)))}),Ia(n.children,(r,i)=>{i!==ei&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ei?[TC(n.children[ei],!1)]:[`${i}:${TC(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ei]?`${hN(n)}/${t[0]}`:`${hN(n)}/(${t.join("//")})`}}function kZ(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fN(n){return kZ(n).replace(/%3B/gi,";")}function gB(n){return kZ(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pN(n){return decodeURIComponent(n)}function OZ(n){return pN(n.replace(/\+/g,"%20"))}function LZ(n){return`${gB(n.path)}${function nve(n){return Object.keys(n).map(e=>`;${gB(e)}=${gB(n[e])}`).join("")}(n.parameters)}`}const ive=/^[^\/()?;=#]+/;function gN(n){const e=n.match(ive);return e?e[0]:""}const sve=/^[^=?&#]+/,ave=/^[^&#]+/;class lve{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ti([],{}):new ti([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ei]=new ti(e,t)),r}parseSegment(){const e=gN(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new p.vHH(4009,uN);return this.capture(e),new xC(pN(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=gN(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=gN(this.remaining);i&&(r=i,this.capture(r))}e[pN(t)]=pN(r)}parseQueryParam(e){const t=function ove(n){const e=n.match(sve);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function cve(n){const e=n.match(ave);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=OZ(t),s=OZ(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gN(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new p.vHH(4010,uN);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ei);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ei]:new ti([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new p.vHH(4011,uN)}}function mB(n){return n.segments.length>0?new ti([],{[ei]:n}):n}function mN(n){const e={};for(const r of Object.keys(n.children)){const s=mN(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function uve(n){if(1===n.numberOfChildren&&n.children[ei]){const e=n.children[ei];return new ti(n.segments.concat(e.segments),e.children)}return n}(new ti(n.segments,e))}function jy(n){return n instanceof By}function fve(n,e,t,r,i){if(0===t.length)return f1(e.root,e.root,e.root,r,i);const s=function UZ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new BZ(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return Ia(s.outlets,(u,h)=>{c[h]="string"==typeof u?u.split("/"):u}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?t=!0:".."===c?e++:""!=c&&i.push(c))}),i):[...i,s]},[]);return new BZ(t,e,r)}(t);return s.toRoot()?f1(e.root,e.root,new ti([],{}),r,i):function o(u){const h=function gve(n,e,t,r){if(n.isAbsolute)return new p1(e.root,!0,0);if(-1===r)return new p1(t,t===e.root,0);return function jZ(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new p.vHH(4005,!1);i=r.segments.length}return new p1(r,!1,i-s)}(t,r+(DC(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),g=h.processChildren?NC(h.segmentGroup,h.index,s.commands):yB(h.segmentGroup,h.index,s.commands);return f1(e.root,h.segmentGroup,g,r,i)}(n.snapshot?._lastPathIndex)}function DC(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function MC(n){return"object"==typeof n&&null!=n&&n.outlets}function f1(n,e,t,r,i){let o,s={};r&&Ia(r,(u,h)=>{s[h]=Array.isArray(u)?u.map(g=>`${g}`):`${u}`}),o=n===e?t:FZ(n,e,t);const c=mB(mN(o));return new By(c,s,i)}function FZ(n,e,t){const r={};return Ia(n.children,(i,s)=>{r[s]=i===e?t:FZ(i,e,t)}),new ti(n.segments,r)}class BZ{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&DC(r[0]))throw new p.vHH(4003,!1);const i=r.find(MC);if(i&&i!==TZ(r))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class p1{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function yB(n,e,t){if(n||(n=new ti([],{})),0===n.segments.length&&n.hasChildren())return NC(n,e,t);const r=function _ve(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],c=t[r];if(MC(c))break;const u=`${c}`,h=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&h&&"object"==typeof h&&void 0===h.outlets){if(!zZ(u,h,o))return s;r+=2}else{if(!zZ(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ti(n.segments.slice(0,r.pathIndex),{});return s.children[ei]=new ti(n.segments.slice(r.pathIndex),n.children),NC(s,0,i)}return r.match&&0===i.length?new ti(n.segments,{}):r.match&&!n.hasChildren()?vB(n,e,t):r.match?NC(n,0,i):vB(n,e,t)}function NC(n,e,t){if(0===t.length)return new ti(n.segments,{});{const r=function mve(n){return MC(n[0])?n[0].outlets:{[ei]:n}}(t),i={};return Ia(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=yB(n.children[o],e,s))}),Ia(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ti(n.segments,i)}}function vB(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(MC(s)){const u=yve(s.outlets);return new ti(r,u)}if(0===i&&DC(t[0])){r.push(new xC(n.segments[e].path,VZ(t[0]))),i++;continue}const o=MC(s)?s.outlets[ei]:`${s}`,c=i<t.length-1?t[i+1]:null;o&&c&&DC(c)?(r.push(new xC(o,VZ(c))),i+=2):(r.push(new xC(o,{})),i++)}return new ti(r,{})}function yve(n){const e={};return Ia(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=vB(new ti([],{}),0,t))}),e}function VZ(n){const e={};return Ia(n,(t,r)=>e[r]=`${t}`),e}function zZ(n,e,t){return n==t.path&&Wd(e,t.parameters)}class Df{constructor(e,t){this.id=e,this.url=t}}class HZ extends Df{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class PC extends Df{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _N extends Df{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $Z extends Df{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vve extends Df{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bve extends Df{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wve extends Df{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Eve extends Df{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ive extends Df{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cve{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sve{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xve{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ave{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tve{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WZ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qZ{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=bB(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=bB(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=wB(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wB(e,this._root).map(t=>t.value)}}function bB(n,e){if(n===e.value)return e;for(const t of e.children){const r=bB(n,t);if(r)return r}return null}function wB(n,e){if(n===e.value)return[e];for(const t of e.children){const r=wB(n,t);if(r.length)return r.unshift(e),r}return[]}class Mf{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function g1(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class GZ extends qZ{constructor(e,t){super(e),this.snapshot=t,EB(this,e)}toString(){return this.snapshot.toString()}}function KZ(n,e){const t=function Mve(n,e){const o=new yN([],{},{},"",{},ei,e,null,n.root,-1,{});return new YZ("",new Mf(o,[]))}(n,e),r=new Mu([new xC("",{})]),i=new Mu({}),s=new Mu({}),o=new Mu({}),c=new Mu(""),u=new m1(r,i,o,c,s,ei,e,t.root);return u.snapshot=t.root,new GZ(new Mf(u,[]),t)}class m1{constructor(e,t,r,i,s,o,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.title=this.data?.pipe((0,In.U)(h=>h[SC]))??vn(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,In.U)(e=>h1(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,In.U)(e=>h1(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ZZ(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Nve(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class yN{constructor(e,t,r,i,s,o,c,u,h,g,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._urlSegment=h,this._lastPathIndex=g,this._resolve=_}get title(){return this.data?.[SC]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=h1(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=h1(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YZ extends qZ{constructor(e,t){super(t),this.url=e,EB(this,t)}toString(){return XZ(this._root)}}function EB(n,e){e.value._routerState=n,e.children.forEach(t=>EB(n,t))}function XZ(n){const e=n.children.length>0?` { ${n.children.map(XZ).join(", ")} } `:"";return`${n.value}${e}`}function IB(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Wd(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Wd(e.params,t.params)||n.params.next(t.params),function K0e(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Wd(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Wd(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function CB(n,e){const t=Wd(n.params,e.params)&&function Q0e(n,e){return Uy(n,e)&&n.every((t,r)=>Wd(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||CB(n.parent,e.parent))}function RC(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Rve(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return RC(n,r,i);return RC(n,r)})}(n,e,t);return new Mf(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>RC(n,c)),o}}const r=function kve(n){return new m1(new Mu(n.url),new Mu(n.params),new Mu(n.queryParams),new Mu(n.fragment),new Mu(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>RC(n,s));return new Mf(r,i)}}const SB="ngNavigationCancelingError";function QZ(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=jy(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=JZ(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function JZ(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[SB]=!0,r.cancellationCode=e,t&&(r.url=t),r}function eY(n){return tY(n)&&jy(n.url)}function tY(n){return n&&n[SB]}class Ove{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new _1,this.attachRef=null}}let _1=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ove,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vN=!1;let nY=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ei,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(_1),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,vN);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,vN);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,vN);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new p.vHH(4013,vN);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Lve(t,c,i.injector);if(r&&function Fve(n){return!!n.resolveComponentFactory}(r)){const h=r.resolveComponentFactory(o);this.activated=i.createComponent(h,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),n})();class Lve{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===m1?this.route:e===_1?this.childContexts:this.parent.get(e,t)}}let xB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(t,r){1&t&&p._UZ(0,"router-outlet")},dependencies:[nY],encapsulation:2}),n})();function rY(n,e){return n.providers&&!n._injector&&(n._injector=(0,p.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function TB(n){const e=n.children&&n.children.map(TB),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ei&&(t.component=xB),t}function ql(n){return n.outlet||ei}function iY(n,e){const t=n.filter(r=>ql(r)===e);return t.push(...n.filter(r=>ql(r)!==e)),t}function kC(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class zve{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),IB(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=g1(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ia(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=g1(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=g1(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=g1(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new WZ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ave(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(IB(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),IB(c.route.value),this.activateChildRoutes(e,null,o.children)}else{const c=kC(i.snapshot),u=c?.get(p._Vd)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=c,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class sY{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bN{constructor(e,t){this.component=e,this.route=t}}function Hve(n,e,t){const r=n._root;return OC(r,e?e._root:null,t,[r.value])}function y1(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,p.Z0I)(n)?e.get(n):n:r}function OC(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=g1(e);return n.children.forEach(o=>{(function Wve(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function qve(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Uy(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Uy(n.url,e.url)||!Wd(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!CB(n,e)||!Wd(n.queryParams,e.queryParams);default:return!CB(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new sY(r)):(s.data=o.data,s._resolvedData=o._resolvedData),OC(n,e,s.component?c?c.children:null:t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new bN(c.outlet.component,o))}else o&&LC(e,c,i),i.canActivateChecks.push(new sY(r)),OC(n,null,s.component?c?c.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Ia(s,(o,c)=>LC(o,t.getContext(c),i)),i}function LC(n,e,t){const r=g1(n),i=n.value;Ia(r,(s,o)=>{LC(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new bN(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function FC(n){return"function"==typeof n}function DB(n){return n instanceof vD||"EmptyError"===n?.name}const wN=Symbol("INITIAL_VALUE");function v1(){return Ji(n=>Sp(n.map(e=>e.pipe(du(1),xp(wN)))).pipe((0,In.U)(e=>{for(const t of e)if(!0!==t){if(t===wN)return wN;if(!1===t||t instanceof By)return t}return!0}),vc(e=>e!==wN),du(1)))}function oY(n){return(0,H0e.z)((0,Bo.b)(e=>{if(jy(e))throw QZ(0,e)}),(0,In.U)(e=>!0===e))}const MB={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aY(n,e,t,r,i){const s=NB(n,e,t);return s.matched?function lbe(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?vn(i.map(o=>{const c=y1(o,n);return Jg(function Qve(n){return n&&FC(n.canMatch)}(c)?c.canMatch(e,t):n.runInContext(()=>c(e,t)))})).pipe(v1(),oY()):vn(!0)}(r=rY(e,r),e,t).pipe((0,In.U)(o=>!0===o?s:{...MB})):vn(s)}function NB(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...MB}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||G0e)(t,n,e);if(!i)return{...MB};const s={};Ia(i.posParams,(c,u)=>{s[u]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function EN(n,e,t,r){if(t.length>0&&function hbe(n,e,t){return t.some(r=>IN(n,e,r)&&ql(r)!==ei)}(n,t,r)){const s=new ti(e,function dbe(n,e,t,r){const i={};i[ei]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&ql(s)!==ei){const o=new ti([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[ql(s)]=o}return i}(n,e,r,new ti(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function fbe(n,e,t){return t.some(r=>IN(n,e,r))}(n,t,r)){const s=new ti(n.segments,function ube(n,e,t,r,i){const s={};for(const o of r)if(IN(n,t,o)&&!i[ql(o)]){const c=new ti([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,s[ql(o)]=c}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new ti(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function IN(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function cY(n,e,t,r){return!!(ql(n)===r||r!==ei&&IN(e,t,n))&&("**"===n.path||NB(e,n,t).matched)}function lY(n,e,t){return 0===e.length&&!n.children[t]}const CN=!1;class SN{constructor(e){this.segmentGroup=e||null}}class uY{constructor(e){this.urlTree=e}}function BC(n){return gb(new SN(n))}function dY(n){return gb(new uY(n))}class _be{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=EN(this.urlTree.root,[],[],this.config).segmentGroup,t=new ti(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ei).pipe((0,In.U)(s=>this.createUrlTree(mN(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(uf(s=>{if(s instanceof uY)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof SN?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ei).pipe((0,In.U)(i=>this.createUrlTree(mN(i),e.queryParams,e.fragment))).pipe(uf(i=>{throw i instanceof SN?this.noMatchError(i):i}))}noMatchError(e){return new p.vHH(4002,CN)}createUrlTree(e,t,r){const i=mB(e);return new By(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,In.U)(s=>new ti([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,Li.D)(i).pipe(yg(s=>{const o=r.children[s],c=iY(t,s);return this.expandSegmentGroup(e,c,o,s).pipe((0,In.U)(u=>({segment:u,outlet:s})))}),fd((s,o)=>(s[o.outlet]=o.segment,s),{}),SZ())}expandSegment(e,t,r,i,s,o){return(0,Li.D)(r).pipe(yg(c=>this.expandSegmentAgainstRoute(e,t,r,c,i,s,o).pipe(uf(h=>{if(h instanceof SN)return vn(null);throw h}))),lf(c=>!!c),uf((c,u)=>{if(DB(c))return lY(t,i,s)?vn(new ti([],{})):BC(t);throw c}))}expandSegmentAgainstRoute(e,t,r,i,s,o,c){return cY(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):BC(t):BC(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?dY(s):this.lineralizeSegments(r,s).pipe((0,Ja.z)(o=>{const c=new ti(o,{});return this.expandSegment(e,c,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:c,consumedSegments:u,remainingSegments:h,positionalParamSegments:g}=NB(t,i,s);if(!c)return BC(t);const _=this.applyRedirectCommands(u,i.redirectTo,g);return i.redirectTo.startsWith("/")?dY(_):this.lineralizeSegments(i,_).pipe((0,Ja.z)(I=>this.expandSegment(e,t,r,I.concat(h),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=rY(r,e),r.loadChildren?(r._loadedRoutes?vn({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,In.U)(c=>(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,new ti(i,{})))):vn(new ti(i,{}))):aY(t,r,i,e).pipe(Ji(({matched:o,consumedSegments:c,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Ja.z)(g=>{const _=g.injector??e,I=g.routes,{segmentGroup:w,slicedSegments:x}=EN(t,c,u,I),R=new ti(w.segments,w.children);if(0===x.length&&R.hasChildren())return this.expandChildren(_,I,R).pipe((0,In.U)(Y=>new ti(c,Y)));if(0===I.length&&0===x.length)return vn(new ti(c,{}));const O=ql(r)===s;return this.expandSegment(_,R,I,x,O?ei:s,!0).pipe((0,In.U)(U=>new ti(c.concat(U.segments),U.children)))})):BC(t)))}getChildConfig(e,t,r){return t.children?vn({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?vn({routes:t._loadedRoutes,injector:t._loadedInjector}):function cbe(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?vn(!0):vn(i.map(o=>{const c=y1(o,n);return Jg(function Kve(n){return n&&FC(n.canLoad)}(c)?c.canLoad(e,t):n.runInContext(()=>c(e,t)))})).pipe(v1(),oY())}(e,t,r).pipe((0,Ja.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Bo.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function gbe(n){return gb(JZ(CN,3))}())):vn({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return vn(r);if(i.numberOfChildren>1||!i.children[ei])return gb(new p.vHH(4e3,CN));i=i.children[ei]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new By(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ia(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const c=i.substring(1);r[s]=t[c]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Ia(t.children,(c,u)=>{o[u]=this.createSegmentGroup(e,c,r,i)}),new ti(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new p.vHH(4001,CN);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class vbe{}class Ebe{constructor(e,t,r,i,s,o,c){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c}recognize(){const e=EN(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ei).pipe((0,In.U)(t=>{if(null===t)return null;const r=new yN([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ei,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Mf(r,t),s=new YZ(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=ZZ(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Li.D)(Object.keys(r.children)).pipe(yg(i=>{const s=r.children[i],o=iY(t,i);return this.processSegmentGroup(e,o,s,i)}),fd((i,s)=>i&&s?(i.push(...s),i):null),function $0e(n,e=!1){return(0,Ys.e)((t,r)=>{let i=0;t.subscribe((0,bs.x)(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),bD(null),SZ(),(0,In.U)(i=>{if(null===i)return null;const s=fY(i);return function Ibe(n){n.sort((e,t)=>e.value.outlet===ei?-1:t.value.outlet===ei?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return(0,Li.D)(t).pipe(yg(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),lf(o=>!!o),uf(o=>{if(DB(o))return lY(r,i,s)?vn([]):vn(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!cY(t,r,i,s))return vn(null);let o;if("**"===t.path){const c=i.length>0?TZ(i).parameters:{},u=gY(r)+i.length;o=vn({snapshot:new yN(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mY(t),ql(t),t.component??t._loadedComponent??null,t,pY(r),u,_Y(t)),consumedSegments:[],remainingSegments:[]})}else o=aY(r,t,i,e).pipe((0,In.U)(({matched:c,consumedSegments:u,remainingSegments:h,parameters:g})=>{if(!c)return null;const _=gY(r)+u.length;return{snapshot:new yN(u,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mY(t),ql(t),t.component??t._loadedComponent??null,t,pY(r),_,_Y(t)),consumedSegments:u,remainingSegments:h}}));return o.pipe(Ji(c=>{if(null===c)return vn(null);const{snapshot:u,consumedSegments:h,remainingSegments:g}=c;e=t._injector??e;const _=t._loadedInjector??e,I=function Cbe(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:w,slicedSegments:x}=EN(r,h,g,I.filter(O=>void 0===O.redirectTo));if(0===x.length&&w.hasChildren())return this.processChildren(_,I,w).pipe((0,In.U)(O=>null===O?null:[new Mf(u,O)]));if(0===I.length&&0===x.length)return vn([new Mf(u,[])]);const R=ql(t)===s;return this.processSegment(_,I,w,x,R?ei:s).pipe((0,In.U)(O=>null===O?null:[new Mf(u,O)]))}))}}function Sbe(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function fY(n){const e=[],t=new Set;for(const r of n){if(!Sbe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=fY(r.children);e.push(new Mf(r.value,i))}return e.filter(r=>!t.has(r))}function pY(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function gY(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function mY(n){return n.data||{}}function _Y(n){return n.resolve||{}}function yY(n){return"string"==typeof n.title||null===n.title}function PB(n){return Ji(e=>{const t=n(e);return t?(0,Li.D)(t).pipe((0,In.U)(()=>e)):vn(e)})}const xN=new p.OlP("ROUTES");let bY=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return vn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Jg(t.loadComponent()).pipe((0,In.U)(wY),(0,Bo.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),FD(()=>{this.componentLoaders.delete(t)})),i=new CZ(r,()=>new Ta.x).pipe(hB());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return vn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,In.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,h,g=!1;Array.isArray(c)?h=c:(u=c.create(t).injector,h=AZ(u.get(xN,[],p.XFs.Self|p.XFs.Optional)));return{routes:h.map(TB),injector:u}}),FD(()=>{this.childrenLoaders.delete(r)})),o=new CZ(s,()=>new Ta.x).pipe(hB());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Jg(t()).pipe((0,In.U)(wY),(0,Ja.z)(i=>i instanceof p.YKP||Array.isArray(i)?vn(i):(0,Li.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.zs3),p.LFG(p.Sil))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wY(n){return function kbe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let RB=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ta.x,this.configLoader=(0,p.f3M)(bY),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(AC),this.rootContexts=(0,p.f3M)(_1),this.navigationId=0,this.configLoader.onLoadEndListener=i=>this.events.next(new Sve(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Cve(i))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Mu({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vc(r=>0!==r.id),(0,In.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Ji(r=>{let i=!1,s=!1;return vn(r).pipe((0,Bo.b)(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ji(o=>{const c=t.browserUrlTree.toString(),u=!t.navigated||o.extractedUrl.toString()!==c||c!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||u)&&t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return IY(o.source)&&(t.browserUrlTree=o.extractedUrl),vn(o).pipe(Ji(g=>{const _=this.transitions?.getValue();return this.events.next(new HZ(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?Ah.E:Promise.resolve(g)}),function ybe(n,e,t,r){return Ji(i=>function mbe(n,e,t,r,i){return new _be(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,In.U)(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Bo.b)(g=>{this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects},r.urlAfterRedirects=g.urlAfterRedirects}),function Abe(n,e,t,r,i){return(0,Ja.z)(s=>function wbe(n,e,t,r,i,s,o="emptyOnly"){return new Ebe(n,e,t,r,i,o,s).recognize().pipe(Ji(c=>null===c?function bbe(n){return new Ko.y(e=>e.error(n))}(new vbe):vn(c)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe((0,In.U)(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,t.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Bo.b)(g=>{if(r.targetSnapshot=g.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!g.extras.skipLocationChange){const I=t.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);t.setBrowserUrl(I,g)}t.browserUrlTree=g.urlAfterRedirects}const _=new vve(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(u&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:_,extractedUrl:I,source:w,restoredState:x,extras:R}=o,O=new HZ(_,this.urlSerializer.serialize(I),w,x);this.events.next(O);const L=KZ(I,t.rootComponentType).snapshot;return vn(r={...o,targetSnapshot:L,urlAfterRedirects:I,extras:{...R,skipLocationChange:!1,replaceUrl:!1}})}return t.rawUrlTree=o.rawUrl,o.resolve(null),Ah.E}),(0,Bo.b)(o=>{const c=new bve(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}),(0,In.U)(o=>r={...o,guards:Hve(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function ebe(n,e){return(0,Ja.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?vn({...t,guardsResult:!0}):function tbe(n,e,t,r){return(0,Li.D)(n).pipe((0,Ja.z)(i=>function abe(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?vn(s.map(c=>{const u=kC(e)??i,h=y1(c,u);return Jg(function Xve(n){return n&&FC(n.canDeactivate)}(h)?h.canDeactivate(n,e,t,r):u.runInContext(()=>h(n,e,t,r))).pipe(lf())})).pipe(v1()):vn(!0)}(i.component,i.route,t,e,r)),lf(i=>!0!==i,!0))}(o,r,i,n).pipe((0,Ja.z)(c=>c&&function Gve(n){return"boolean"==typeof n}(c)?function nbe(n,e,t,r){return(0,Li.D)(e).pipe(yg(i=>yc(function ibe(n,e){return null!==n&&e&&e(new xve(n)),vn(!0)}(i.route.parent,r),function rbe(n,e){return null!==n&&e&&e(new Tve(n)),vn(!0)}(i.route,r),function obe(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function $ve(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>DD(()=>vn(o.guards.map(u=>{const h=kC(o.node)??t,g=y1(u,h);return Jg(function Yve(n){return n&&FC(n.canActivateChild)}(g)?g.canActivateChild(r,n):h.runInContext(()=>g(r,n))).pipe(lf())})).pipe(v1())));return vn(s).pipe(v1())}(n,i.path,t),function sbe(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return vn(!0);const i=r.map(s=>DD(()=>{const o=kC(e)??t,c=y1(s,o);return Jg(function Zve(n){return n&&FC(n.canActivate)}(c)?c.canActivate(e,n):o.runInContext(()=>c(e,n))).pipe(lf())}));return vn(i).pipe(v1())}(n,i.route,t))),lf(i=>!0!==i,!0))}(r,s,n,e):vn(c)),(0,In.U)(c=>({...t,guardsResult:c})))})}(this.environmentInjector,o=>this.events.next(o)),(0,Bo.b)(o=>{if(r.guardsResult=o.guardsResult,jy(o.guardsResult))throw QZ(0,o.guardsResult);const c=new wve(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(c)}),vc(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3,t),!1)),PB(o=>{if(o.guards.canActivateChecks.length)return vn(o).pipe((0,Bo.b)(c=>{const u=new Eve(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ji(c=>{let u=!1;return vn(c).pipe(function Tbe(n,e){return(0,Ja.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return vn(t);let s=0;return(0,Li.D)(i).pipe(yg(o=>function Dbe(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!yY(i)&&(s[SC]=i.title),function Mbe(n,e,t,r){const i=function Nbe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return vn({});const s={};return(0,Li.D)(i).pipe((0,Ja.z)(o=>function Pbe(n,e,t,r){const i=kC(e)??r,s=y1(n,i);return Jg(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(lf(),(0,Bo.b)(c=>{s[o]=c}))),fB(1),function W0e(n){return(0,In.U)(()=>n)}(s),uf(o=>DB(o)?Ah.E:gb(o)))}(s,n,e,r).pipe((0,In.U)(o=>(n._resolvedData=o,n.data=ZZ(n,t).resolve,i&&yY(i)&&(n.data[SC]=i.title),null)))}(o.route,r,n,e)),(0,Bo.b)(()=>s++),fB(1),(0,Ja.z)(o=>s===i.length?vn(t):Ah.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Bo.b)({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",2,t))}}))}),(0,Bo.b)(c=>{const u=new Ive(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),PB(o=>{const c=u=>{const h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe((0,Bo.b)(g=>{u.component=g}),(0,In.U)(()=>{})));for(const g of u.children)h.push(...c(g));return h};return Sp(c(o.targetSnapshot.root)).pipe(bD(),du(1))}),PB(()=>t.afterPreactivation()),(0,In.U)(o=>{const c=function Pve(n,e,t){const r=RC(n,e._root,t?t._root:void 0);return new GZ(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:c}}),(0,Bo.b)(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>(0,In.U)(r=>(new zve(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),(0,Bo.b)({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new PC(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),FD(()=>{i||s||this.cancelNavigationTransition(r,"",1,t),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),uf(o=>{if(s=!0,tY(o)){eY(o)||(t.navigated=!0,t.restoreHistory(r,!0));const c=new _N(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(c),eY(o)){const u=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),h={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||IY(r.source)};t.scheduleNavigation(u,"imperative",null,h,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const c=new $Z(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(c);try{r.resolve(t.errorHandler(o))}catch(u){r.reject(u)}}return Ah.E}))}))}cancelNavigationTransition(t,r,i,s){const o=new _N(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IY(n){return"imperative"!==n}let CY=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ei);return r}getResolvedTitleForRoute(t){return t.data[SC]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(Obe)},providedIn:"root"}),n})(),Obe=(()=>{class n extends CY{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(xl))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(Bbe)},providedIn:"root"}),n})();class Fbe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Bbe=(()=>{class n extends Fbe{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kB=new p.OlP("",{providedIn:"root",factory:()=>({})});let jbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return(0,p.f3M)(Vbe)},providedIn:"root"}),n})(),Vbe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zbe(n){throw n}function Hbe(n,e,t){return e.parse("/")}const $be={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wbe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gl=(()=>{class n{constructor(t,r,i,s,o,c,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.disposed=!1,this.currentPageId=0,this.isNgZoneEnabled=!1,this.errorHandler=zbe,this.malformedUriErrorHandler=Hbe,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>vn(void 0),this.urlHandlingStrategy=(0,p.f3M)(jbe),this.routeReuseStrategy=(0,p.f3M)(Lbe),this.titleStrategy=(0,p.f3M)(CY),this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.canceledNavigationResolution="replace",this.navigationTransitions=(0,p.f3M)(RB),this.console=o.get(p.c2e);const h=o.get(p.R0b);this.isNgZoneEnabled=h instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new By,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=KZ(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(g=>{this.lastSuccessfulId=g.id,this.currentPageId=g.targetPageId},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(t.state){const c={...t.state};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(TB),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,h=i||this.routerState.root,g=u?this.currentUrlTree.fragment:o;let _=null;switch(c){case"merge":_={...this.currentUrlTree.queryParams,...s};break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=s||null}return null!==_&&(_=this.removeEmptyProps(_)),fve(h,this.currentUrlTree,t,_,g??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=jy(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Gbe(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new p.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...$be}:!1===r?{...Wbe}:r,jy(t))return MZ(this.currentUrlTree,t,i);const s=this.parseUrl(t);return MZ(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,h,g;return o?(c=o.resolve,u=o.reject,h=o.promise):h=new Promise((_,I)=>{c=_,u=I}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),g=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):g=0,this.navigationTransitions.handleNavigationRequest({targetPageId:g,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(_=>Promise.reject(_))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){p.$Z()},n.\u0275prov=p.Yz7({token:n,factory:function(){return function xY(){const n=(0,p.f3M)(AC),e=(0,p.f3M)(_1),t=(0,p.f3M)(kt),r=(0,p.f3M)(p.zs3),i=(0,p.f3M)(p.Sil),s=(0,p.f3M)(xN,{optional:!0})??[],o=(0,p.f3M)(kB,{optional:!0})??{},c=new gl(null,n,e,t,r,i,AZ(s));return function qbe(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),c}()},providedIn:"root"}),n})();var UB=Q(3008);class UC{constructor(e){return e}}const RY="analytics",kY=Xt.nk.async,n1e=(0,Xt.u3)(UB.IH,!0),r1e=(0,Xt.u3)(UB.Kz,!0),i1e=(0,Xt.u3)(UB.Iv,!0);let jB=(()=>{class n{constructor(t,r,i){let s;this.disposables=[],(0,ga.KN)("angularfire",Xt.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),kY().then(()=>{const o=i.get(UC);o?this.disposables=[__e(t).subscribe(c=>{i1e(o,c?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(sN),p.LFG(p.R0b),p.LFG(p.zs3))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const OY="firebase_screen_id",VB="outlet",jC="screen_class",LY="screen_name";let m1e=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const zB={},_1e=n=>{const e=[n[jC],n[VB]].join("#");if(zB.hasOwnProperty(e))return zB[e];{const t=m1e++;return zB[e]=t,t}};let FY=(()=>{class n{constructor(t,r,i,s,o,c){(0,ga.KN)("angularfire",Xt.q4.full,"screen-tracking"),kY().then(()=>{const u=c.get(UC);!t||!u||s.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(vc(i=>i instanceof WZ)).pipe(Ji(i=>{var s;const c=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,w=>w.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",u=n.routerState.root.children.map(w=>w).find(w=>w.outlet===i.snapshot.outlet);if(!u)return vn(null);let h=u;for(;h.firstChild;)h=h.firstChild;const g=h.pathFromRoot.map(w=>{var x;return null===(x=w.routeConfig)||void 0===x?void 0:x.path}).filter(w=>w).join("/")||"/",_={[LY]:g,page_path:`/${c}`,firebase_event_origin:"auto",firebase_screen:g,[VB]:i.snapshot.outlet};e&&(_.page_title=e.getTitle());let I=u.component;if(I){if(I===xB){let w=i.snapshot;for(;w.firstChild;)w=w.firstChild;I=w.component}}else I=i.snapshot.component;if("string"==typeof I)return vn(Object.assign(Object.assign({},_),{[jC]:I}));if(I){const w=t.resolveComponentFactory(I);return vn(Object.assign(Object.assign({},_),{[jC]:w.selector}))}return vn(null)}),vc(i=>!!i),(0,In.U)(i=>Object.assign({firebase_screen_class:i[jC],[OY]:_1e(i)},i)),function V0e(n,e,t,r){return(0,Ys.e)((i,s)=>{let o;e&&"function"!=typeof e?({duration:t,element:o,connector:r}=e):o=e;const c=new Map,u=x=>{c.forEach(x),x(s)},h=x=>u(R=>R.error(x));let g=0,_=!1;const I=new bs.Q(s,x=>{try{const R=n(x);let O=c.get(R);if(!O){c.set(R,O=r?r():new Ta.x);const L=function w(x,R){const O=new Ko.y(L=>{g++;const U=R.subscribe(L);return()=>{U.unsubscribe(),0==--g&&_&&I.unsubscribe()}});return O.key=x,O}(R,O);if(s.next(L),t){const U=(0,bs.x)(O,()=>{O.complete(),U?.unsubscribe()},void 0,void 0,()=>c.delete(R));I.add((0,Dh.Xf)(t(L)).subscribe(U))}}O.next(o?o(x):x)}catch(R){h(R)}},()=>u(x=>x.complete()),h,()=>c.clear(),()=>(_=!0,0===g));i.subscribe(I)})}(i=>i[VB]),(0,Ja.z)(i=>i.pipe(Iv((s,o)=>JSON.stringify(s)===JSON.stringify(o)),xp(void 0),LM(),(0,In.U)(([s,o])=>s?Object.assign({firebase_previous_class:s[jC],firebase_previous_screen:s[LY],firebase_previous_id:s[OY]},o):o)))))(t,r,i).pipe(Ji(h=>(0,z0e.mG)(this,void 0,void 0,function*(){return o&&(yield o.initialized),r1e(u,"screen_view",h)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(gl,8),p.LFG(xl,8),p.LFG(p._Vd),p.LFG(p.R0b),p.LFG(jB,8),p.LFG(p.zs3))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const HB=new p.OlP("angularfire2.analytics-instances");function b1e(n){return(e,t)=>{if(!Xt.nk.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new UC(r)}}const w1e={provide:class t1e{constructor(){return(0,Xt.vb)(RY)}},deps:[[new p.FiY,HB]]},E1e={provide:UC,useFactory:function v1e(n,e){if(!Xt.nk.sync())return null;const t=(0,Xt.JM)(RY,n,e);return t&&new UC(t)},deps:[[new p.FiY,HB],al]};let I1e=(()=>{class n{constructor(t,r){(0,ga.KN)("angularfire",Xt.q4.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(FY,8),p.LFG(jB,8))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[E1e,w1e,{provide:p.ip1,useValue:Xt.nk.async,multi:!0}]}),n})();function C1e(n,...e){return{ngModule:I1e,providers:[{provide:HB,useFactory:b1e(n),multi:!0,deps:[p.R0b,p.zs3,Xt.HU,Td,...e]}]}}class TN{static#e=this.\u0275fac=function(t){return new(t||TN)};static#t=this.\u0275mod=p.oAB({type:TN,bootstrap:[LD]});static#n=this.\u0275inj=p.cJS({providers:[FY,jB],imports:[pp,Rh,j8,Rp,eue,$ee,Bee,eee.forRoot({loader:{provide:FI,useFactory:S1e,deps:[VD]}}),ls.hO.initializeApp(r$_firebase),UJ,a_e,$de,JJ,GQ(()=>KQ(r$_firebase)),m_e(()=>y_e()),S_e(()=>x_e()),R_e(()=>k_e()),sye(()=>oye()),pye(()=>gye()),E0e(()=>I0e()),N0e(()=>P0e()),U0e(()=>j0e()),C1e(()=>n1e())]})}function S1e(n){return new c_e(n,"./assets/i18n/",".json")}b0().bootstrapModule(TN).catch(n=>console.error(n))},9751:(jn,Tt,Q)=>{Q.d(Tt,{y:()=>it});var p=Q(930),he=Q(727),ae=Q(8822),Ve=Q(9635),ut=Q(2416),lt=Q(576),Ge=Q(2806);let it=(()=>{class Ae{constructor(Rt){Rt&&(this._subscribe=Rt)}lift(Rt){const sn=new Ae;return sn.source=this,sn.operator=Rt,sn}subscribe(Rt,sn,tn){const rt=function we(Ae){return Ae&&Ae instanceof p.Lv||function Ie(Ae){return Ae&&(0,lt.m)(Ae.next)&&(0,lt.m)(Ae.error)&&(0,lt.m)(Ae.complete)}(Ae)&&(0,he.Nn)(Ae)}(Rt)?Rt:new p.Hp(Rt,sn,tn);return(0,Ge.x)(()=>{const{operator:vt,source:Dt}=this;rt.add(vt?vt.call(rt,Dt):Dt?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(Rt){try{return this._subscribe(Rt)}catch(sn){Rt.error(sn)}}forEach(Rt,sn){return new(sn=dt(sn))((tn,rt)=>{const vt=new p.Hp({next:Dt=>{try{Rt(Dt)}catch(Ot){rt(Ot),vt.unsubscribe()}},error:rt,complete:tn});this.subscribe(vt)})}_subscribe(Rt){var sn;return null===(sn=this.source)||void 0===sn?void 0:sn.subscribe(Rt)}[ae.L](){return this}pipe(...Rt){return(0,Ve.U)(Rt)(this)}toPromise(Rt){return new(Rt=dt(Rt))((sn,tn)=>{let rt;this.subscribe(vt=>rt=vt,vt=>tn(vt),()=>sn(rt))})}}return Ae.create=Pt=>new Ae(Pt),Ae})();function dt(Ae){var Pt;return null!==(Pt=Ae??ut.v.Promise)&&void 0!==Pt?Pt:Promise}},7579:(jn,Tt,Q)=>{Q.d(Tt,{x:()=>Ge});var p=Q(9751),he=Q(727);const Ve=(0,Q(3888).d)(dt=>function(){dt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=Q(8737),lt=Q(2806);let Ge=(()=>{class dt extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(we){const Ae=new it(this,this);return Ae.operator=we,Ae}_throwIfClosed(){if(this.closed)throw new Ve}next(we){(0,lt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ae of this.currentObservers)Ae.next(we)}})}error(we){(0,lt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=we;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().error(we)}})}complete(){(0,lt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:we}=this;for(;we.length;)we.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var we;return(null===(we=this.observers)||void 0===we?void 0:we.length)>0}_trySubscribe(we){return this._throwIfClosed(),super._trySubscribe(we)}_subscribe(we){return this._throwIfClosed(),this._checkFinalizedStatuses(we),this._innerSubscribe(we)}_innerSubscribe(we){const{hasError:Ae,isStopped:Pt,observers:Rt}=this;return Ae||Pt?he.Lc:(this.currentObservers=null,Rt.push(we),new he.w0(()=>{this.currentObservers=null,(0,ut.P)(Rt,we)}))}_checkFinalizedStatuses(we){const{hasError:Ae,thrownError:Pt,isStopped:Rt}=this;Ae?we.error(Pt):Rt&&we.complete()}asObservable(){const we=new p.y;return we.source=this,we}}return dt.create=(Ie,we)=>new it(Ie,we),dt})();class it extends Ge{constructor(Ie,we){super(),this.destination=Ie,this.source=we}next(Ie){var we,Ae;null===(Ae=null===(we=this.destination)||void 0===we?void 0:we.next)||void 0===Ae||Ae.call(we,Ie)}error(Ie){var we,Ae;null===(Ae=null===(we=this.destination)||void 0===we?void 0:we.error)||void 0===Ae||Ae.call(we,Ie)}complete(){var Ie,we;null===(we=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.complete)||void 0===we||we.call(Ie)}_subscribe(Ie){var we,Ae;return null!==(Ae=null===(we=this.source)||void 0===we?void 0:we.subscribe(Ie))&&void 0!==Ae?Ae:he.Lc}}},930:(jn,Tt,Q)=>{Q.d(Tt,{Hp:()=>tn,Lv:()=>Ae});var p=Q(576),he=Q(727),ae=Q(2416),Ve=Q(7849),ut=Q(5032);const lt=dt("C",void 0,void 0);function dt(kt,Lt,xt){return{kind:kt,value:Lt,error:xt}}var Ie=Q(3410),we=Q(2806);class Ae extends he.w0{constructor(Lt){super(),this.isStopped=!1,Lt?(this.destination=Lt,(0,he.Nn)(Lt)&&Lt.add(this)):this.destination=Ot}static create(Lt,xt,Yt){return new tn(Lt,xt,Yt)}next(Lt){this.isStopped?Dt(function it(kt){return dt("N",kt,void 0)}(Lt),this):this._next(Lt)}error(Lt){this.isStopped?Dt(function Ge(kt){return dt("E",void 0,kt)}(Lt),this):(this.isStopped=!0,this._error(Lt))}complete(){this.isStopped?Dt(lt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Lt){this.destination.next(Lt)}_error(Lt){try{this.destination.error(Lt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pt=Function.prototype.bind;function Rt(kt,Lt){return Pt.call(kt,Lt)}class sn{constructor(Lt){this.partialObserver=Lt}next(Lt){const{partialObserver:xt}=this;if(xt.next)try{xt.next(Lt)}catch(Yt){rt(Yt)}}error(Lt){const{partialObserver:xt}=this;if(xt.error)try{xt.error(Lt)}catch(Yt){rt(Yt)}else rt(Lt)}complete(){const{partialObserver:Lt}=this;if(Lt.complete)try{Lt.complete()}catch(xt){rt(xt)}}}class tn extends Ae{constructor(Lt,xt,Yt){let ke;if(super(),(0,p.m)(Lt)||!Lt)ke={next:Lt??void 0,error:xt??void 0,complete:Yt??void 0};else{let et;this&&ae.v.useDeprecatedNextContext?(et=Object.create(Lt),et.unsubscribe=()=>this.unsubscribe(),ke={next:Lt.next&&Rt(Lt.next,et),error:Lt.error&&Rt(Lt.error,et),complete:Lt.complete&&Rt(Lt.complete,et)}):ke=Lt}this.destination=new sn(ke)}}function rt(kt){ae.v.useDeprecatedSynchronousErrorHandling?(0,we.O)(kt):(0,Ve.h)(kt)}function Dt(kt,Lt){const{onStoppedNotification:xt}=ae.v;xt&&Ie.z.setTimeout(()=>xt(kt,Lt))}const Ot={closed:!0,next:ut.Z,error:function vt(kt){throw kt},complete:ut.Z}},727:(jn,Tt,Q)=>{Q.d(Tt,{Lc:()=>lt,w0:()=>ut,Nn:()=>Ge});var p=Q(576);const ae=(0,Q(3888).d)(dt=>function(we){dt(this),this.message=we?`${we.length} errors occurred during unsubscription:\n${we.map((Ae,Pt)=>`${Pt+1}) ${Ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=we});var Ve=Q(8737);class ut{constructor(Ie){this.initialTeardown=Ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ie;if(!this.closed){this.closed=!0;const{_parentage:we}=this;if(we)if(this._parentage=null,Array.isArray(we))for(const Rt of we)Rt.remove(this);else we.remove(this);const{initialTeardown:Ae}=this;if((0,p.m)(Ae))try{Ae()}catch(Rt){Ie=Rt instanceof ae?Rt.errors:[Rt]}const{_finalizers:Pt}=this;if(Pt){this._finalizers=null;for(const Rt of Pt)try{it(Rt)}catch(sn){Ie=Ie??[],sn instanceof ae?Ie=[...Ie,...sn.errors]:Ie.push(sn)}}if(Ie)throw new ae(Ie)}}add(Ie){var we;if(Ie&&Ie!==this)if(this.closed)it(Ie);else{if(Ie instanceof ut){if(Ie.closed||Ie._hasParent(this))return;Ie._addParent(this)}(this._finalizers=null!==(we=this._finalizers)&&void 0!==we?we:[]).push(Ie)}}_hasParent(Ie){const{_parentage:we}=this;return we===Ie||Array.isArray(we)&&we.includes(Ie)}_addParent(Ie){const{_parentage:we}=this;this._parentage=Array.isArray(we)?(we.push(Ie),we):we?[we,Ie]:Ie}_removeParent(Ie){const{_parentage:we}=this;we===Ie?this._parentage=null:Array.isArray(we)&&(0,Ve.P)(we,Ie)}remove(Ie){const{_finalizers:we}=this;we&&(0,Ve.P)(we,Ie),Ie instanceof ut&&Ie._removeParent(this)}}ut.EMPTY=(()=>{const dt=new ut;return dt.closed=!0,dt})();const lt=ut.EMPTY;function Ge(dt){return dt instanceof ut||dt&&"closed"in dt&&(0,p.m)(dt.remove)&&(0,p.m)(dt.add)&&(0,p.m)(dt.unsubscribe)}function it(dt){(0,p.m)(dt)?dt():dt.unsubscribe()}},2416:(jn,Tt,Q)=>{Q.d(Tt,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(jn,Tt,Q)=>{Q.d(Tt,{E:()=>he});const he=new(Q(9751).y)(ut=>ut.complete())},8996:(jn,Tt,Q)=>{Q.d(Tt,{D:()=>Lt});var p=Q(8421),he=Q(5363),ae=Q(9468),lt=Q(9751),it=Q(2202),dt=Q(576),Ie=Q(9672);function Ae(xt,Yt){if(!xt)throw new Error("Iterable cannot be null");return new lt.y(ke=>{(0,Ie.f)(ke,Yt,()=>{const et=xt[Symbol.asyncIterator]();(0,Ie.f)(ke,Yt,()=>{et.next().then(mt=>{mt.done?ke.complete():ke.next(mt.value)})},0,!0)})})}var Pt=Q(3670),Rt=Q(8239),sn=Q(1144),tn=Q(6495),rt=Q(2206),vt=Q(4532),Dt=Q(3260);function Lt(xt,Yt){return Yt?function kt(xt,Yt){if(null!=xt){if((0,Pt.c)(xt))return function Ve(xt,Yt){return(0,p.Xf)(xt).pipe((0,ae.R)(Yt),(0,he.Q)(Yt))}(xt,Yt);if((0,sn.z)(xt))return function Ge(xt,Yt){return new lt.y(ke=>{let et=0;return Yt.schedule(function(){et===xt.length?ke.complete():(ke.next(xt[et++]),ke.closed||this.schedule())})})}(xt,Yt);if((0,Rt.t)(xt))return function ut(xt,Yt){return(0,p.Xf)(xt).pipe((0,ae.R)(Yt),(0,he.Q)(Yt))}(xt,Yt);if((0,rt.D)(xt))return Ae(xt,Yt);if((0,tn.T)(xt))return function we(xt,Yt){return new lt.y(ke=>{let et;return(0,Ie.f)(ke,Yt,()=>{et=xt[it.h](),(0,Ie.f)(ke,Yt,()=>{let mt,Oe;try{({value:mt,done:Oe}=et.next())}catch(Te){return void ke.error(Te)}Oe?ke.complete():ke.next(mt)},0,!0)}),()=>(0,dt.m)(et?.return)&&et.return()})}(xt,Yt);if((0,Dt.L)(xt))return function Ot(xt,Yt){return Ae((0,Dt.Q)(xt),Yt)}(xt,Yt)}throw(0,vt.z)(xt)}(xt,Yt):(0,p.Xf)(xt)}},8421:(jn,Tt,Q)=>{Q.d(Tt,{Xf:()=>Pt});var p=Q(655),he=Q(1144),ae=Q(8239),Ve=Q(9751),ut=Q(3670),lt=Q(2206),Ge=Q(4532),it=Q(6495),dt=Q(3260),Ie=Q(576),we=Q(7849),Ae=Q(8822);function Pt(kt){if(kt instanceof Ve.y)return kt;if(null!=kt){if((0,ut.c)(kt))return function Rt(kt){return new Ve.y(Lt=>{const xt=kt[Ae.L]();if((0,Ie.m)(xt.subscribe))return xt.subscribe(Lt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(kt);if((0,he.z)(kt))return function sn(kt){return new Ve.y(Lt=>{for(let xt=0;xt<kt.length&&!Lt.closed;xt++)Lt.next(kt[xt]);Lt.complete()})}(kt);if((0,ae.t)(kt))return function tn(kt){return new Ve.y(Lt=>{kt.then(xt=>{Lt.closed||(Lt.next(xt),Lt.complete())},xt=>Lt.error(xt)).then(null,we.h)})}(kt);if((0,lt.D)(kt))return vt(kt);if((0,it.T)(kt))return function rt(kt){return new Ve.y(Lt=>{for(const xt of kt)if(Lt.next(xt),Lt.closed)return;Lt.complete()})}(kt);if((0,dt.L)(kt))return function Dt(kt){return vt((0,dt.Q)(kt))}(kt)}throw(0,Ge.z)(kt)}function vt(kt){return new Ve.y(Lt=>{(function Ot(kt,Lt){var xt,Yt,ke,et;return(0,p.mG)(this,void 0,void 0,function*(){try{for(xt=(0,p.KL)(kt);!(Yt=yield xt.next()).done;)if(Lt.next(Yt.value),Lt.closed)return}catch(mt){ke={error:mt}}finally{try{Yt&&!Yt.done&&(et=xt.return)&&(yield et.call(xt))}finally{if(ke)throw ke.error}}Lt.complete()})})(kt,Lt).catch(xt=>Lt.error(xt))})}},6451:(jn,Tt,Q)=>{Q.d(Tt,{T:()=>lt});var p=Q(8189),he=Q(8421),ae=Q(515),Ve=Q(7669),ut=Q(8996);function lt(...Ge){const it=(0,Ve.yG)(Ge),dt=(0,Ve._6)(Ge,1/0),Ie=Ge;return Ie.length?1===Ie.length?(0,he.Xf)(Ie[0]):(0,p.J)(dt)((0,ut.D)(Ie,it)):ae.E}},5403:(jn,Tt,Q)=>{Q.d(Tt,{Q:()=>ae,x:()=>he});var p=Q(930);function he(Ve,ut,lt,Ge,it){return new ae(Ve,ut,lt,Ge,it)}class ae extends p.Lv{constructor(ut,lt,Ge,it,dt,Ie){super(ut),this.onFinalize=dt,this.shouldUnsubscribe=Ie,this._next=lt?function(we){try{lt(we)}catch(Ae){ut.error(Ae)}}:super._next,this._error=it?function(we){try{it(we)}catch(Ae){ut.error(Ae)}finally{this.unsubscribe()}}:super._error,this._complete=Ge?function(){try{Ge()}catch(we){ut.error(we)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ut;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:lt}=this;super.unsubscribe(),!lt&&(null===(ut=this.onFinalize)||void 0===ut||ut.call(this))}}}},4004:(jn,Tt,Q)=>{Q.d(Tt,{U:()=>ae});var p=Q(4482),he=Q(5403);function ae(Ve,ut){return(0,p.e)((lt,Ge)=>{let it=0;lt.subscribe((0,he.x)(Ge,dt=>{Ge.next(Ve.call(ut,dt,it++))}))})}},8189:(jn,Tt,Q)=>{Q.d(Tt,{J:()=>ae});var p=Q(5577),he=Q(4671);function ae(Ve=1/0){return(0,p.z)(he.y,Ve)}},5577:(jn,Tt,Q)=>{Q.d(Tt,{z:()=>it});var p=Q(4004),he=Q(8421),ae=Q(4482),Ve=Q(9672),ut=Q(5403),Ge=Q(576);function it(dt,Ie,we=1/0){return(0,Ge.m)(Ie)?it((Ae,Pt)=>(0,p.U)((Rt,sn)=>Ie(Ae,Rt,Pt,sn))((0,he.Xf)(dt(Ae,Pt))),we):("number"==typeof Ie&&(we=Ie),(0,ae.e)((Ae,Pt)=>function lt(dt,Ie,we,Ae,Pt,Rt,sn,tn){const rt=[];let vt=0,Dt=0,Ot=!1;const kt=()=>{Ot&&!rt.length&&!vt&&Ie.complete()},Lt=Yt=>vt<Ae?xt(Yt):rt.push(Yt),xt=Yt=>{Rt&&Ie.next(Yt),vt++;let ke=!1;(0,he.Xf)(we(Yt,Dt++)).subscribe((0,ut.x)(Ie,et=>{Pt?.(et),Rt?Lt(et):Ie.next(et)},()=>{ke=!0},void 0,()=>{if(ke)try{for(vt--;rt.length&&vt<Ae;){const et=rt.shift();sn?(0,Ve.f)(Ie,sn,()=>xt(et)):xt(et)}kt()}catch(et){Ie.error(et)}}))};return dt.subscribe((0,ut.x)(Ie,Lt,()=>{Ot=!0,kt()})),()=>{tn?.()}}(Ae,Pt,dt,we)))}},5363:(jn,Tt,Q)=>{Q.d(Tt,{Q:()=>Ve});var p=Q(9672),he=Q(4482),ae=Q(5403);function Ve(ut,lt=0){return(0,he.e)((Ge,it)=>{Ge.subscribe((0,ae.x)(it,dt=>(0,p.f)(it,ut,()=>it.next(dt),lt),()=>(0,p.f)(it,ut,()=>it.complete(),lt),dt=>(0,p.f)(it,ut,()=>it.error(dt),lt)))})}},3099:(jn,Tt,Q)=>{Q.d(Tt,{B:()=>ut});var p=Q(8421),he=Q(7579),ae=Q(930),Ve=Q(4482);function ut(Ge={}){const{connector:it=(()=>new he.x),resetOnError:dt=!0,resetOnComplete:Ie=!0,resetOnRefCountZero:we=!0}=Ge;return Ae=>{let Pt,Rt,sn,tn=0,rt=!1,vt=!1;const Dt=()=>{Rt?.unsubscribe(),Rt=void 0},Ot=()=>{Dt(),Pt=sn=void 0,rt=vt=!1},kt=()=>{const Lt=Pt;Ot(),Lt?.unsubscribe()};return(0,Ve.e)((Lt,xt)=>{tn++,!vt&&!rt&&Dt();const Yt=sn=sn??it();xt.add(()=>{tn--,0===tn&&!vt&&!rt&&(Rt=lt(kt,we))}),Yt.subscribe(xt),!Pt&&tn>0&&(Pt=new ae.Hp({next:ke=>Yt.next(ke),error:ke=>{vt=!0,Dt(),Rt=lt(Ot,dt,ke),Yt.error(ke)},complete:()=>{rt=!0,Dt(),Rt=lt(Ot,Ie),Yt.complete()}}),(0,p.Xf)(Lt).subscribe(Pt))})(Ae)}}function lt(Ge,it,...dt){if(!0===it)return void Ge();if(!1===it)return;const Ie=new ae.Hp({next:()=>{Ie.unsubscribe(),Ge()}});return it(...dt).subscribe(Ie)}},9468:(jn,Tt,Q)=>{Q.d(Tt,{R:()=>he});var p=Q(4482);function he(ae,Ve=0){return(0,p.e)((ut,lt)=>{lt.add(ae.schedule(()=>ut.subscribe(lt),Ve))})}},8505:(jn,Tt,Q)=>{Q.d(Tt,{b:()=>ut});var p=Q(576),he=Q(4482),ae=Q(5403),Ve=Q(4671);function ut(lt,Ge,it){const dt=(0,p.m)(lt)||Ge||it?{next:lt,error:Ge,complete:it}:lt;return dt?(0,he.e)((Ie,we)=>{var Ae;null===(Ae=dt.subscribe)||void 0===Ae||Ae.call(dt);let Pt=!0;Ie.subscribe((0,ae.x)(we,Rt=>{var sn;null===(sn=dt.next)||void 0===sn||sn.call(dt,Rt),we.next(Rt)},()=>{var Rt;Pt=!1,null===(Rt=dt.complete)||void 0===Rt||Rt.call(dt),we.complete()},Rt=>{var sn;Pt=!1,null===(sn=dt.error)||void 0===sn||sn.call(dt,Rt),we.error(Rt)},()=>{var Rt,sn;Pt&&(null===(Rt=dt.unsubscribe)||void 0===Rt||Rt.call(dt)),null===(sn=dt.finalize)||void 0===sn||sn.call(dt)}))}):Ve.y}},4408:(jn,Tt,Q)=>{Q.d(Tt,{o:()=>ut});var p=Q(727);class he extends p.w0{constructor(Ge,it){super()}schedule(Ge,it=0){return this}}const ae={setInterval(lt,Ge,...it){const{delegate:dt}=ae;return dt?.setInterval?dt.setInterval(lt,Ge,...it):setInterval(lt,Ge,...it)},clearInterval(lt){const{delegate:Ge}=ae;return(Ge?.clearInterval||clearInterval)(lt)},delegate:void 0};var Ve=Q(8737);class ut extends he{constructor(Ge,it){super(Ge,it),this.scheduler=Ge,this.work=it,this.pending=!1}schedule(Ge,it=0){var dt;if(this.closed)return this;this.state=Ge;const Ie=this.id,we=this.scheduler;return null!=Ie&&(this.id=this.recycleAsyncId(we,Ie,it)),this.pending=!0,this.delay=it,this.id=null!==(dt=this.id)&&void 0!==dt?dt:this.requestAsyncId(we,this.id,it),this}requestAsyncId(Ge,it,dt=0){return ae.setInterval(Ge.flush.bind(Ge,this),dt)}recycleAsyncId(Ge,it,dt=0){if(null!=dt&&this.delay===dt&&!1===this.pending)return it;null!=it&&ae.clearInterval(it)}execute(Ge,it){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const dt=this._execute(Ge,it);if(dt)return dt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ge,it){let Ie,dt=!1;try{this.work(Ge)}catch(we){dt=!0,Ie=we||new Error("Scheduled action threw falsy error")}if(dt)return this.unsubscribe(),Ie}unsubscribe(){if(!this.closed){const{id:Ge,scheduler:it}=this,{actions:dt}=it;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ve.P)(dt,this),null!=Ge&&(this.id=this.recycleAsyncId(it,Ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(jn,Tt,Q)=>{Q.d(Tt,{v:()=>ae});var p=Q(6063);class he{constructor(ut,lt=he.now){this.schedulerActionCtor=ut,this.now=lt}schedule(ut,lt=0,Ge){return new this.schedulerActionCtor(this,ut).schedule(Ge,lt)}}he.now=p.l.now;class ae extends he{constructor(ut,lt=he.now){super(ut,lt),this.actions=[],this._active=!1}flush(ut){const{actions:lt}=this;if(this._active)return void lt.push(ut);let Ge;this._active=!0;do{if(Ge=ut.execute(ut.state,ut.delay))break}while(ut=lt.shift());if(this._active=!1,Ge){for(;ut=lt.shift();)ut.unsubscribe();throw Ge}}}},4986:(jn,Tt,Q)=>{Q.d(Tt,{z:()=>ae});var p=Q(4408);const ae=new(Q(7565).v)(p.o)},6063:(jn,Tt,Q)=>{Q.d(Tt,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(jn,Tt,Q)=>{Q.d(Tt,{z:()=>p});const p={setTimeout(he,ae,...Ve){const{delegate:ut}=p;return ut?.setTimeout?ut.setTimeout(he,ae,...Ve):setTimeout(he,ae,...Ve)},clearTimeout(he){const{delegate:ae}=p;return(ae?.clearTimeout||clearTimeout)(he)},delegate:void 0}},2202:(jn,Tt,Q)=>{Q.d(Tt,{h:()=>he});const he=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(jn,Tt,Q)=>{Q.d(Tt,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(jn,Tt,Q)=>{Q.d(Tt,{_6:()=>lt,jO:()=>Ve,yG:()=>ut});var p=Q(576);function ae(Ge){return Ge[Ge.length-1]}function Ve(Ge){return(0,p.m)(ae(Ge))?Ge.pop():void 0}function ut(Ge){return function he(Ge){return Ge&&(0,p.m)(Ge.schedule)}(ae(Ge))?Ge.pop():void 0}function lt(Ge,it){return"number"==typeof ae(Ge)?Ge.pop():it}},8737:(jn,Tt,Q)=>{function p(he,ae){if(he){const Ve=he.indexOf(ae);0<=Ve&&he.splice(Ve,1)}}Q.d(Tt,{P:()=>p})},3888:(jn,Tt,Q)=>{function p(he){const Ve=he(ut=>{Error.call(ut),ut.stack=(new Error).stack});return Ve.prototype=Object.create(Error.prototype),Ve.prototype.constructor=Ve,Ve}Q.d(Tt,{d:()=>p})},2806:(jn,Tt,Q)=>{Q.d(Tt,{O:()=>Ve,x:()=>ae});var p=Q(2416);let he=null;function ae(ut){if(p.v.useDeprecatedSynchronousErrorHandling){const lt=!he;if(lt&&(he={errorThrown:!1,error:null}),ut(),lt){const{errorThrown:Ge,error:it}=he;if(he=null,Ge)throw it}}else ut()}function Ve(ut){p.v.useDeprecatedSynchronousErrorHandling&&he&&(he.errorThrown=!0,he.error=ut)}},9672:(jn,Tt,Q)=>{function p(he,ae,Ve,ut=0,lt=!1){const Ge=ae.schedule(function(){Ve(),lt?he.add(this.schedule(null,ut)):this.unsubscribe()},ut);if(he.add(Ge),!lt)return Ge}Q.d(Tt,{f:()=>p})},4671:(jn,Tt,Q)=>{function p(he){return he}Q.d(Tt,{y:()=>p})},1144:(jn,Tt,Q)=>{Q.d(Tt,{z:()=>p});const p=he=>he&&"number"==typeof he.length&&"function"!=typeof he},2206:(jn,Tt,Q)=>{Q.d(Tt,{D:()=>he});var p=Q(576);function he(ae){return Symbol.asyncIterator&&(0,p.m)(ae?.[Symbol.asyncIterator])}},576:(jn,Tt,Q)=>{function p(he){return"function"==typeof he}Q.d(Tt,{m:()=>p})},3670:(jn,Tt,Q)=>{Q.d(Tt,{c:()=>ae});var p=Q(8822),he=Q(576);function ae(Ve){return(0,he.m)(Ve[p.L])}},6495:(jn,Tt,Q)=>{Q.d(Tt,{T:()=>ae});var p=Q(2202),he=Q(576);function ae(Ve){return(0,he.m)(Ve?.[p.h])}},8239:(jn,Tt,Q)=>{Q.d(Tt,{t:()=>he});var p=Q(576);function he(ae){return(0,p.m)(ae?.then)}},3260:(jn,Tt,Q)=>{Q.d(Tt,{L:()=>Ve,Q:()=>ae});var p=Q(655),he=Q(576);function ae(ut){return(0,p.FC)(this,arguments,function*(){const Ge=ut.getReader();try{for(;;){const{value:it,done:dt}=yield(0,p.qq)(Ge.read());if(dt)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(it)}}finally{Ge.releaseLock()}})}function Ve(ut){return(0,he.m)(ut?.getReader)}},4482:(jn,Tt,Q)=>{Q.d(Tt,{A:()=>he,e:()=>ae});var p=Q(576);function he(Ve){return(0,p.m)(Ve?.lift)}function ae(Ve){return ut=>{if(he(ut))return ut.lift(function(lt){try{return Ve(lt,this)}catch(Ge){this.error(Ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(jn,Tt,Q)=>{function p(){}Q.d(Tt,{Z:()=>p})},9635:(jn,Tt,Q)=>{Q.d(Tt,{U:()=>ae,z:()=>he});var p=Q(4671);function he(...Ve){return ae(Ve)}function ae(Ve){return 0===Ve.length?p.y:1===Ve.length?Ve[0]:function(lt){return Ve.reduce((Ge,it)=>it(Ge),lt)}}},7849:(jn,Tt,Q)=>{Q.d(Tt,{h:()=>ae});var p=Q(2416),he=Q(3410);function ae(Ve){he.z.setTimeout(()=>{const{onUnhandledError:ut}=p.v;if(!ut)throw Ve;ut(Ve)})}},4532:(jn,Tt,Q)=>{function p(he){return new TypeError(`You provided ${null!==he&&"object"==typeof he?"an invalid object":`'${he}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d(Tt,{z:()=>p})},655:(jn,Tt,Q)=>{function Ve(Oe,Te){var Ye={};for(var He in Oe)Object.prototype.hasOwnProperty.call(Oe,He)&&Te.indexOf(He)<0&&(Ye[He]=Oe[He]);if(null!=Oe&&"function"==typeof Object.getOwnPropertySymbols){var zt=0;for(He=Object.getOwnPropertySymbols(Oe);zt<He.length;zt++)Te.indexOf(He[zt])<0&&Object.prototype.propertyIsEnumerable.call(Oe,He[zt])&&(Ye[He[zt]]=Oe[He[zt]])}return Ye}function it(Oe,Te,Ye,He){return new(Ye||(Ye=Promise))(function(jt,pn){function Er(On){try{Vn(He.next(On))}catch(Zn){pn(Zn)}}function cr(On){try{Vn(He.throw(On))}catch(Zn){pn(Zn)}}function Vn(On){On.done?jt(On.value):function zt(jt){return jt instanceof Ye?jt:new Ye(function(pn){pn(jt)})}(On.value).then(Er,cr)}Vn((He=He.apply(Oe,Te||[])).next())})}function rt(Oe){return this instanceof rt?(this.v=Oe,this):new rt(Oe)}function vt(Oe,Te,Ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var zt,He=Ye.apply(Oe,Te||[]),jt=[];return zt={},pn("next"),pn("throw"),pn("return"),zt[Symbol.asyncIterator]=function(){return this},zt;function pn(Dr){He[Dr]&&(zt[Dr]=function(mi){return new Promise(function(Qn,It){jt.push([Dr,mi,Qn,It])>1||Er(Dr,mi)})})}function Er(Dr,mi){try{!function cr(Dr){Dr.value instanceof rt?Promise.resolve(Dr.value.v).then(Vn,On):Zn(jt[0][2],Dr)}(He[Dr](mi))}catch(Qn){Zn(jt[0][3],Qn)}}function Vn(Dr){Er("next",Dr)}function On(Dr){Er("throw",Dr)}function Zn(Dr,mi){Dr(mi),jt.shift(),jt.length&&Er(jt[0][0],jt[0][1])}}function Ot(Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,Te=Oe[Symbol.asyncIterator];return Te?Te.call(Oe):(Oe=function Ae(Oe){var Te="function"==typeof Symbol&&Symbol.iterator,Ye=Te&&Oe[Te],He=0;if(Ye)return Ye.call(Oe);if(Oe&&"number"==typeof Oe.length)return{next:function(){return Oe&&He>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[He++],done:!Oe}}};throw new TypeError(Te?"Object is not iterable.":"Symbol.iterator is not defined.")}(Oe),Ye={},He("next"),He("throw"),He("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye);function He(jt){Ye[jt]=Oe[jt]&&function(pn){return new Promise(function(Er,cr){!function zt(jt,pn,Er,cr){Promise.resolve(cr).then(function(Vn){jt({value:Vn,done:Er})},pn)}(Er,cr,(pn=Oe[jt](pn)).done,pn.value)})}}}Q.d(Tt,{FC:()=>vt,KL:()=>Ot,_T:()=>Ve,mG:()=>it,qq:()=>rt})},4650:(jn,Tt,Q)=>{Q.d(Tt,{$8M:()=>fc,$Z:()=>kp,AFp:()=>sI,ALo:()=>Ov,AaK:()=>it,CRH:()=>MT,CZH:()=>hg,CqO:()=>zh,D6c:()=>lD,EJc:()=>uI,EiD:()=>yx,F$t:()=>Ms,F4k:()=>dd,FYo:()=>Ph,FiY:()=>cu,Gf:()=>DT,GfV:()=>ER,Hsn:()=>Ns,JOm:()=>Zc,JVY:()=>Dh,JZr:()=>tn,Jf7:()=>CR,L6k:()=>gx,LAX:()=>WU,LFG:()=>Qt,Lbi:()=>lI,Lck:()=>pT,MMx:()=>Ll,MR2:()=>t8,NdJ:()=>xr,OlP:()=>Oi,Oqu:()=>vv,P3R:()=>aR,Q6J:()=>y_,QGY:()=>b_,QP$:()=>So,QbO:()=>dO,Qsj:()=>u8,R0b:()=>Za,RDi:()=>bs,Rgc:()=>M_,SBq:()=>s_,Sil:()=>gO,Suo:()=>jv,TTD:()=>Xu,TgZ:()=>pu,Udp:()=>wE,X6Q:()=>EI,XFs:()=>bt,Xpm:()=>st,Xts:()=>wx,Y36:()=>Rp,YKP:()=>A_,YNc:()=>dv,Yjl:()=>yi,Yz7:()=>It,Z0I:()=>_r,ZZ4:()=>cf,_UZ:()=>qp,_Vd:()=>Mp,_c5:()=>cD,_uU:()=>IA,aQg:()=>ub,c2e:()=>hO,cJS:()=>Mn,cg1:()=>gi,dDg:()=>Cd,dqk:()=>hn,eBb:()=>ZP,eFA:()=>QT,ekj:()=>mv,eoX:()=>gI,f3M:()=>fn,g9A:()=>cI,h0i:()=>Xh,hGG:()=>MO,hij:()=>C_,iGM:()=>Uv,ifc:()=>tt,ip1:()=>$T,jDz:()=>Pv,kL8:()=>Na,lG2:()=>Gn,lcZ:()=>$E,lqb:()=>Nh,lri:()=>ZT,mCW:()=>n_,n5z:()=>I0,oAB:()=>xe,oJD:()=>vx,oxw:()=>uA,pB0:()=>mx,q3G:()=>zs,q4F:()=>Mx,qLn:()=>G0,qOj:()=>av,qZA:()=>v_,qzn:()=>Th,rWj:()=>pI,sBO:()=>CO,sIi:()=>zp,s_b:()=>yd,soG:()=>sf,tp0:()=>Ih,uIk:()=>pr,vHH:()=>rt,vpe:()=>Fl,wAp:()=>ar,xp6:()=>TR,z3N:()=>Yc,zSh:()=>Cx,zs3:()=>Rh});var p=Q(7579),he=Q(727),ae=Q(9751),Ve=Q(6451),ut=Q(3099);function lt(a){for(let l in a)if(a[l]===lt)return l;throw Error("Could not find renamed property on target object.")}function Ge(a,l){for(const d in l)l.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=l[d])}function it(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(it).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const d=l.indexOf("\n");return-1===d?l:l.substring(0,d)}function dt(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const Ie=lt({__forward_ref__:lt});function we(a){return a.__forward_ref__=we,a.toString=function(){return it(this())},a}function Ae(a){return Pt(a)?a():a}function Pt(a){return"function"==typeof a&&a.hasOwnProperty(Ie)&&a.__forward_ref__===we}function Rt(a){return a&&!!a.\u0275providers}const tn="https://g.co/ng/security#xss";class rt extends Error{constructor(l,d){super(function vt(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,d)),this.code=l}}function Dt(a){return"string"==typeof a?a:null==a?"":String(a)}function Yt(a,l){throw new rt(-201,!1)}function On(a,l){null==a&&function Zn(a,l,d,f){throw new Error(`ASSERTION ERROR: ${a}`+(null==f?"":` [Expected=> ${d} ${f} ${l} <=Actual]`))}(l,a,null,"!=")}function It(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Mn(a){return{providers:a.providers||[],imports:a.imports||[]}}function vr(a){return Cr(a,zi)||Cr(a,Ke)}function _r(a){return null!==vr(a)}function Cr(a,l){return a.hasOwnProperty(l)?a[l]:null}function Si(a){return a&&(a.hasOwnProperty(cn)||a.hasOwnProperty(Nt))?a[cn]:null}const zi=lt({\u0275prov:lt}),cn=lt({\u0275inj:lt}),Ke=lt({ngInjectableDef:lt}),Nt=lt({ngInjectorDef:lt});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let Nn;function rr(a){const l=Nn;return Nn=a,l}function jr(a,l,d){const f=vr(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&bt.Optional?null:void 0!==l?l:void Yt(it(a))}const hn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Hr={},hi="__NG_DI_FLAG__",Xi="ngTempTokenPath",fi=/\n/gm,ys="__source";let fr;function As(a){const l=fr;return fr=a,l}function Ri(a,l=bt.Default){if(void 0===fr)throw new rt(-203,!1);return null===fr?jr(a,void 0,l):fr.get(a,l&bt.Optional?null:void 0,l)}function Qt(a,l=bt.Default){return(function ur(){return Nn}()||Ri)(Ae(a),l)}function fn(a,l=bt.Default){return Qt(a,qn(l))}function qn(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function sr(a){const l=[];for(let d=0;d<a.length;d++){const f=Ae(a[d]);if(Array.isArray(f)){if(0===f.length)throw new rt(900,!1);let m,v=bt.Default;for(let S=0;S<f.length;S++){const M=f[S],k=ve(M);"number"==typeof k?-1===k?m=M.token:v|=k:m=M}l.push(Qt(m,v))}else l.push(Qt(f))}return l}function Mr(a,l){return a[hi]=l,a.prototype[hi]=l,a}function ve(a){return a[hi]}function K(a){return{toString:a}.toString()}var j=(()=>((j=j||{})[j.OnPush=0]="OnPush",j[j.Default=1]="Default",j))(),tt=(()=>{return(a=tt||(tt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",tt;var a})();const $t={},Bt=[],gn=lt({\u0275cmp:lt}),un=lt({\u0275dir:lt}),Gr=lt({\u0275pipe:lt}),pi=lt({\u0275mod:lt}),or=lt({\u0275fac:lt}),_i=lt({__NG_ELEMENT_ID__:lt});let Le=0;function st(a){return K(()=>{const d=!0===a.standalone,f={},m={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===j.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Bt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||tt.Emulated,id:"c"+Le++,styles:a.styles||Bt,_:null,setInput:null,schemas:a.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},v=a.dependencies,S=a.features;return m.inputs=Zt(a.inputs,f),m.outputs=Zt(a.outputs),S&&S.forEach(M=>M(m)),m.directiveDefs=v?()=>("function"==typeof v?v():v).map(Pn).filter(Xn):null,m.pipeDefs=v?()=>("function"==typeof v?v():v).map(vi).filter(Xn):null,m})}function Pn(a){return Kn(a)||Bn(a)}function Xn(a){return null!==a}function xe(a){return K(()=>({type:a.type,bootstrap:a.bootstrap||Bt,declarations:a.declarations||Bt,imports:a.imports||Bt,exports:a.exports||Bt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Zt(a,l){if(null==a)return $t;const d={};for(const f in a)if(a.hasOwnProperty(f)){let m=a[f],v=m;Array.isArray(m)&&(v=m[1],m=m[0]),d[m]=f,l&&(l[m]=v)}return d}const Gn=st;function yi(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Kn(a){return a[gn]||null}function Bn(a){return a[un]||null}function vi(a){return a[Gr]||null}function So(a){const l=Kn(a)||Bn(a)||vi(a);return null!==l&&l.standalone}function ki(a,l){const d=a[pi]||null;if(!d&&!0===l)throw new Error(`Type ${it(a)} does not have '\u0275mod' property.`);return d}function oa(a){return Array.isArray(a)&&"object"==typeof a[1]}function aa(a){return Array.isArray(a)&&!0===a[1]}function zc(a){return 0!=(4&a.flags)}function Kf(a){return a.componentOffset>-1}function Zf(a){return 1==(1&a.flags)}function Ao(a){return null!==a.template}function mS(a){return 0!=(256&a[2])}function Yu(a,l){return a.hasOwnProperty(or)?a[or]:null}class s0{constructor(l,d,f){this.previousValue=l,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function Xu(){return Xf}function Xf(a){return a.type.prototype.ngOnChanges&&(a.setInput=Qf),_m}function _m(){const a=Qu(this),l=a?.current;if(l){const d=a.previous;if(d===$t)a.previous=l;else for(let f in l)d[f]=l[f];a.current=null,this.ngOnChanges(l)}}function Qf(a,l,d,f){const m=this.declaredInputs[d],v=Qu(a)||function X1(a,l){return a[o0]=l}(a,{previous:$t,current:null}),S=v.current||(v.current={}),M=v.previous,k=M[m];S[m]=new s0(k&&k.currentValue,l,M===$t),a[f]=l}Xu.ngInherit=!0;const o0="__ngSimpleChanges__";function Qu(a){return a[o0]||null}function Gs(a){for(;Array.isArray(a);)a=a[0];return a}function ru(a,l){return Gs(l[a])}function To(a,l){return Gs(l[a.index])}function c0(a,l){return a.data[l]}function ca(a,l){const d=l[a];return oa(d)?d:d[0]}function Em(a){return 64==(64&a[2])}function $c(a,l){return null==l?null:a[l]}function ep(a){a[18]=0}function Cm(a,l){a[5]+=l;let d=a,f=a[3];for(;null!==f&&(1===l&&1===d[5]||-1===l&&0===d[5]);)f[5]+=l,d=f,f=f[3]}const br={lFrame:PS(null),bindingsEnabled:!0};function J1(){return br.bindingsEnabled}function Ht(){return br.lFrame.lView}function Jr(){return br.lFrame.tView}function Ks(){let a=tp();for(;null!==a&&64===a.type;)a=a.parent;return a}function tp(){return br.lFrame.currentTNode}function Go(a,l){const d=br.lFrame;d.currentTNode=a,d.isParent=l}function iu(){return br.lFrame.isParent}function np(){br.lFrame.isParent=!1}function uc(){return br.lFrame.bindingIndex++}function DS(a,l){const d=br.lFrame;d.bindingIndex=d.bindingRootIndex=a,p0(l)}function p0(a){br.lFrame.currentDirectiveIndex=a}function g0(){return br.lFrame.currentQueryIndex}function m0(a){br.lFrame.currentQueryIndex=a}function iw(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function sw(a,l,d){if(d&bt.SkipSelf){let m=l,v=a;for(;!(m=m.parent,null!==m||d&bt.Host||(m=iw(v),null===m||(v=v[15],10&m.type))););if(null===m)return!1;l=m,a=v}const f=br.lFrame=NS();return f.currentTNode=l,f.lView=a,!0}function ow(a){const l=NS(),d=a[1];br.lFrame=l,l.currentTNode=d.firstChild,l.lView=a,l.tView=d,l.contextLView=a,l.bindingIndex=d.bindingStartIndex,l.inI18n=!1}function NS(){const a=br.lFrame,l=null===a?null:a.child;return null===l?PS(a):l}function PS(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Sm(){const a=br.lFrame;return br.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const su=Sm;function ip(){const a=Sm();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Do(){return br.lFrame.selectedIndex}function qc(a){br.lFrame.selectedIndex=a}function xi(){const a=br.lFrame;return c0(a.tView,a.selectedIndex)}function ap(a,l){for(let d=l.directiveStart,f=l.directiveEnd;d<f;d++){const v=a.data[d].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:M,ngAfterViewInit:k,ngAfterViewChecked:B,ngOnDestroy:$}=v;S&&(a.contentHooks||(a.contentHooks=[])).push(-d,S),M&&((a.contentHooks||(a.contentHooks=[])).push(d,M),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(d,M)),k&&(a.viewHooks||(a.viewHooks=[])).push(-d,k),B&&((a.viewHooks||(a.viewHooks=[])).push(d,B),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(d,B)),null!=$&&(a.destroyHooks||(a.destroyHooks=[])).push(d,$)}}function Tm(a,l,d){uh(a,l,3,d)}function Il(a,l,d,f){(3&a[2])===d&&uh(a,l,d,f)}function lh(a,l){let d=a[2];(3&d)===l&&(d&=2047,d+=1,a[2]=d)}function uh(a,l,d,f){const v=f??-1,S=l.length-1;let M=0;for(let k=void 0!==f?65535&a[18]:0;k<S;k++)if("number"==typeof l[k+1]){if(M=l[k],null!=f&&M>=f)break}else l[k]<0&&(a[18]+=65536),(M<v||-1==v)&&(_0(a,d,l,k),a[18]=(4294901760&a[18])+k+2),k++}function _0(a,l,d,f){const m=d[f]<0,v=d[f+1],M=a[m?-d[f]:d[f]];if(m){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{v.call(M)}finally{}}}else try{v.call(M)}finally{}}class hc{constructor(l,d,f){this.factory=l,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function ou(a,l,d){let f=0;for(;f<d.length;){const m=d[f];if("number"==typeof m){if(0!==m)break;f++;const v=d[f++],S=d[f++],M=d[f++];a.setAttribute(l,S,M,v)}else{const v=m,S=d[++f];lp(v)?a.setProperty(l,v,S):a.setAttribute(l,v,S),f++}}return f}function Nm(a){return 3===a||4===a||6===a}function lp(a){return 64===a.charCodeAt(0)}function Cl(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let d=-1;for(let f=0;f<l.length;f++){const m=l[f];"number"==typeof m?d=m:0===d||Sl(a,d,m,null,-1===d||2===d?l[++f]:null)}}return a}function Sl(a,l,d,f,m){let v=0,S=a.length;if(-1===l)S=-1;else for(;v<a.length;){const M=a[v++];if("number"==typeof M){if(M===l){S=-1;break}if(M>l){S=v-1;break}}}for(;v<a.length;){const M=a[v];if("number"==typeof M)break;if(M===d){if(null===f)return void(null!==m&&(a[v+1]=m));if(f===a[v+1])return void(a[v+2]=m)}v++,null!==f&&v++,null!==m&&v++}-1!==S&&(a.splice(S,0,l),v=S+1),a.splice(v++,0,d),null!==f&&a.splice(v++,0,f),null!==m&&a.splice(v++,0,m)}function dh(a){return-1!==a}function hh(a){return 32767&a}function fh(a,l){let d=function up(a){return a>>16}(a),f=l;for(;d>0;)f=f[15],d--;return f}let ph=!0;function dp(a){const l=ph;return ph=a,l}let uw=0;const Ha={};function km(a,l){const d=hw(a,l);if(-1!==d)return d;const f=l[1];f.firstCreatePass&&(a.injectorIndex=l.length,hp(f.data,a),hp(l,null),hp(f.blueprint,null));const m=gh(a,l),v=a.injectorIndex;if(dh(m)){const S=hh(m),M=fh(m,l),k=M[1].data;for(let B=0;B<8;B++)l[v+B]=M[S+B]|k[S+B]}return l[v+8]=m,v}function hp(a,l){a.push(0,0,0,0,0,0,0,0,l)}function hw(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function gh(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,f=null,m=l;for(;null!==m;){if(f=Um(m),null===f)return-1;if(d++,m=m[15],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return-1}function Om(a,l,d){!function dw(a,l,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(_i)&&(f=d[_i]),null==f&&(f=d[_i]=uw++);const m=255&f;l.data[a+(m>>5)]|=1<<m}(a,l,d)}function fp(a,l,d){if(d&bt.Optional||void 0!==a)return a;Yt()}function b0(a,l,d,f){if(d&bt.Optional&&void 0===f&&(f=null),0==(d&(bt.Self|bt.Host))){const m=a[9],v=rr(void 0);try{return m?m.get(l,f,d&bt.Optional):jr(l,f,d&bt.Optional)}finally{rr(v)}}return fp(f,0,d)}function Lm(a,l,d,f=bt.Default,m){if(null!==a){if(1024&l[2]){const S=function FS(a,l,d,f,m){let v=a,S=l;for(;null!==v&&null!==S&&1024&S[2]&&!(256&S[2]);){const M=ed(v,S,d,f|bt.Self,Ha);if(M!==Ha)return M;let k=v.parent;if(!k){const B=S[21];if(B){const $=B.get(d,Ha,f);if($!==Ha)return $}k=Um(S),S=S[15]}v=k}return m}(a,l,d,f,Ha);if(S!==Ha)return S}const v=ed(a,l,d,f,Ha);if(v!==Ha)return v}return b0(l,d,f,m)}function ed(a,l,d,f,m){const v=function Fm(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(_i)?a[_i]:void 0;return"number"==typeof l?l>=0?255&l:pw:l}(d);if("function"==typeof v){if(!sw(l,a,f))return f&bt.Host?fp(m,0,f):b0(l,d,f,m);try{const S=v(f);if(null!=S||f&bt.Optional)return S;Yt()}finally{su()}}else if("number"==typeof v){let S=null,M=hw(a,l),k=-1,B=f&bt.Host?l[16][6]:null;for((-1===M||f&bt.SkipSelf)&&(k=-1===M?gh(a,l):l[M+8],-1!==k&&E0(f,!1)?(S=l[1],M=hh(k),l=fh(k,l)):M=-1);-1!==M;){const $=l[1];if(fw(v,M,$.data)){const ue=w0(M,l,d,S,f,B);if(ue!==Ha)return ue}k=l[M+8],-1!==k&&E0(f,l[1].data[M+8]===B)&&fw(v,M,l)?(S=$,M=hh(k),l=fh(k,l)):M=-1}}return m}function w0(a,l,d,f,m,v){const S=l[1],M=S.data[a+8],$=pp(M,S,d,null==f?Kf(M)&&ph:f!=S&&0!=(3&M.type),m&bt.Host&&v===M);return null!==$?mh(l,S,$,M):Ha}function pp(a,l,d,f,m){const v=a.providerIndexes,S=l.data,M=1048575&v,k=a.directiveStart,$=v>>20,Me=m?M+$:a.directiveEnd;for(let We=f?M:M+$;We<Me;We++){const wt=S[We];if(We<k&&d===wt||We>=k&&wt.type===d)return We}if(m){const We=S[k];if(We&&Ao(We)&&We.type===d)return k}return null}function mh(a,l,d,f){let m=a[d];const v=l.data;if(function Dm(a){return a instanceof hc}(m)){const S=m;S.resolving&&function kt(a,l){const d=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new rt(-200,`Circular dependency in DI detected for ${a}${d}`)}(function Ot(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Dt(a)}(v[d]));const M=dp(S.canSeeViewProviders);S.resolving=!0;const k=S.injectImpl?rr(S.injectImpl):null;sw(a,f,bt.Default);try{m=a[d]=S.factory(void 0,v,a,f),l.firstCreatePass&&d>=f.directiveStart&&function cw(a,l,d){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:v}=l.type.prototype;if(f){const S=Xf(l);(d.preOrderHooks||(d.preOrderHooks=[])).push(a,S),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,S)}m&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-a,m),v&&((d.preOrderHooks||(d.preOrderHooks=[])).push(a,v),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,v))}(d,v[d],l)}finally{null!==k&&rr(k),dp(M),S.resolving=!1,su()}}return m}function fw(a,l,d){return!!(d[l+(a>>5)]&1<<a)}function E0(a,l){return!(a&bt.Self||a&bt.Host&&l)}class xl{constructor(l,d){this._tNode=l,this._lView=d}get(l,d,f){return Lm(this._tNode,this._lView,l,qn(f),d)}}function pw(){return new xl(Ks(),Ht())}function I0(a){return K(()=>{const l=a.prototype.constructor,d=l[or]||Bm(l),f=Object.prototype;let m=Object.getPrototypeOf(a.prototype).constructor;for(;m&&m!==f;){const v=m[or]||Bm(m);if(v&&v!==d)return v;m=Object.getPrototypeOf(m)}return v=>new v})}function Bm(a){return Pt(a)?()=>{const l=Bm(Ae(a));return l&&l()}:Yu(a)}function Um(a){const l=a[1],d=l.type;return 2===d?l.declTNode:1===d?a[6]:null}function fc(a){return function v0(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const d=a.attrs;if(d){const f=d.length;let m=0;for(;m<f;){const v=d[m];if(Nm(v))break;if(0===v)m+=2;else if("number"==typeof v)for(m++;m<f&&"string"==typeof d[m];)m++;else{if(v===l)return d[m+1];m+=2}}}return null}(Ks(),a)}const td="__parameters__";function _h(a,l,d){return K(()=>{const f=function gp(a){return function(...d){if(a){const f=a(...d);for(const m in f)this[m]=f[m]}}}(l);function m(...v){if(this instanceof m)return f.apply(this,v),this;const S=new m(...v);return M.annotation=S,M;function M(k,B,$){const ue=k.hasOwnProperty(td)?k[td]:Object.defineProperty(k,td,{value:[]})[td];for(;ue.length<=$;)ue.push(null);return(ue[$]=ue[$]||[]).push(S),k}}return d&&(m.prototype=Object.create(d.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class Oi{constructor(l,d){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=It({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Mo(a,l){void 0===l&&(l=a);for(let d=0;d<a.length;d++){let f=a[d];Array.isArray(f)?(l===a&&(l=a.slice(0,d)),Mo(f,l)):l!==a&&l.push(f)}return l}function gc(a,l){a.forEach(d=>Array.isArray(d)?gc(d,l):l(d))}function Vm(a,l,d){l>=a.length?a.push(d):a.splice(l,0,d)}function Gc(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function mc(a,l){const d=[];for(let f=0;f<a;f++)d.push(l);return d}function la(a,l,d){let f=Kc(a,l);return f>=0?a[1|f]=d:(f=~f,function zm(a,l,d,f){let m=a.length;if(m==l)a.push(d,f);else if(1===m)a.push(f,a[0]),a[0]=d;else{for(m--,a.push(a[m-1],a[m]);m>l;)a[m]=a[m-2],m--;a[l]=d,a[l+1]=f}}(a,f,l,d)),f}function Hm(a,l){const d=Kc(a,l);if(d>=0)return a[1|d]}function Kc(a,l){return function bw(a,l,d){let f=0,m=a.length>>d;for(;m!==f;){const v=f+(m-f>>1),S=a[v<<d];if(l===S)return v<<d;S>l?m=v:f=v+1}return~(m<<d)}(a,l,1)}const cu=Mr(_h("Optional"),8),Ih=Mr(_h("SkipSelf"),4);var Zc=(()=>((Zc=Zc||{})[Zc.Important=1]="Important",Zc[Zc.DashCase=2]="DashCase",Zc))();const F0=new Map;let QS=0;const E="__ngContext__";function N(a,l){oa(l)?(a[E]=l[20],function ex(a){F0.set(a[20],a)}(l)):a[E]=l}function Ip(a,l){return undefined(a,l)}function Sh(a){const l=a[3];return aa(l)?l[3]:l}function Qm(a){return Jm(a[13])}function V0(a){return Jm(a[4])}function Jm(a){for(;null!==a&&!aa(a);)a=a[4];return a}function e_(a,l,d,f,m){if(null!=f){let v,S=!1;aa(f)?v=f:oa(f)&&(S=!0,f=f[0]);const M=Gs(f);0===a&&null!==d?null==m?FP(l,d,M):Cp(l,d,M,m||null,!0):1===a&&null!==d?Cp(l,d,M,m||null,!0):2===a?function lx(a,l,d){const f=kw(a,l);f&&function HU(a,l,d,f){a.removeChild(l,d,f)}(a,f,l,d)}(l,M,S):3===a&&l.destroyNode(M),null!=v&&function zP(a,l,d,f,m){const v=d[7];v!==Gs(d)&&e_(l,a,f,v,m);for(let M=10;M<d.length;M++){const k=d[M];Ta(k[1],k,a,l,f,v)}}(l,a,v,d,m)}}function rx(a,l,d){return a.createElement(l,d)}function RP(a,l){const d=a[9],f=d.indexOf(l),m=l[3];512&l[2]&&(l[2]&=-513,Cm(m,-1)),d.splice(f,1)}function ix(a,l){if(a.length<=10)return;const d=10+l,f=a[d];if(f){const m=f[17];null!==m&&m!==a&&RP(m,f),l>0&&(a[d-1][4]=f[4]);const v=Gc(a,10+l);!function OU(a,l){Ta(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(f[1],f);const S=v[19];null!==S&&S.detachView(v[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function kP(a,l){if(!(128&l[2])){const d=l[11];d.destroyNode&&Ta(a,l,d,3,null,null),function BU(a){let l=a[13];if(!l)return sx(a[1],a);for(;l;){let d=null;if(oa(l))d=l[13];else{const f=l[10];f&&(d=f)}if(!d){for(;l&&!l[4]&&l!==a;)oa(l)&&sx(l[1],l),l=l[3];null===l&&(l=a),oa(l)&&sx(l[1],l),d=l&&l[4]}l=d}}(l)}}function sx(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function zU(a,l){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let f=0;f<d.length;f+=2){const m=l[d[f]];if(!(m instanceof hc)){const v=d[f+1];if(Array.isArray(v))for(let S=0;S<v.length;S+=2){const M=m[v[S]],k=v[S+1];try{k.call(M)}finally{}}else try{v.call(m)}finally{}}}}(a,l),function VU(a,l){const d=a.cleanup,f=l[7];let m=-1;if(null!==d)for(let v=0;v<d.length-1;v+=2)if("string"==typeof d[v]){const S=d[v+3];S>=0?f[m=S]():f[m=-S].unsubscribe(),v+=2}else{const S=f[m=d[v+1]];d[v].call(S)}if(null!==f){for(let v=m+1;v<f.length;v++)(0,f[v])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const d=l[17];if(null!==d&&aa(l[3])){d!==l[3]&&RP(d,l);const f=l[19];null!==f&&f.detachView(a)}!function Nw(a){F0.delete(a[20])}(l)}}function OP(a,l,d){return function LP(a,l,d){let f=l;for(;null!==f&&40&f.type;)f=(l=f).parent;if(null===f)return d[0];{const{componentOffset:m}=f;if(m>-1){const{encapsulation:v}=a.data[f.directiveStart+m];if(v===tt.None||v===tt.Emulated)return null}return To(f,d)}}(a,l.parent,d)}function Cp(a,l,d,f,m){a.insertBefore(l,d,f,m)}function FP(a,l,d){a.appendChild(l,d)}function BP(a,l,d,f,m){null!==f?Cp(a,l,d,f,m):FP(a,l,d)}function kw(a,l){return a.parentNode(l)}function UP(a,l,d){return ox(a,l,d)}let Li,H0,Sp,ox=function jP(a,l,d){return 40&a.type?To(a,d):null};function t_(a,l,d,f){const m=OP(a,f,l),v=l[11],M=UP(f.parent||l[6],f,l);if(null!=m)if(Array.isArray(d))for(let k=0;k<d.length;k++)BP(v,m,d[k],M,!1);else BP(v,m,d,M,!1)}function z0(a,l){if(null!==l){const d=l.type;if(3&d)return To(l,a);if(4&d)return cx(-1,a[l.index]);if(8&d){const f=l.child;if(null!==f)return z0(a,f);{const m=a[l.index];return aa(m)?cx(-1,m):Gs(m)}}if(32&d)return Ip(l,a)()||Gs(a[l.index]);{const f=Ow(a,l);return null!==f?Array.isArray(f)?f[0]:z0(Sh(a[16]),f):z0(a,l.next)}}return null}function Ow(a,l){return null!==l?a[16][6].projection[l.projection]:null}function cx(a,l){const d=10+a+1;if(d<l.length){const f=l[d],m=f[1].firstChild;if(null!==m)return z0(f,m)}return l[7]}function ux(a,l,d,f,m,v,S){for(;null!=d;){const M=f[d.index],k=d.type;if(S&&0===l&&(M&&N(Gs(M),f),d.flags|=2),32!=(32&d.flags))if(8&k)ux(a,l,d.child,f,m,v,!1),e_(l,a,m,M,v);else if(32&k){const B=Ip(d,f);let $;for(;$=B();)e_(l,a,m,$,v);e_(l,a,m,M,v)}else 16&k?dx(a,l,f,d,m,v):e_(l,a,m,M,v);d=S?d.projectionNext:d.next}}function Ta(a,l,d,f,m,v){ux(d,f,a.firstChild,l,m,v,!1)}function dx(a,l,d,f,m,v){const S=d[16],k=S[6].projection[f.projection];if(Array.isArray(k))for(let B=0;B<k.length;B++)e_(l,a,m,k[B],v);else ux(a,l,k,S[3],m,v,!0)}function Lw(a,l,d){""===d?a.removeAttribute(l,"class"):a.setAttribute(l,"class",d)}function hx(a,l,d){const{mergedAttrs:f,classes:m,styles:v}=d;null!==f&&ou(a,l,f),null!==m&&Lw(a,l,m),null!==v&&function $P(a,l,d){a.setAttribute(l,"style",d)}(a,l,v)}function In(a){return function nd(){if(void 0===Li&&(Li=null,hn.trustedTypes))try{Li=hn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Li}()?.createHTML(a)||a}function bs(a){H0=a}function Fw(){if(void 0===Sp&&(Sp=null,hn.trustedTypes))try{Sp=hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Sp}function Bw(a){return Fw()?.createHTML(a)||a}function px(a){return Fw()?.createScriptURL(a)||a}class yc{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tn})`}}class Ah extends yc{getTypeName(){return"HTML"}}class Ys extends yc{getTypeName(){return"Style"}}class du extends yc{getTypeName(){return"Script"}}class vc extends yc{getTypeName(){return"URL"}}class KP extends yc{getTypeName(){return"ResourceURL"}}function Yc(a){return a instanceof yc?a.changingThisBreaksApplicationSecurity:a}function Th(a,l){const d=function xp(a){return a instanceof yc&&a.getTypeName()||null}(a);if(null!=d&&d!==l){if("ResourceURL"===d&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${d} (see ${tn})`)}return d===l}function Dh(a){return new Ah(a)}function gx(a){return new Ys(a)}function ZP(a){return new du(a)}function WU(a){return new vc(a)}function mx(a){return new KP(a)}class YP{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const d=(new window.DOMParser).parseFromString(In(l),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(l):(d.removeChild(d.firstChild),d)}catch{return null}}}class XP{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const f=this.inertDocument.createElement("body");d.appendChild(f)}}getInertBodyElement(l){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=In(l),d;const f=this.inertDocument.createElement("body");return f.innerHTML=In(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(l){const d=l.attributes;for(let m=d.length-1;0<m;m--){const S=d.item(m).name;("xmlns:ns1"===S||0===S.indexOf("ns1:"))&&l.removeAttribute(S)}let f=l.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const JP=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function n_(a){return(a=String(a)).match(JP)?a:"unsafe:"+a}function rd(a){const l={};for(const d of a.split(","))l[d]=!0;return l}function Ap(...a){const l={};for(const d of a)for(const f in d)d.hasOwnProperty(f)&&(l[f]=!0);return l}const eR=rd("area,br,col,hr,img,wbr"),tR=rd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Uw=rd("rp,rt"),jw=Ap(eR,Ap(tR,rd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ap(Uw,rd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ap(Uw,tR)),_x=rd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nR=Ap(_x,rd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),GU=rd("script,style,template");class KU{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let d=l.firstChild,f=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?f=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,f&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let m=this.checkClobberedElement(d,d.nextSibling);if(m){d=m;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(l){const d=l.nodeName.toLowerCase();if(!jw.hasOwnProperty(d))return this.sanitizedSomething=!0,!GU.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const f=l.attributes;for(let m=0;m<f.length;m++){const v=f.item(m),S=v.name,M=S.toLowerCase();if(!nR.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let k=v.value;_x[M]&&(k=n_(k)),this.buf.push(" ",S,'="',rR(k),'"')}return this.buf.push(">"),!0}endElement(l){const d=l.nodeName.toLowerCase();jw.hasOwnProperty(d)&&!eR.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(l){this.buf.push(rR(l))}checkClobberedElement(l,d){if(d&&(l.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return d}}const ZU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,YU=/([^\#-~ |!])/g;function rR(a){return a.replace(/&/g,"&amp;").replace(ZU,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(YU,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vw;function yx(a,l){let d=null;try{Vw=Vw||function Mh(a){const l=new XP(a);return function QP(){try{return!!(new window.DOMParser).parseFromString(In(""),"text/html")}catch{return!1}}()?new YP(l):l}(a);let f=l?String(l):"";d=Vw.getInertBodyElement(f);let m=5,v=f;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,f=v,v=d.innerHTML,d=Vw.getInertBodyElement(f)}while(f!==v);return In((new KU).sanitizeChildren(zw(d)||d))}finally{if(d){const f=zw(d)||d;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function zw(a){return"content"in a&&function iR(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var zs=(()=>((zs=zs||{})[zs.NONE=0]="NONE",zs[zs.HTML=1]="HTML",zs[zs.STYLE=2]="STYLE",zs[zs.SCRIPT=3]="SCRIPT",zs[zs.URL=4]="URL",zs[zs.RESOURCE_URL=5]="RESOURCE_URL",zs))();function vx(a){const l=W0();return l?Bw(l.sanitize(zs.HTML,a)||""):Th(a,"HTML")?Bw(Yc(a)):yx(function fx(){return void 0!==H0?H0:typeof document<"u"?document:void 0}(),Dt(a))}function sR(a){const l=W0();return l?l.sanitize(zs.URL,a)||"":Th(a,"URL")?Yc(a):n_(Dt(a))}function oR(a){const l=W0();if(l)return px(l.sanitize(zs.RESOURCE_URL,a)||"");if(Th(a,"ResourceURL"))return px(Yc(a));throw new rt(904,!1)}function aR(a,l,d){return function e8(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?oR:sR}(l,d)(a)}function W0(){const a=Ht();return a&&a[12]}const wx=new Oi("ENVIRONMENT_INITIALIZER"),cR=new Oi("INJECTOR",-1),lR=new Oi("INJECTOR_DEF_TYPES");class uR{get(l,d=Hr){if(d===Hr){const f=new Error(`NullInjectorError: No provider for ${it(l)}!`);throw f.name="NullInjectorError",f}return d}}function t8(a){return{\u0275providers:a}}function n8(...a){return{\u0275providers:dR(0,a),\u0275fromNgModule:!0}}function dR(a,...l){const d=[],f=new Set;let m;return gc(l,v=>{const S=v;Ex(S,d,[],f)&&(m||(m=[]),m.push(S))}),void 0!==m&&hR(m,d),d}function hR(a,l){for(let d=0;d<a.length;d++){const{providers:m}=a[d];Hw(m,v=>{l.push(v)})}}function Ex(a,l,d,f){if(!(a=Ae(a)))return!1;let m=null,v=Si(a);const S=!v&&Kn(a);if(v||S){if(S&&!S.standalone)return!1;m=a}else{const k=a.ngModule;if(v=Si(k),!v)return!1;m=k}const M=f.has(m);if(S){if(M)return!1;if(f.add(m),S.dependencies){const k="function"==typeof S.dependencies?S.dependencies():S.dependencies;for(const B of k)Ex(B,l,d,f)}}else{if(!v)return!1;{if(null!=v.imports&&!M){let B;f.add(m);try{gc(v.imports,$=>{Ex($,l,d,f)&&(B||(B=[]),B.push($))})}finally{}void 0!==B&&hR(B,l)}if(!M){const B=Yu(m)||(()=>new m);l.push({provide:m,useFactory:B,deps:Bt},{provide:lR,useValue:m,multi:!0},{provide:wx,useValue:()=>Qt(m),multi:!0})}const k=v.providers;null==k||M||Hw(k,$=>{l.push($)})}}return m!==a&&void 0!==a.providers}function Hw(a,l){for(let d of a)Rt(d)&&(d=d.\u0275providers),Array.isArray(d)?Hw(d,l):l(d)}const r8=lt({provide:String,useValue:lt});function Ix(a){return null!==a&&"object"==typeof a&&r8 in a}function Tp(a){return"function"==typeof a}const Cx=new Oi("Set Injector scope."),$w={},Sx={};let q0;function Dp(){return void 0===q0&&(q0=new uR),q0}class Nh{}class gR extends Nh{constructor(l,d,f,m){super(),this.parent=d,this.source=f,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dx(l,S=>this.processProvider(S)),this.records.set(cR,r_(void 0,this)),m.has("environment")&&this.records.set(Nh,r_(void 0,this));const v=this.records.get(Cx);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(lR.multi,Bt,bt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const d=As(this),f=rr(void 0);try{return l()}finally{As(d),rr(f)}}get(l,d=Hr,f=bt.Default){this.assertNotDestroyed(),f=qn(f);const m=As(this),v=rr(void 0);try{if(!(f&bt.SkipSelf)){let M=this.records.get(l);if(void 0===M){const k=function Tx(a){return"function"==typeof a||"object"==typeof a&&a instanceof Oi}(l)&&vr(l);M=k&&this.injectableDefInScope(k)?r_(xx(l),$w):null,this.records.set(l,M)}if(null!=M)return this.hydrate(l,M)}return(f&bt.Self?Dp():this.parent).get(l,d=f&bt.Optional&&d===Hr?null:d)}catch(S){if("NullInjectorError"===S.name){if((S[Xi]=S[Xi]||[]).unshift(it(l)),m)throw S;return function me(a,l,d,f){const m=a[Xi];throw l[ys]&&m.unshift(l[ys]),a.message=function J(a,l,d,f=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let m=it(l);if(Array.isArray(l))m=l.map(it).join(" -> ");else if("object"==typeof l){let v=[];for(let S in l)if(l.hasOwnProperty(S)){let M=l[S];v.push(S+":"+("string"==typeof M?JSON.stringify(M):it(M)))}m=`{${v.join(", ")}}`}return`${d}${f?"("+f+")":""}[${m}]: ${a.replace(fi,"\n  ")}`}("\n"+a.message,m,d,f),a.ngTokenPath=m,a[Xi]=null,a}(S,l,"R3InjectorError",this.source)}throw S}finally{rr(v),As(m)}}resolveInjectorInitializers(){const l=As(this),d=rr(void 0);try{const f=this.get(wx.multi,Bt,bt.Self);for(const m of f)m()}finally{As(l),rr(d)}}toString(){const l=[],d=this.records;for(const f of d.keys())l.push(it(f));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new rt(205,!1)}processProvider(l){let d=Tp(l=Ae(l))?l:Ae(l&&l.provide);const f=function _R(a){return Ix(a)?r_(void 0,a.useValue):r_(function yR(a,l,d){let f;if(Tp(a)){const m=Ae(a);return Yu(m)||xx(m)}if(Ix(a))f=()=>Ae(a.useValue);else if(function pR(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...sr(a.deps||[]));else if(function fR(a){return!(!a||!a.useExisting)}(a))f=()=>Qt(Ae(a.useExisting));else{const m=Ae(a&&(a.useClass||a.provide));if(!function s8(a){return!!a.deps}(a))return Yu(m)||xx(m);f=()=>new m(...sr(a.deps))}return f}(a),$w)}(l);if(Tp(l)||!0!==l.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=r_(void 0,$w,!0),m.factory=()=>sr(m.multi),this.records.set(d,m)),d=l,m.multi.push(l)}this.records.set(d,f)}hydrate(l,d){return d.value===$w&&(d.value=Sx,d.value=d.factory()),"object"==typeof d.value&&d.value&&function Ax(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(l){if(!l.providedIn)return!1;const d=Ae(l.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function xx(a){const l=vr(a),d=null!==l?l.factory:Yu(a);if(null!==d)return d;if(a instanceof Oi)throw new rt(204,!1);if(a instanceof Function)return function mR(a){const l=a.length;if(l>0)throw mc(l,"?"),new rt(204,!1);const d=function Pi(a){const l=a&&(a[zi]||a[Ke]);if(l){const d=function Ci(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),l}return null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new rt(204,!1)}function r_(a,l,d=!1){return{factory:a,value:l,multi:d?[]:void 0}}function Dx(a,l){for(const d of a)Array.isArray(d)?Dx(d,l):d&&Rt(d)?Dx(d.\u0275providers,l):l(d)}class o8{}class vR{}class c8{resolveComponentFactory(l){throw function a8(a){const l=Error(`No component factory found for ${it(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Mp=(()=>{class a{}return a.NULL=new c8,a})();function l8(){return i_(Ks(),Ht())}function i_(a,l){return new s_(To(a,l))}let s_=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=l8,a})();function wR(a){return a instanceof s_?a.nativeElement:a}class Ph{}let u8=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function d8(){const a=Ht(),d=ca(Ks().index,a);return(oa(d)?d:a)[11]}(),a})(),h8=(()=>{class a{}return a.\u0275prov=It({token:a,providedIn:"root",factory:()=>null}),a})();class ER{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Mx=new ER("15.0.2"),Nx={};function Rx(a){return a.ngOriginalError}class G0{constructor(){this._console=console}handleError(l){const d=this._findOriginalError(l);this._console.error("ERROR",l),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(l){let d=l&&Rx(l);for(;d&&Rx(d);)d=Rx(d);return d||null}}function CR(a){return a.ownerDocument.defaultView}function id(a){return a instanceof Function?a():a}function kx(a,l,d){let f=a.length;for(;;){const m=a.indexOf(l,d);if(-1===m)return m;if(0===m||a.charCodeAt(m-1)<=32){const v=l.length;if(m+v===f||a.charCodeAt(m+v)<=32)return m}d=m+1}}const Ox="ng-template";function Ww(a,l,d){let f=0;for(;f<a.length;){let m=a[f++];if(d&&"class"===m){if(m=a[f],-1!==kx(m.toLowerCase(),l,0))return!0}else if(1===m){for(;f<a.length&&"string"==typeof(m=a[f++]);)if(m.toLowerCase()===l)return!0;return!1}}return!1}function qw(a){return 4===a.type&&a.value!==Ox}function Lx(a,l,d){return l===(4!==a.type||d?a.value:Ox)}function w8(a,l,d){let f=4;const m=a.attrs||[],v=function C8(a){for(let l=0;l<a.length;l++)if(Nm(a[l]))return l;return a.length}(m);let S=!1;for(let M=0;M<l.length;M++){const k=l[M];if("number"!=typeof k){if(!S)if(4&f){if(f=2|1&f,""!==k&&!Lx(a,k,d)||""===k&&1===l.length){if(Xc(f))return!1;S=!0}}else{const B=8&f?k:l[++M];if(8&f&&null!==a.attrs){if(!Ww(a.attrs,B,d)){if(Xc(f))return!1;S=!0}continue}const ue=E8(8&f?"class":k,m,qw(a),d);if(-1===ue){if(Xc(f))return!1;S=!0;continue}if(""!==B){let Me;Me=ue>v?"":m[ue+1].toLowerCase();const We=8&f?Me:null;if(We&&-1!==kx(We,B,0)||2&f&&B!==Me){if(Xc(f))return!1;S=!0}}}}else{if(!S&&!Xc(f)&&!Xc(k))return!1;if(S&&Xc(k))continue;S=!1,f=k|1&f}}return Xc(f)||S}function Xc(a){return 0==(1&a)}function E8(a,l,d,f){if(null===l)return-1;let m=0;if(f||!d){let v=!1;for(;m<l.length;){const S=l[m];if(S===a)return m;if(3===S||6===S)v=!0;else{if(1===S||2===S){let M=l[++m];for(;"string"==typeof M;)M=l[++m];continue}if(4===S)break;if(0===S){m+=4;continue}}m+=v?1:2}return-1}return function S8(a,l){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const f=a[d];if("number"==typeof f)return-1;if(f===l)return d;d++}return-1}(l,a)}function xR(a,l,d=!1){for(let f=0;f<l.length;f++)if(w8(a,l[f],d))return!0;return!1}function x8(a,l){e:for(let d=0;d<l.length;d++){const f=l[d];if(a.length===f.length){for(let m=0;m<a.length;m++)if(a[m]!==f[m])continue e;return!0}}return!1}function AR(a,l){return a?":not("+l.trim()+")":l}function A8(a){let l=a[0],d=1,f=2,m="",v=!1;for(;d<a.length;){let S=a[d];if("string"==typeof S)if(2&f){const M=a[++d];m+="["+S+(M.length>0?'="'+M+'"':"")+"]"}else 8&f?m+="."+S:4&f&&(m+=" "+S);else""!==m&&!Xc(S)&&(l+=AR(v,m),m=""),f=S,v=v||!Xc(f);d++}return""!==m&&(l+=AR(v,m)),l}const Pr={};function TR(a){DR(Jr(),Ht(),Do()+a,!1)}function DR(a,l,d,f){if(!f)if(3==(3&l[2])){const v=a.preOrderCheckHooks;null!==v&&Tm(l,v,d)}else{const v=a.preOrderHooks;null!==v&&Il(l,v,0,d)}qc(d)}function Bx(a,l=null,d=null,f){const m=Gw(a,l,d,f);return m.resolveInjectorInitializers(),m}function Gw(a,l=null,d=null,f,m=new Set){const v=[d||Bt,n8(a)];return f=f||("object"==typeof a?void 0:it(a)),new gR(v,l||Dp(),f||null,m)}let Rh=(()=>{class a{static create(d,f){if(Array.isArray(d))return Bx({name:""},f,d,"");{const m=d.name??"";return Bx({name:m},d.parent,d.providers,m)}}}return a.THROW_IF_NOT_FOUND=Hr,a.NULL=new uR,a.\u0275prov=It({token:a,providedIn:"any",factory:()=>Qt(cR)}),a.__NG_ELEMENT_ID__=-1,a})();function Rp(a,l=bt.Default){const d=Ht();return null===d?Qt(a,l):Lm(Ks(),d,Ae(a),l)}function kp(){throw new Error("invalid")}function Yw(a,l){const d=a.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const m=d[f],v=d[f+1];if(-1!==v){const S=a.data[v];m0(m),S.contentQueries(2,l[v],v)}}}function Hs(a,l,d,f,m,v,S,M,k,B,$){const ue=l.blueprint.slice();return ue[0]=m,ue[2]=76|f,(null!==$||a&&1024&a[2])&&(ue[2]|=1024),ep(ue),ue[3]=ue[15]=a,ue[8]=d,ue[10]=S||a&&a[10],ue[11]=M||a&&a[11],ue[12]=k||a&&a[12]||null,ue[9]=B||a&&a[9]||null,ue[6]=v,ue[20]=function JS(){return QS++}(),ue[21]=$,ue[16]=2==l.type?a[16]:ue,ue}function $a(a,l,d,f,m){let v=a.data[l];if(null===v)v=function sd(a,l,d,f,m){const v=tp(),S=iu(),k=a.data[l]=function bc(a,l,d,f,m,v){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?v:v&&v.parent,d,l,f,m);return null===a.firstChild&&(a.firstChild=k),null!==v&&(S?null==v.child&&null!==k.parent&&(v.child=k):null===v.next&&(v.next=k)),k}(a,l,d,f,m),function TS(){return br.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=d,v.value=f,v.attrs=m;const S=function ch(){const a=br.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();v.injectorIndex=null===S?-1:S.injectorIndex}return Go(v,!0),v}function Dl(a,l,d,f){if(0===d)return-1;const m=l.length;for(let v=0;v<d;v++)l.push(f),a.blueprint.push(f),a.data.push(null);return m}function kh(a,l,d){ow(l);try{const f=a.viewQuery;null!==f&&iE(1,f,d);const m=a.template;null!==m&&Xw(a,l,m,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Yw(a,l),a.staticViewQueries&&iE(2,a.viewQuery,d);const v=a.components;null!==v&&function Ui(a,l){for(let d=0;d<l.length;d++)Jx(a,l[d])}(l,v)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{l[2]&=-5,ip()}}function a_(a,l,d,f){const m=l[2];if(128!=(128&m)){ow(l);try{ep(l),function tw(a){return br.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&Xw(a,l,d,2,f);const S=3==(3&m);if(S){const B=a.preOrderCheckHooks;null!==B&&Tm(l,B,null)}else{const B=a.preOrderHooks;null!==B&&Il(l,B,0,null),lh(l,0)}if(function Qx(a){for(let l=Qm(a);null!==l;l=V0(l)){if(!l[2])continue;const d=l[9];for(let f=0;f<d.length;f++){const m=d[f],v=m[3];0==(512&m[2])&&Cm(v,1),m[2]|=512}}}(l),function Xx(a){for(let l=Qm(a);null!==l;l=V0(l))for(let d=10;d<l.length;d++){const f=l[d],m=f[1];Em(f)&&a_(m,f,m.template,f[8])}}(l),null!==a.contentQueries&&Yw(a,l),S){const B=a.contentCheckHooks;null!==B&&Tm(l,B)}else{const B=a.contentHooks;null!==B&&Il(l,B,1),lh(l,1)}!function Fi(a,l){const d=a.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const m=d[f];if(m<0)qc(~m);else{const v=m,S=d[++f],M=d[++f];DS(S,v),M(2,l[v])}}}finally{qc(-1)}}(a,l);const M=a.components;null!==M&&function $R(a,l){for(let d=0;d<l.length;d++)nv(a,l[d])}(l,M);const k=a.viewQuery;if(null!==k&&iE(2,k,f),S){const B=a.viewCheckHooks;null!==B&&Tm(l,B)}else{const B=a.viewHooks;null!==B&&Il(l,B,2),lh(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Cm(l[3],-1))}finally{ip()}}}function Xw(a,l,d,f,m){const v=Do(),S=2&f;try{qc(-1),S&&l.length>22&&DR(a,l,22,!1),d(f,m)}finally{qc(v)}}function c_(a,l,d){if(zc(l)){const m=l.directiveEnd;for(let v=l.directiveStart;v<m;v++){const S=a.data[v];S.contentQueries&&S.contentQueries(1,d[v],v)}}}function Op(a,l,d){!J1()||(function Nl(a,l,d,f){const m=d.directiveStart,v=d.directiveEnd;a.firstCreatePass||km(d,l),N(f,l);const S=d.initialInputs;for(let M=m;M<v;M++){const k=a.data[M],B=Ao(k);B&&Zx(l,d,k);const $=mh(l,a,M,d);N($,l),null!==S&&tv(0,M-m,$,k,0,S),B&&(ca(d.index,l)[8]=$)}}(a,l,d,To(d,l)),64==(64&d.flags)&&Fh(a,l,d))}function Z0(a,l,d=To){const f=l.localNames;if(null!==f){let m=l.index+1;for(let v=0;v<f.length;v+=2){const S=f[v+1],M=-1===S?d(l,a):a[S];a[m++]=M}}}function Qw(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=l_(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function l_(a,l,d,f,m,v,S,M,k,B){const $=22+f,ue=$+m,Me=function u_(a,l){const d=[];for(let f=0;f<l;f++)d.push(f<a?null:Pr);return d}($,ue),We="function"==typeof B?B():B;return Me[1]={type:a,blueprint:Me,template:d,queries:null,viewQuery:M,declTNode:l,data:Me.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:k,consts:We,incompleteFirstPass:!1}}function hu(a,l,d,f){const m=iv(l);null===d?m.push(f):(m.push(d),a.firstCreatePass&&Uh(a).push(f,m.length-1))}function Ml(a,l,d,f){for(let m in a)if(a.hasOwnProperty(m)){d=null===d?{}:d;const v=a[m];null===f?Oh(d,l,m,v):f.hasOwnProperty(m)&&Oh(d,l,f[m],v)}return d}function Oh(a,l,d,f){a.hasOwnProperty(d)?a[d].push(l,f):a[d]=[l,f]}function Jw(a,l){const d=ca(l,a);16&d[2]||(d[2]|=32)}function Lp(a,l,d,f){let m=!1;if(J1()){const v=null===f?null:{"":-1},S=function J0(a,l){const d=a.directiveRegistry;let f=null,m=null;if(d)for(let v=0;v<d.length;v++){const S=d[v];if(xR(l,S.selectors,!1))if(f||(f=[]),Ao(S))if(null!==S.findHostDirectiveDefs){const M=[];m=m||new Map,S.findHostDirectiveDefs(S,M,m),f.unshift(...M,S),d_(a,l,M.length)}else f.unshift(S),d_(a,l,0);else m=m||new Map,S.findHostDirectiveDefs?.(S,f,m),f.push(S)}return null===f?null:[f,m]}(a,d);let M,k;null===S?M=k=null:[M,k]=S,null!==M&&(m=!0,Fp(a,l,d,M,v,k)),v&&function Bp(a,l,d){if(l){const f=a.localNames=[];for(let m=0;m<l.length;m+=2){const v=d[l[m+1]];if(null==v)throw new rt(-301,!1);f.push(l[m],v)}}}(d,f,v)}return d.mergedAttrs=Cl(d.mergedAttrs,d.attrs),m}function Fp(a,l,d,f,m,v){for(let B=0;B<f.length;B++)Om(km(d,l),a,f[B].type);!function eE(a,l,d){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+d,a.providerIndexes=l}(d,a.data.length,f.length);for(let B=0;B<f.length;B++){const $=f[B];$.providersResolver&&$.providersResolver($)}let S=!1,M=!1,k=Dl(a,l,f.length,null);for(let B=0;B<f.length;B++){const $=f[B];d.mergedAttrs=Cl(d.mergedAttrs,$.hostAttrs),Kx(a,d,l,k,$),h_(k,$,m),null!==$.contentQueries&&(d.flags|=4),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(d.flags|=64);const ue=$.type.prototype;!S&&(ue.ngOnChanges||ue.ngOnInit||ue.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(d.index),S=!0),!M&&(ue.ngOnChanges||ue.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(d.index),M=!0),k++}!function qx(a,l,d){const m=l.directiveEnd,v=a.data,S=l.attrs,M=[];let k=null,B=null;for(let $=l.directiveStart;$<m;$++){const ue=v[$],Me=d?d.get(ue):null,wt=Me?Me.outputs:null;k=Ml(ue.inputs,$,k,Me?Me.inputs:null),B=Ml(ue.outputs,$,B,wt);const nn=null===k||null===S||qw(l)?null:Yx(k,$,S);M.push(nn)}null!==k&&(k.hasOwnProperty("class")&&(l.flags|=8),k.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=M,l.inputs=k,l.outputs=B}(a,d,v)}function Fh(a,l,d){const f=d.directiveStart,m=d.directiveEnd,v=d.index,S=function MS(){return br.lFrame.currentDirectiveIndex}();try{qc(v);for(let M=f;M<m;M++){const k=a.data[M],B=l[M];p0(M),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&Q0(k,B)}}finally{qc(-1),p0(S)}}function Q0(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function d_(a,l,d){l.componentOffset=d,(a.components||(a.components=[])).push(l.index)}function h_(a,l,d){if(d){if(l.exportAs)for(let f=0;f<l.exportAs.length;f++)d[l.exportAs[f]]=a;Ao(l)&&(d[""]=a)}}function Kx(a,l,d,f,m){a.data[f]=m;const v=m.factory||(m.factory=Yu(m.type)),S=new hc(v,Ao(m),Rp);a.blueprint[f]=S,d[f]=S,function Lh(a,l,d,f,m){const v=m.hostBindings;if(v){let S=a.hostBindingOpCodes;null===S&&(S=a.hostBindingOpCodes=[]);const M=~l.index;(function X0(a){let l=a.length;for(;l>0;){const d=a[--l];if("number"==typeof d&&d<0)return d}return 0})(S)!=M&&S.push(M),S.push(d,f,v)}}(a,l,f,Dl(a,d,m.hostVars,Pr),m)}function Zx(a,l,d){const f=To(l,a),m=Qw(d),v=a[10],S=Up(a,Hs(a,m,null,d.onPush?32:16,f,l,v,v.createRenderer(f,d),null,null,null));a[l.index]=S}function Jc(a,l,d,f,m,v){const S=To(a,l);!function ev(a,l,d,f,m,v,S){if(null==v)a.removeAttribute(l,m,d);else{const M=null==S?Dt(v):S(v,f||"",m);a.setAttribute(l,m,M,d)}}(l[11],S,v,a.value,d,f,m)}function tv(a,l,d,f,m,v){const S=v[l];if(null!==S){const M=f.setInput;for(let k=0;k<S.length;){const B=S[k++],$=S[k++],ue=S[k++];null!==M?f.setInput(d,ue,B,$):d[$]=ue}}}function Yx(a,l,d){let f=null,m=0;for(;m<d.length;){const v=d[m];if(0!==v)if(5!==v){if("number"==typeof v)break;if(a.hasOwnProperty(v)){null===f&&(f=[]);const S=a[v];for(let M=0;M<S.length;M+=2)if(S[M]===l){f.push(v,S[M+1],d[m+1]);break}}m+=2}else m+=2;else m+=4}return f}function f_(a,l,d,f){return[a,!0,!1,l,null,0,f,d,null,null]}function nv(a,l){const d=ca(l,a);if(Em(d)){const f=d[1];48&d[2]?a_(f,d,f.template,d[8]):d[5]>0&&tE(d)}}function tE(a){for(let f=Qm(a);null!==f;f=V0(f))for(let m=10;m<f.length;m++){const v=f[m];if(Em(v))if(512&v[2]){const S=v[1];a_(S,v,S.template,v[8])}else v[5]>0&&tE(v)}const d=a[1].components;if(null!==d)for(let f=0;f<d.length;f++){const m=ca(d[f],a);Em(m)&&m[5]>0&&tE(m)}}function Jx(a,l){const d=ca(l,a),f=d[1];(function nE(a,l){for(let d=l.length;d<a.blueprint.length;d++)l.push(a.blueprint[d])})(f,d),kh(f,d,d[8])}function Up(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function rE(a){for(;a;){a[2]|=32;const l=Sh(a);if(mS(a)&&!l)return a;a=l}return null}function rv(a,l,d,f=!0){const m=l[10];m.begin&&m.begin();try{a_(a,l,a.template,d)}catch(S){throw f&&qR(l,S),S}finally{m.end&&m.end()}}function iE(a,l,d){m0(0),l(a,d)}function iv(a){return a[7]||(a[7]=[])}function Uh(a){return a.cleanup||(a.cleanup=[])}function qR(a,l){const d=a[9],f=d?d.get(G0,null):null;f&&f.handleError(l)}function Wa(a,l,d,f,m){for(let v=0;v<d.length;){const S=d[v++],M=d[v++],k=l[S],B=a.data[S];null!==B.setInput?B.setInput(k,m,f,M):k[M]=m}}function $s(a,l,d){let f=d?a.styles:null,m=d?a.classes:null,v=0;if(null!==l)for(let S=0;S<l.length;S++){const M=l[S];"number"==typeof M?v=M:1==v?m=dt(m,M):2==v&&(f=dt(f,M+": "+l[++S]+";"))}d?a.styles=f:a.stylesWithoutHost=f,d?a.classes=m:a.classesWithoutHost=m}function p_(a,l,d,f,m=!1){for(;null!==d;){const v=l[d.index];if(null!==v&&f.push(Gs(v)),aa(v))for(let M=10;M<v.length;M++){const k=v[M],B=k[1].firstChild;null!==B&&p_(k[1],k,B,f)}const S=d.type;if(8&S)p_(a,l,d.child,f);else if(32&S){const M=Ip(d,l);let k;for(;k=M();)f.push(k)}else if(16&S){const M=Ow(l,d);if(Array.isArray(M))f.push(...M);else{const k=Sh(l[16]);p_(k[1],k,M,f,!0)}}d=m?d.projectionNext:d.next}return f}class jp{constructor(l,d){this._lView=l,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,d=l[1];return p_(d,l,d.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(aa(l)){const d=l[8],f=d?d.indexOf(this):-1;f>-1&&(ix(l,f),Gc(d,f))}this._attachedToViewContainer=!1}kP(this._lView[1],this._lView)}onDestroy(l){hu(this._lView[1],this._lView,null,l)}markForCheck(){rE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){rv(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new rt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function FU(a,l){Ta(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new rt(902,!1);this._appRef=l}}class eA extends jp{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;rv(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class sE extends Mp{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const d=Kn(l);return new sv(d,this.ngModule)}}function oE(a){const l=[];for(let d in a)a.hasOwnProperty(d)&&l.push({propName:a[d],templateName:d});return l}class H8{constructor(l,d){this.injector=l,this.parentInjector=d}get(l,d,f){f=qn(f);const m=this.injector.get(l,Nx,f);return m!==Nx||d===Nx?m:this.parentInjector.get(l,d,f)}}class sv extends vR{constructor(l,d){super(),this.componentDef=l,this.ngModule=d,this.componentType=l.type,this.selector=function T8(a){return a.map(A8).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return oE(this.componentDef.inputs)}get outputs(){return oE(this.componentDef.outputs)}create(l,d,f,m){let v=(m=m||this.ngModule)instanceof Nh?m:m?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const S=v?new H8(l,v):l,M=S.get(Ph,null);if(null===M)throw new rt(407,!1);const k=S.get(h8,null),B=M.createRenderer(null,this.componentDef),$=this.componentDef.selectors[0][0]||"div",ue=f?function cs(a,l,d){return a.selectRootElement(l,d===tt.ShadowDom)}(B,f,this.componentDef.encapsulation):rx(B,$,function tA(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}($)),Me=this.componentDef.onPush?288:272,We=l_(0,null,null,1,0,null,null,null,null,null),wt=Hs(null,We,null,Me,null,null,M,B,k,S,null);let nn,dn;ow(wt);try{const Wn=this.componentDef;let dr,Gt=null;Wn.findHostDirectiveDefs?(dr=[],Gt=new Map,Wn.findHostDirectiveDefs(Wn,dr,Gt),dr.push(Wn)):dr=[Wn];const Ar=function ov(a,l){const d=a[1];return a[22]=l,$a(d,22,2,"#host",null)}(wt,ue),qi=function q8(a,l,d,f,m,v,S,M){const k=m[1];!function G8(a,l,d,f){for(const m of a)l.mergedAttrs=Cl(l.mergedAttrs,m.hostAttrs);null!==l.mergedAttrs&&($s(l,l.mergedAttrs,!0),null!==d&&hx(f,d,l))}(f,a,l,S);const B=v.createRenderer(l,d),$=Hs(m,Qw(d),null,d.onPush?32:16,m[a.index],a,v,B,M||null,null,null);return k.firstCreatePass&&d_(k,a,f.length-1),Up(m,$),m[a.index]=$}(Ar,ue,Wn,dr,wt,M,B);dn=c0(We,22),ue&&function g_(a,l,d,f){if(f)ou(a,d,["ng-version",Mx.full]);else{const{attrs:m,classes:v}=function D8(a){const l=[],d=[];let f=1,m=2;for(;f<a.length;){let v=a[f];if("string"==typeof v)2===m?""!==v&&l.push(v,a[++f]):8===m&&d.push(v);else{if(!Xc(m))break;m=v}f++}return{attrs:l,classes:d}}(l.selectors[0]);m&&ou(a,d,m),v&&v.length>0&&Lw(a,d,v.join(" "))}}(B,Wn,ue,f),void 0!==d&&function K8(a,l,d){const f=a.projection=[];for(let m=0;m<l.length;m++){const v=d[m];f.push(null!=v?Array.from(v):null)}}(dn,this.ngContentSelectors,d),nn=function nA(a,l,d,f,m,v){const S=Ks(),M=m[1],k=To(S,m);Fp(M,m,S,d,null,f);for(let $=0;$<d.length;$++)N(mh(m,M,S.directiveStart+$,S),m);Fh(M,m,S),k&&N(k,m);const B=mh(m,M,S.directiveStart+S.componentOffset,S);if(a[8]=m[8]=B,null!==v)for(const $ of v)$(B,l);return c_(M,S,a),B}(qi,Wn,dr,Gt,wt,[Z8]),kh(We,wt,null)}finally{ip()}return new $8(this.componentType,nn,i_(dn,wt),wt,dn)}}class $8 extends o8{constructor(l,d,f,m,v){super(),this.location=f,this._rootLView=m,this._tNode=v,this.instance=d,this.hostView=this.changeDetectorRef=new eA(m),this.componentType=l}setInput(l,d){const f=this._tNode.inputs;let m;if(null!==f&&(m=f[l])){const v=this._rootLView;Wa(v[1],v,m,l,d),Jw(v,this._tNode.index)}}get injector(){return new xl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function Z8(){const a=Ks();ap(Ht()[1],a)}function av(a){let l=function GR(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const f=[a];for(;l;){let m;if(Ao(a))m=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new rt(903,!1);m=l.\u0275dir}if(m){if(d){f.push(m);const S=a;S.inputs=rA(a.inputs),S.declaredInputs=rA(a.declaredInputs),S.outputs=rA(a.outputs);const M=m.hostBindings;M&&X8(a,M);const k=m.viewQuery,B=m.contentQueries;if(k&&KR(a,k),B&&aE(a,B),Ge(a.inputs,m.inputs),Ge(a.declaredInputs,m.declaredInputs),Ge(a.outputs,m.outputs),Ao(m)&&m.data.animation){const $=a.data;$.animation=($.animation||[]).concat(m.data.animation)}}const v=m.features;if(v)for(let S=0;S<v.length;S++){const M=v[S];M&&M.ngInherit&&M(a),M===av&&(d=!1)}}l=Object.getPrototypeOf(l)}!function Y8(a){let l=0,d=null;for(let f=a.length-1;f>=0;f--){const m=a[f];m.hostVars=l+=m.hostVars,m.hostAttrs=Cl(m.hostAttrs,d=Cl(d,m.hostAttrs))}}(f)}function rA(a){return a===$t?{}:a===Bt?[]:a}function KR(a,l){const d=a.viewQuery;a.viewQuery=d?(f,m)=>{l(f,m),d(f,m)}:l}function aE(a,l){const d=a.contentQueries;a.contentQueries=d?(f,m,v)=>{l(f,m,v),d(f,m,v)}:l}function X8(a,l){const d=a.hostBindings;a.hostBindings=d?(f,m)=>{l(f,m),d(f,m)}:l}let cE=null;function Vp(){if(!cE){const a=hn.Symbol;if(a&&a.iterator)cE=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<l.length;++d){const f=l[d];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(cE=f)}}}return cE}function zp(a){return!!lv(a)&&(Array.isArray(a)||!(a instanceof Map)&&Vp()in a)}function lv(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function da(a,l,d){return!Object.is(a[l],d)&&(a[l]=d,!0)}function pr(a,l,d,f){const m=Ht();return da(m,uc(),l)&&(Jr(),Jc(xi(),m,a,l,d,f)),pr}function dv(a,l,d,f,m,v,S,M){const k=Ht(),B=Jr(),$=a+22,ue=B.firstCreatePass?function ek(a,l,d,f,m,v,S,M,k){const B=l.consts,$=$a(l,a,4,S||null,$c(B,M));Lp(l,d,$,$c(B,k)),ap(l,$);const ue=$.tViews=l_(2,$,f,m,v,l.directiveRegistry,l.pipeRegistry,null,l.schemas,B);return null!==l.queries&&(l.queries.template(l,$),ue.queries=l.queries.embeddedTView($)),$}($,B,k,l,d,f,m,v,S):B.data[$];Go(ue,!1);const Me=k[11].createComment("");t_(B,k,Me,ue),N(Me,k),Up(k,k[$]=f_(Me,k,Me,ue)),Zf(ue)&&Op(B,k,ue),null!=S&&Z0(k,ue,M)}function y_(a,l,d){const f=Ht();return da(f,uc(),l)&&function Da(a,l,d,f,m,v,S,M){const k=To(l,d);let $,B=l.inputs;!M&&null!=B&&($=B[f])?(Wa(a,d,$,f,m),Kf(l)&&Jw(d,l.index)):3&l.type&&(f=function Gx(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),m=null!=S?S(m,l.value||"",f):m,v.setProperty(k,f,m))}(Jr(),xi(),f,a,l,f[11],d,!1),y_}function hv(a,l,d,f,m){const S=m?"class":"style";Wa(a,d,l.inputs[S],S,f)}function pu(a,l,d,f){const m=Ht(),v=Jr(),S=22+a,M=m[11],k=m[S]=rx(M,l,function aw(){return br.lFrame.currentNamespace}()),B=v.firstCreatePass?function Wp(a,l,d,f,m,v,S){const M=l.consts,B=$a(l,a,2,m,$c(M,v));return Lp(l,d,B,$c(M,S)),null!==B.attrs&&$s(B,B.attrs,!1),null!==B.mergedAttrs&&$s(B,B.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,B),B}(S,v,m,0,l,d,f):v.data[S];return Go(B,!0),hx(M,k,B),32!=(32&B.flags)&&t_(v,m,k,B),0===function CS(){return br.lFrame.elementDepthCount}()&&N(k,m),function SS(){br.lFrame.elementDepthCount++}(),Zf(B)&&(Op(v,m,B),c_(v,B,m)),null!==f&&Z0(m,B),pu}function v_(){let a=Ks();iu()?np():(a=a.parent,Go(a,!1));const l=a;!function u0(){br.lFrame.elementDepthCount--}();const d=Jr();return d.firstCreatePass&&(ap(d,a),zc(a)&&d.queries.elementEnd(a)),null!=l.classesWithoutHost&&function lw(a){return 0!=(8&a.flags)}(l)&&hv(d,l,Ht(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Mm(a){return 0!=(16&a.flags)}(l)&&hv(d,l,Ht(),l.stylesWithoutHost,!1),v_}function qp(a,l,d,f){return pu(a,l,d,f),v_(),qp}function b_(a){return!!a&&"function"==typeof a.then}function dd(a){return!!a&&"function"==typeof a.subscribe}const zh=dd;function xr(a,l,d,f){const m=Ht(),v=Jr(),S=Ks();return function hE(a,l,d,f,m,v,S){const M=Zf(f),B=a.firstCreatePass&&Uh(a),$=l[8],ue=iv(l);let Me=!0;if(3&f.type||S){const nn=To(f,l),dn=S?S(nn):nn,Wn=ue.length,dr=S?Ar=>S(Gs(Ar[f.index])):f.index;let Gt=null;if(!S&&M&&(Gt=function Ma(a,l,d,f){const m=a.cleanup;if(null!=m)for(let v=0;v<m.length-1;v+=2){const S=m[v];if(S===d&&m[v+1]===f){const M=l[7],k=m[v+2];return M.length>k?M[k]:null}"string"==typeof S&&(v+=2)}return null}(a,l,m,f.index)),null!==Gt)(Gt.__ngLastListenerFn__||Gt).__ngNextListenerFn__=v,Gt.__ngLastListenerFn__=v,Me=!1;else{v=lA(f,l,$,v,!1);const Ar=d.listen(dn,m,v);ue.push(v,Ar),B&&B.push(m,dr,Wn,Wn+1)}}else v=lA(f,l,$,v,!1);const We=f.outputs;let wt;if(Me&&null!==We&&(wt=We[m])){const nn=wt.length;if(nn)for(let dn=0;dn<nn;dn+=2){const qi=l[wt[dn]][wt[dn+1]].subscribe(v),Es=ue.length;ue.push(v,qi),B&&B.push(m,f.index,Es,-(Es+1))}}}(v,m,m[11],S,a,l,f),xr}function tl(a,l,d,f){try{return!1!==d(f)}catch(m){return qR(a,m),!1}}function lA(a,l,d,f,m){return function v(S){if(S===Function)return f;rE(a.componentOffset>-1?ca(a.index,l):l);let k=tl(l,0,f,S),B=v.__ngNextListenerFn__;for(;B;)k=tl(l,0,B,S)&&k,B=B.__ngNextListenerFn__;return m&&!1===k&&(S.preventDefault(),S.returnValue=!1),k}}function uA(a=1){return function RS(a){return(br.lFrame.contextLView=function kS(a,l){for(;a>0;)l=l[15],a--;return l}(a,br.lFrame.contextLView))[8]}(a)}function nk(a,l){let d=null;const f=function I8(a){const l=a.attrs;if(null!=l){const d=l.indexOf(5);if(0==(1&d))return l[d+1]}return null}(a);for(let m=0;m<l.length;m++){const v=l[m];if("*"!==v){if(null===f?xR(a,v,!0):x8(f,v))return m}else d=m}return d}function Ms(a){const l=Ht()[16][6];if(!l.projection){const f=l.projection=mc(a?a.length:1,null),m=f.slice();let v=l.child;for(;null!==v;){const S=a?nk(v,a):0;null!==S&&(m[S]?m[S].projectionNext=v:f[S]=v,m[S]=v),v=v.next}}}function Ns(a,l=0,d){const f=Ht(),m=Jr(),v=$a(m,22+a,16,null,d||null);null===v.projection&&(v.projection=l),np(),32!=(32&v.flags)&&function Ko(a,l,d){dx(l[11],0,l,d,OP(a,d,l),UP(d.parent||l[6],d,l))}(m,f,v)}function Gp(a,l){return a<<17|l<<2}function Oo(a){return a>>17&32767}function Ga(a){return 2|a}function Ec(a){return(131068&a)>>2}function hd(a,l){return-131069&a|l<<2}function Zp(a){return 1|a}function E_(a,l,d,f,m){const v=a[d+1],S=null===l;let M=f?Oo(v):Ec(v),k=!1;for(;0!==M&&(!1===k||S);){const $=a[M+1];Hh(a[M],l)&&(k=!0,a[M+1]=f?Zp($):Ga($)),M=f?Oo($):Ec($)}k&&(a[d+1]=f?Ga(v):Zp(v))}function Hh(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Kc(a,l)>=0}function wE(a,l,d){return Ic(a,l,d,!1),wE}function mv(a,l){return Ic(a,l,null,!0),mv}function Ic(a,l,d,f){const m=Ht(),v=Jr(),S=function Wc(a){const l=br.lFrame,d=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,d}(2);v.firstUpdatePass&&function I_(a,l,d,f){const m=a.data;if(null===m[d+1]){const v=m[Do()],S=function Wh(a,l){return l>=a.expandoStartIndex}(a,d);(function rl(a,l){return 0!=(a.flags&(l?8:16))})(v,f)&&null===l&&!S&&(l=!1),l=function vA(a,l,d,f){const m=function rw(a){const l=br.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let v=f?l.residualClasses:l.residualStyles;if(null===m)0===(f?l.classBindings:l.styleBindings)&&(d=Xp(d=EE(null,a,l,d,f),l.attrs,f),v=null);else{const S=l.directiveStylingLast;if(-1===S||a[S]!==m)if(d=EE(m,a,l,d,f),null===v){let k=function bA(a,l,d){const f=d?l.classBindings:l.styleBindings;if(0!==Ec(f))return a[Oo(f)]}(a,l,f);void 0!==k&&Array.isArray(k)&&(k=EE(null,a,l,k[1],f),k=Xp(k,l.attrs,f),function wA(a,l,d,f){a[Oo(d?l.classBindings:l.styleBindings)]=f}(a,l,f,k))}else v=function ck(a,l,d){let f;const m=l.directiveEnd;for(let v=1+l.directiveStylingLast;v<m;v++)f=Xp(f,a[v].hostAttrs,d);return Xp(f,l.attrs,d)}(a,l,f)}return void 0!==v&&(f?l.residualClasses=v:l.residualStyles=v),d}(m,v,l,f),function Yp(a,l,d,f,m,v){let S=v?l.classBindings:l.styleBindings,M=Oo(S),k=Ec(S);a[f]=d;let $,B=!1;if(Array.isArray(d)){const ue=d;$=ue[1],(null===$||Kc(ue,$)>0)&&(B=!0)}else $=d;if(m)if(0!==k){const Me=Oo(a[M+1]);a[f+1]=Gp(Me,M),0!==Me&&(a[Me+1]=hd(a[Me+1],f)),a[M+1]=function _A(a,l){return 131071&a|l<<17}(a[M+1],f)}else a[f+1]=Gp(M,0),0!==M&&(a[M+1]=hd(a[M+1],f)),M=f;else a[f+1]=Gp(k,0),0===M?M=f:a[k+1]=hd(a[k+1],f),k=f;B&&(a[f+1]=Ga(a[f+1])),E_(a,$,f,!0),E_(a,$,f,!1),function pv(a,l,d,f,m){const v=m?a.residualClasses:a.residualStyles;null!=v&&"string"==typeof l&&Kc(v,l)>=0&&(d[f+1]=Zp(d[f+1]))}(l,$,a,f,v),S=Gp(M,k),v?l.classBindings=S:l.styleBindings=S}(m,v,l,d,S,f)}}(v,a,S,f),l!==Pr&&da(m,S,l)&&function Sc(a,l,d,f,m,v,S,M){if(!(3&l.type))return;const k=a.data,B=k[M+1],$=function Kp(a){return 1==(1&a)}(B)?_u(k,l,d,m,Ec(B),S):void 0;yv($)||(yv(v)||function mA(a){return 2==(2&a)}(B)&&(v=_u(k,null,d,m,M,S)),function HP(a,l,d,f,m){if(l)m?a.addClass(d,f):a.removeClass(d,f);else{let v=-1===f.indexOf("-")?void 0:Zc.DashCase;null==m?a.removeStyle(d,f,v):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),v|=Zc.Important),a.setStyle(d,f,m,v))}}(f,S,ru(Do(),d),m,v))}(v,v.data[Do()],m,m[11],a,m[S+1]=function lk(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=it(Yc(a)))),a}(l,d),f,S)}function EE(a,l,d,f,m){let v=null;const S=d.directiveEnd;let M=d.directiveStylingLast;for(-1===M?M=d.directiveStart:M++;M<S&&(v=l[M],f=Xp(f,v.hostAttrs,m),v!==a);)M++;return null!==a&&(d.directiveStylingLast=M),f}function Xp(a,l,d){const f=d?1:2;let m=-1;if(null!==l)for(let v=0;v<l.length;v++){const S=l[v];"number"==typeof S?m=S:m===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),la(a,S,!!d||l[++v]))}return void 0===a?null:a}function _u(a,l,d,f,m,v){const S=null===l;let M;for(;m>0;){const k=a[m],B=Array.isArray(k),$=B?k[1]:k,ue=null===$;let Me=d[m+1];Me===Pr&&(Me=ue?Bt:void 0);let We=ue?Hm(Me,f):$===f?Me:void 0;if(B&&!yv(We)&&(We=Hm(k,f)),yv(We)&&(M=We,S))return M;const wt=a[m+1];m=S?Oo(wt):Ec(wt)}if(null!==l){let k=v?l.residualClasses:l.residualStyles;null!=k&&(M=Hm(k,f))}return M}function yv(a){return void 0!==a}function IA(a,l=""){const d=Ht(),f=Jr(),m=a+22,v=f.firstCreatePass?$a(f,m,1,l,null):f.data[m],S=d[m]=function nx(a,l){return a.createText(l)}(d[11],l);t_(f,d,S,v),Go(v,!1)}function vv(a){return C_("",a,""),vv}function C_(a,l,d){const f=Ht(),m=function bi(a,l,d,f){return da(a,uc(),d)?l+Dt(d)+f:Pr}(f,a,l,d);return m!==Pr&&function Qi(a,l,d){const f=ru(l,a);!function PP(a,l,d){a.setValue(l,d)}(a[11],f,d)}(f,Do(),m),C_}const ls=void 0;var SE=["en",[["a","p"],["AM","PM"],ls],[["AM","PM"],ls,ls],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ls,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ls,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ls,"{1} 'at' {0}",ls],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sj(a){const d=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===f?1:5}];let yo={};function gi(a){const l=function FA(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=xE(l);if(d)return d;const f=l.split("-")[0];if(d=xE(f),d)return d;if("en"===f)return SE;throw new rt(701,!1)}function Na(a){return gi(a)[ar.PluralCase]}function xE(a){return a in yo||(yo[a]=hn.ng&&hn.ng.common&&hn.ng.common.locales&&hn.ng.common.locales[a]),yo[a]}var ar=(()=>((ar=ar||{})[ar.LocaleId=0]="LocaleId",ar[ar.DayPeriodsFormat=1]="DayPeriodsFormat",ar[ar.DayPeriodsStandalone=2]="DayPeriodsStandalone",ar[ar.DaysFormat=3]="DaysFormat",ar[ar.DaysStandalone=4]="DaysStandalone",ar[ar.MonthsFormat=5]="MonthsFormat",ar[ar.MonthsStandalone=6]="MonthsStandalone",ar[ar.Eras=7]="Eras",ar[ar.FirstDayOfWeek=8]="FirstDayOfWeek",ar[ar.WeekendRange=9]="WeekendRange",ar[ar.DateFormat=10]="DateFormat",ar[ar.TimeFormat=11]="TimeFormat",ar[ar.DateTimeFormat=12]="DateTimeFormat",ar[ar.NumberSymbols=13]="NumberSymbols",ar[ar.NumberFormats=14]="NumberFormats",ar[ar.CurrencyCode=15]="CurrencyCode",ar[ar.CurrencySymbol=16]="CurrencySymbol",ar[ar.CurrencyName=17]="CurrencyName",ar[ar.Currencies=18]="Currencies",ar[ar.Directionality=19]="Directionality",ar[ar.PluralCase=20]="PluralCase",ar[ar.ExtraData=21]="ExtraData",ar))();const qh="en-US";let Jp=qh;class Xh{}class A_{}function pT(a,l){return new Ai(a,l??null)}class Ai extends Xh{constructor(l,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sE(this);const f=ki(l);this._bootstrapComponents=id(f.bootstrap),this._r3Injector=Gw(l,d,[{provide:Xh,useValue:this},{provide:Mp,useValue:this.componentFactoryResolver}],it(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class oi extends A_{constructor(l){super(),this.moduleType=l}create(l){return new Ai(this.moduleType,l)}}class Kr extends Xh{constructor(l,d,f){super(),this.componentFactoryResolver=new sE(this),this.instance=null;const m=new gR([...l,{provide:Xh,useValue:this},{provide:Mp,useValue:this.componentFactoryResolver}],d||Dp(),f,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Ll(a,l,d=null){return new Kr(a,l,d).injector}let Wi=(()=>{class a{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const f=dR(0,d.type),m=f.length>0?Ll([f],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,m)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=It({token:a,providedIn:"environment",factory:()=>new a(Qt(Nh))}),a})();function Pv(a){a.getStandaloneInjector=l=>l.get(Wi).getOrCreateStandaloneInjector(a)}function D_(a,l,d,f,m,v){const S=l+d;return da(a,S,m)?function qa(a,l,d){return a[l]=d}(a,S+1,v?f.call(v,m):f(m)):function Pa(a,l){const d=a[l];return d===Pr?void 0:d}(a,S+1)}function Ov(a,l){const d=Jr();let f;const m=a+22;d.firstCreatePass?(f=function HE(a,l){if(l)for(let d=l.length-1;d>=0;d--){const f=l[d];if(a===f.name)return f}}(l,d.pipeRegistry),d.data[m]=f,f.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(m,f.onDestroy)):f=d.data[m];const v=f.factory||(f.factory=Yu(f.type)),S=rr(Rp);try{const M=dp(!1),k=v();return dp(M),function tk(a,l,d,f){d>=a.data.length&&(a.data[d]=null,a.blueprint[d]=null),l[d]=f}(d,Ht(),m,k),k}finally{rr(S)}}function $E(a,l,d){const f=a+22,m=Ht(),v=function El(a,l){return a[l]}(m,f);return function og(a,l){return a[1].data[l].pure}(m,f)?D_(m,function co(){const a=br.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}(),l,v.transform,d,v):v.transform(d)}function WE(a){return l=>{setTimeout(a,void 0,l)}}const Fl=class Qk extends p.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,d,f){let m=l,v=d||(()=>null),S=f;if(l&&"object"==typeof l){const k=l;m=k.next?.bind(k),v=k.error?.bind(k),S=k.complete?.bind(k)}this.__isAsync&&(v=WE(v),m&&(m=WE(m)),S&&(S=WE(S)));const M=super.subscribe({next:m,error:v,complete:S});return l instanceof he.w0&&l.add(M),M}};function es(){return this._results[Vp()]()}class qE{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Vp(),f=qE.prototype;f[d]||(f[d]=es)}get changes(){return this._changes||(this._changes=new Fl)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,d){return this._results.reduce(l,d)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,d){const f=this;f.dirty=!1;const m=Mo(l);(this._changesDetected=!function S0(a,l,d){if(a.length!==l.length)return!1;for(let f=0;f<a.length;f++){let m=a[f],v=l[f];if(d&&(m=d(m),v=d(v)),v!==m)return!1}return!0}(f._results,m,d))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let M_=(()=>{class a{}return a.__NG_ELEMENT_ID__=ag,a})();const Lv=M_,GE=class extends Lv{constructor(l,d,f){super(),this._declarationLView=l,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(l,d){const f=this._declarationTContainer.tViews,m=Hs(this._declarationLView,f,l,16,null,f.declTNode,null,null,null,null,d||null);m[17]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[19];return null!==S&&(m[19]=S.createEmbeddedView(f)),kh(f,m,l),new jp(m)}};function ag(){return Tc(Ks(),Ht())}function Tc(a,l){return 4&a.type?new GE(l,a,i_(a,l)):null}let yd=(()=>{class a{}return a.__NG_ELEMENT_ID__=Rr,a})();function Rr(){return Fv(Ks(),Ht())}const Jk=yd,cg=class extends Jk{constructor(l,d,f){super(),this._lContainer=l,this._hostTNode=d,this._hostLView=f}get element(){return i_(this._hostTNode,this._hostLView)}get injector(){return new xl(this._hostTNode,this._hostLView)}get parentInjector(){const l=gh(this._hostTNode,this._hostLView);if(dh(l)){const d=fh(l,this._hostLView),f=hh(l);return new xl(d[1].data[f+8],d)}return new xl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const d=AT(this._lContainer);return null!==d&&d[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,d,f){let m,v;"number"==typeof f?m=f:null!=f&&(m=f.index,v=f.injector);const S=l.createEmbeddedView(d||{},v);return this.insert(S,m),S}createComponent(l,d,f,m,v){const S=l&&!function au(a){return"function"==typeof a}(l);let M;if(S)M=d;else{const ue=d||{};M=ue.index,f=ue.injector,m=ue.projectableNodes,v=ue.environmentInjector||ue.ngModuleRef}const k=S?l:new sv(Kn(l)),B=f||this.parentInjector;if(!v&&null==k.ngModule){const Me=(S?B:this.parentInjector).get(Nh,null);Me&&(v=Me)}const $=k.create(B,m,void 0,v);return this.insert($.hostView,M),$}insert(l,d){const f=l._lView,m=f[1];if(function Im(a){return aa(a[3])}(f)){const $=this.indexOf(l);if(-1!==$)this.detach($);else{const ue=f[3],Me=new cg(ue,ue[6],ue[3]);Me.detach(Me.indexOf(l))}}const v=this._adjustIndex(d),S=this._lContainer;!function UU(a,l,d,f){const m=10+f,v=d.length;f>0&&(d[m-1][4]=l),f<v-10?(l[4]=d[m],Vm(d,10+f,l)):(d.push(l),l[4]=null),l[3]=d;const S=l[17];null!==S&&d!==S&&function jU(a,l){const d=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===d?a[9]=[l]:d.push(l)}(S,l);const M=l[19];null!==M&&M.insertView(a),l[2]|=64}(m,f,S,v);const M=cx(v,S),k=f[11],B=kw(k,S[7]);return null!==B&&function LU(a,l,d,f,m,v){f[0]=m,f[6]=l,Ta(a,f,d,1,m,v)}(m,S[6],k,f,B,M),l.attachToViewContainerRef(),Vm(ds(S),v,l),l}move(l,d){return this.insert(l,d)}indexOf(l){const d=AT(this._lContainer);return null!==d?d.indexOf(l):-1}remove(l){const d=this._adjustIndex(l,-1),f=ix(this._lContainer,d);f&&(Gc(ds(this._lContainer),d),kP(f[1],f))}detach(l){const d=this._adjustIndex(l,-1),f=ix(this._lContainer,d);return f&&null!=Gc(ds(this._lContainer),d)?new jp(f):null}_adjustIndex(l,d=0){return l??this.length+d}};function AT(a){return a[8]}function ds(a){return a[8]||(a[8]=[])}function Fv(a,l){let d;const f=l[a.index];if(aa(f))d=f;else{let m;if(8&a.type)m=Gs(f);else{const v=l[11];m=v.createComment("");const S=To(a,l);Cp(v,kw(v,S),m,function $U(a,l){return a.nextSibling(l)}(v,S),!1)}l[a.index]=d=f_(f,l,m,a),Up(l,d)}return new cg(d,a,l)}class vd{constructor(l){this.queryList=l,this.matches=null}clone(){return new vd(this.queryList)}setDirty(){this.queryList.setDirty()}}class ef{constructor(l=[]){this.queries=l}createEmbeddedView(l){const d=l.queries;if(null!==d){const f=null!==l.contentQueries?l.contentQueries[0]:d.length,m=[];for(let v=0;v<f;v++){const S=d.getByIndex(v);m.push(this.queries[S.indexInDeclarationView].clone())}return new ef(m)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let d=0;d<this.queries.length;d++)null!==NT(l,d).matches&&this.queries[d].setDirty()}}class lg{constructor(l,d,f=null){this.predicate=l,this.flags=d,this.read=f}}class ZE{constructor(l=[]){this.queries=l}elementStart(l,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(l,d)}elementEnd(l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(l)}embeddedTView(l){let d=null;for(let f=0;f<this.length;f++){const m=null!==d?d.length:0,v=this.getByIndex(f).embeddedTView(l,m);v&&(v.indexInDeclarationView=f,null!==d?d.push(v):d=[v])}return null!==d?new ZE(d):null}template(l,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(l,d)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class N_{constructor(l,d=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(l,d){this.isApplyingToNode(d)&&this.matchTNode(l,d)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,d){this.elementStart(l,d)}embeddedTView(l,d){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,d),new N_(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=l.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(l,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const v=f[m];this.matchTNodeWithReadOption(l,d,P_(d,v)),this.matchTNodeWithReadOption(l,d,pp(d,l,v,!1,!1))}else f===M_?4&d.type&&this.matchTNodeWithReadOption(l,d,-1):this.matchTNodeWithReadOption(l,d,pp(d,l,f,!1,!1))}matchTNodeWithReadOption(l,d,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===s_||m===yd||m===M_&&4&d.type)this.addMatch(d.index,-2);else{const v=pp(d,l,m,!1,!1);null!==v&&this.addMatch(d.index,v)}else this.addMatch(d.index,f)}}addMatch(l,d){null===this.matches?this.matches=[l,d]:this.matches.push(l,d)}}function P_(a,l){const d=a.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===l)return d[f+1];return null}function Bv(a,l,d,f){return-1===d?function nO(a,l){return 11&a.type?i_(a,l):4&a.type?Tc(a,l):null}(l,a):-2===d?function rO(a,l,d){return d===s_?i_(l,a):d===M_?Tc(l,a):d===yd?Fv(l,a):void 0}(a,l,f):mh(a,a[1],d,l)}function TT(a,l,d,f){const m=l[19].queries[f];if(null===m.matches){const v=a.data,S=d.matches,M=[];for(let k=0;k<S.length;k+=2){const B=S[k];M.push(B<0?null:Bv(l,v[B],S[k+1],d.metadata.read))}m.matches=M}return m.matches}function YE(a,l,d,f){const m=a.queries.getByIndex(d),v=m.matches;if(null!==v){const S=TT(a,l,m,d);for(let M=0;M<v.length;M+=2){const k=v[M];if(k>0)f.push(S[M/2]);else{const B=v[M+1],$=l[-k];for(let ue=10;ue<$.length;ue++){const Me=$[ue];Me[17]===Me[3]&&YE(Me[1],Me,B,f)}if(null!==$[9]){const ue=$[9];for(let Me=0;Me<ue.length;Me++){const We=ue[Me];YE(We[1],We,B,f)}}}}}return f}function Uv(a){const l=Ht(),d=Jr(),f=g0();m0(f+1);const m=NT(d,f);if(a.dirty&&function wm(a){return 4==(4&a[2])}(l)===(2==(2&m.metadata.flags))){if(null===m.matches)a.reset([]);else{const v=m.crossesNgTemplate?YE(d,l,f,[]):TT(d,l,m,f);a.reset(v,wR),a.notifyOnChanges()}return!0}return!1}function DT(a,l,d){const f=Jr();f.firstCreatePass&&(QE(f,new lg(a,l,d),-1),2==(2&l)&&(f.staticViewQueries=!0)),XE(f,Ht(),l)}function jv(a,l,d,f){const m=Jr();if(m.firstCreatePass){const v=Ks();QE(m,new lg(l,d,f),v.index),function zv(a,l){const d=a.contentQueries||(a.contentQueries=[]);l!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,l)}(m,a),2==(2&d)&&(m.staticContentQueries=!0)}XE(m,Ht(),d)}function MT(){return function Vv(a,l){return a[19].queries[l].queryList}(Ht(),g0())}function XE(a,l,d){const f=new qE(4==(4&d));hu(a,l,f,f.destroy),null===l[19]&&(l[19]=new ef),l[19].queries.push(new vd(f))}function QE(a,l,d){null===a.queries&&(a.queries=new ZE),a.queries.track(new N_(l,d))}function NT(a,l){return a.queries.getByIndex(l)}function U_(...a){}const $T=new Oi("Application Initializer");let hg=(()=>{class a{constructor(d){this.appInits=d,this.resolve=U_,this.reject=U_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const v=this.appInits[m]();if(b_(v))d.push(v);else if(zh(v)){const S=new Promise((M,k)=>{v.subscribe({complete:M,error:k})});d.push(S)}}Promise.all(d).then(()=>{f()}).catch(m=>{this.reject(m)}),0===d.length&&f(),this.initialized=!0}}return a.\u0275fac=function(d){return new(d||a)(Qt($T,8))},a.\u0275prov=It({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const sI=new Oi("AppId",{providedIn:"root",factory:function oI(){return`${aI()}${aI()}${aI()}`}});function aI(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cI=new Oi("Platform Initializer"),lI=new Oi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uO=new Oi("appBootstrapListener"),dO=new Oi("AnimationModuleType");let hO=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=It({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const sf=new Oi("LocaleId",{providedIn:"root",factory:()=>fn(sf,bt.Optional|bt.SkipSelf)||function WT(){return typeof $localize<"u"&&$localize.locale||qh}()}),uI=new Oi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class dI{constructor(l,d){this.ngModuleFactory=l,this.componentFactories=d}}let gO=(()=>{class a{compileModuleSync(d){return new oi(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),v=id(ki(d).declarations).reduce((S,M)=>{const k=Kn(M);return k&&S.push(new sv(k)),S},[]);return new dI(f,v)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=It({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const yO=(()=>Promise.resolve(0))();function Xv(a){typeof Zone>"u"?yO.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Za{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fl(!1),this.onMicrotaskEmpty=new Fl(!1),this.onStable=new Fl(!1),this.onError=new Fl(!1),typeof Zone>"u")throw new rt(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&d,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function KT(){let a=hn.requestAnimationFrame,l=hn.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function bO(a){const l=()=>{!function vO(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(hn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,hI(a),a.isCheckStableRunning=!0,Jv(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),hI(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,m,v,S,M)=>{try{return eb(a),d.invokeTask(m,v,S,M)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||a.shouldCoalesceRunChangeDetection)&&l(),fI(a)}},onInvoke:(d,f,m,v,S,M,k)=>{try{return eb(a),d.invoke(m,v,S,M,k)}finally{a.shouldCoalesceRunChangeDetection&&l(),fI(a)}},onHasTask:(d,f,m,v)=>{d.hasTask(m,v),f===m&&("microTask"==v.change?(a._hasPendingMicrotasks=v.microTask,hI(a),Jv(a)):"macroTask"==v.change&&(a.hasPendingMacrotasks=v.macroTask))},onHandleError:(d,f,m,v)=>(d.handleError(m,v),a.runOutsideAngular(()=>a.onError.emit(v)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Za.isInAngularZone())throw new rt(909,!1)}static assertNotInAngularZone(){if(Za.isInAngularZone())throw new rt(909,!1)}run(l,d,f){return this._inner.run(l,d,f)}runTask(l,d,f,m){const v=this._inner,S=v.scheduleEventTask("NgZoneEvent: "+m,l,Qv,U_,U_);try{return v.runTask(S,d,f)}finally{v.cancelTask(S)}}runGuarded(l,d,f){return this._inner.runGuarded(l,d,f)}runOutsideAngular(l){return this._outer.run(l)}}const Qv={};function Jv(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function hI(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function eb(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function fI(a){a._nesting--,Jv(a)}class wO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fl,this.onMicrotaskEmpty=new Fl,this.onStable=new Fl,this.onError=new Fl}run(l,d,f){return l.apply(d,f)}runGuarded(l,d,f){return l.apply(d,f)}runOutsideAngular(l){return l()}runTask(l,d,f,m){return l.apply(d,f)}}const ZT=new Oi(""),pI=new Oi("");let Ul,Cd=(()=>{class a{constructor(d,f,m){this._ngZone=d,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ul||(function YT(a){Ul=a}(m),m.addToWindow(f)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Za.assertNotInAngularZone(),Xv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xv(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,m){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==v),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:v,updateCb:m})}whenStable(d,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,f,m){return[]}}return a.\u0275fac=function(d){return new(d||a)(Qt(Za),Qt(gI),Qt(pI))},a.\u0275prov=It({token:a,factory:a.\u0275fac}),a})(),gI=(()=>{class a{constructor(){this._applications=new Map}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return Ul?.findTestabilityInTree(this,d,f)??null}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=It({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),il=null;const j_=new Oi("AllowMultipleToken"),mI=new Oi("PlatformDestroyListeners");function QT(a,l,d=[]){const f=`Platform: ${l}`,m=new Oi(f);return(v=[])=>{let S=z_();if(!S||S.injector.get(j_,!1)){const M=[...d,...v,{provide:m,useValue:!0}];a?a(M):function Sd(a){if(il&&!il.get(j_,!1))throw new rt(400,!1);il=a;const l=a.get(H_);(function XT(a){const l=a.get(cI,null);l&&l.forEach(d=>d())})(a)}(function yI(a=[],l){return Rh.create({name:l,providers:[{provide:Cx,useValue:"platform"},{provide:mI,useValue:new Set([()=>il=null])},...a]})}(M,f))}return function tb(a){const l=z_();if(!l)throw new rt(401,!1);return l}()}}function z_(){return il?.get(H_)??null}let H_=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const m=function af(a,l){let d;return d="noop"===a?new wO:("zone.js"===a?void 0:a)||new Za(l),d}(f?.ngZone,function JT(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(f)),v=[{provide:Za,useValue:m}];return m.run(()=>{const S=Rh.create({providers:v,parent:this.injector,name:d.moduleType.name}),M=d.create(S),k=M.injector.get(G0,null);if(!k)throw new rt(402,!1);return m.runOutsideAngular(()=>{const B=m.onError.subscribe({next:$=>{k.handleError($)}});M.onDestroy(()=>{xd(this._modules,M),B.unsubscribe()})}),function vI(a,l,d){try{const f=d();return b_(f)?f.catch(m=>{throw l.runOutsideAngular(()=>a.handleError(m)),m}):f}catch(f){throw l.runOutsideAngular(()=>a.handleError(f)),f}}(k,m,()=>{const B=M.injector.get(hg);return B.runInitializers(),B.donePromise.then(()=>(function pd(a){On(a,"Expected localeId to be defined"),"string"==typeof a&&(Jp=a.toLowerCase().replace(/_/g,"-"))}(M.injector.get(sf,qh)||qh),this._moduleDoBootstrap(M),M))})})}bootstrapModule(d,f=[]){const m=bI({},f);return function EO(a,l,d){const f=new oi(d);return Promise.resolve(f)}(0,0,d).then(v=>this.bootstrapModuleFactory(v,m))}_moduleDoBootstrap(d){const f=d.injector.get(nb);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new rt(403,!1);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new rt(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const d=this._injector.get(mI,null);d&&(d.forEach(f=>f()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(d){return new(d||a)(Qt(Rh))},a.\u0275prov=It({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function bI(a,l){return Array.isArray(l)?l.reduce(bI,a):{...a,...l}}let nb=(()=>{class a{constructor(d,f,m){this._zone=d,this._injector=f,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new ae.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),S=new ae.y(M=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Za.assertNotInAngularZone(),Xv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{Za.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{k.unsubscribe(),B.unsubscribe()}});this.isStable=(0,Ve.T)(v,S.pipe((0,ut.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,f){const m=d instanceof vR;if(!this._injector.get(hg).done)throw!m&&So(d),new rt(405,false);let S;S=m?d:this._injector.get(Mp).resolveComponentFactory(d),this.componentTypes.push(S.componentType);const M=function _I(a){return a.isBoundToModule}(S)?void 0:this._injector.get(Xh),B=S.create(Rh.NULL,[],f||S.selector,M),$=B.location.nativeElement,ue=B.injector.get(ZT,null);return ue?.registerApplication($),B.onDestroy(()=>{this.detachView(B.hostView),xd(this.components,B),ue?.unregisterApplication($)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new rt(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;xd(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(uO,[]).concat(this._bootstrapListeners).forEach(m=>m(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>xd(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new rt(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(d){return new(d||a)(Qt(Za),Qt(Nh),Qt(G0))},a.\u0275prov=It({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function xd(a,l){const d=a.indexOf(l);d>-1&&a.splice(d,1)}function EI(){return!1}let CO=(()=>{class a{}return a.__NG_ELEMENT_ID__=SO,a})();function SO(a){return function II(a,l,d){if(Kf(a)&&!d){const f=ca(a.index,l);return new jp(f,f)}return 47&a.type?new jp(l[16],l):null}(Ks(),Ht(),16==(16&a))}class cb{constructor(){}supports(l){return zp(l)}create(l){return new sD(l)}}const lb=(a,l)=>l;class sD{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||lb}forEachItem(l){let d;for(d=this._itHead;null!==d;d=d._next)l(d)}forEachOperation(l){let d=this._itHead,f=this._removalsHead,m=0,v=null;for(;d||f;){const S=!f||d&&d.currentIndex<pg(f,m,v)?d:f,M=pg(S,m,v),k=S.currentIndex;if(S===f)m--,f=f._nextRemoved;else if(d=d._next,null==S.previousIndex)m++;else{v||(v=[]);const B=M-m,$=k-m;if(B!=$){for(let Me=0;Me<B;Me++){const We=Me<v.length?v[Me]:v[Me]=0,wt=We+Me;$<=wt&&wt<B&&(v[Me]=We+1)}v[S.previousIndex]=$-B}}M!==k&&l(S,M,k)}}forEachPreviousItem(l){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachMovedItem(l){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}forEachIdentityChange(l){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)l(d)}diff(l){if(null==l&&(l=[]),!zp(l))throw new rt(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let m,v,S,d=this._itHead,f=!1;if(Array.isArray(l)){this.length=l.length;for(let M=0;M<this.length;M++)v=l[M],S=this._trackByFn(M,v),null!==d&&Object.is(d.trackById,S)?(f&&(d=this._verifyReinsertion(d,v,S,M)),Object.is(d.item,v)||this._addIdentityChange(d,v)):(d=this._mismatch(d,v,S,M),f=!0),d=d._next}else m=0,function oA(a,l){if(Array.isArray(a))for(let d=0;d<a.length;d++)l(a[d]);else{const d=a[Vp()]();let f;for(;!(f=d.next()).done;)l(f.value)}}(l,M=>{S=this._trackByFn(m,M),null!==d&&Object.is(d.trackById,S)?(f&&(d=this._verifyReinsertion(d,M,S,m)),Object.is(d.item,M)||this._addIdentityChange(d,M)):(d=this._mismatch(d,M,S,m),f=!0),d=d._next,m++}),this.length=m;return this._truncate(d),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,d,f,m){let v;return null===l?v=this._itTail:(v=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._reinsertAfter(l,v,m)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._moveAfter(l,v,m)):l=this._addAfter(new AO(d,f),v,m),l}_verifyReinsertion(l,d,f,m){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==v?l=this._reinsertAfter(v,l._prev,m):l.currentIndex!=m&&(l.currentIndex=m,this._addToMoves(l,m)),l}_truncate(l){for(;null!==l;){const d=l._next;this._addToRemovals(this._unlink(l)),l=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const m=l._prevRemoved,v=l._nextRemoved;return null===m?this._removalsHead=v:m._nextRemoved=v,null===v?this._removalsTail=m:v._prevRemoved=m,this._insertAfter(l,d,f),this._addToMoves(l,f),l}_moveAfter(l,d,f){return this._unlink(l),this._insertAfter(l,d,f),this._addToMoves(l,f),l}_addAfter(l,d,f){return this._insertAfter(l,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,d,f){const m=null===d?this._itHead:d._next;return l._next=m,l._prev=d,null===m?this._itTail=l:m._prev=l,null===d?this._itHead=l:d._next=l,null===this._linkedRecords&&(this._linkedRecords=new sl),this._linkedRecords.put(l),l.currentIndex=f,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const d=l._prev,f=l._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,l}_addToMoves(l,d){return l.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sl),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,d){return l.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class AO{constructor(l,d){this.item=l,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class q_{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,l))return f;return null}remove(l){const d=l._prevDup,f=l._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class sl{constructor(){this.map=new Map}put(l){const d=l.trackById;let f=this.map.get(d);f||(f=new q_,this.map.set(d,f)),f.add(l)}get(l,d){const m=this.map.get(l);return m?m.get(l,d):null}remove(l){const d=l.trackById;return this.map.get(d).remove(l)&&this.map.delete(d),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pg(a,l,d){const f=a.previousIndex;if(null===f)return f;let m=0;return d&&f<d.length&&(m=d[f]),f+l+m}class oD{constructor(){}supports(l){return l instanceof Map||lv(l)}create(){return new aD}}class aD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let d;for(d=this._mapHead;null!==d;d=d._next)l(d)}forEachPreviousItem(l){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)l(d)}forEachChangedItem(l){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}diff(l){if(l){if(!(l instanceof Map||lv(l)))throw new rt(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(l,(f,m)=>{if(d&&d.key===m)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const v=this._getOrCreateRecordForKey(m,f);d=this._insertBeforeOrAppend(d,v)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,d){if(l){const f=l._prev;return d._next=l,d._prev=f,l._prev=d,f&&(f._next=d),l===this._mapHead&&(this._mapHead=d),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(l,d){if(this._records.has(l)){const m=this._records.get(l);this._maybeAddToChanges(m,d);const v=m._prev,S=m._next;return v&&(v._next=S),S&&(S._prev=v),m._next=null,m._prev=null,m}const f=new TI(l);return this._records.set(l,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,d){Object.is(d,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=d,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,d){l instanceof Map?l.forEach(d):Object.keys(l).forEach(f=>d(l[f],f))}}class TI{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gg(){return new cf([new cb])}let cf=(()=>{class a{constructor(d){this.factories=d}static create(d,f){if(null!=f){const m=f.factories.slice();d=d.concat(m)}return new a(d)}static extend(d){return{provide:a,useFactory:f=>a.create(d,f||gg()),deps:[[a,new Ih,new cu]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(null!=f)return f;throw new rt(901,!1)}}return a.\u0275prov=It({token:a,providedIn:"root",factory:gg}),a})();function Xa(){return new ub([new oD])}let ub=(()=>{class a{constructor(d){this.factories=d}static create(d,f){if(f){const m=f.factories.slice();d=d.concat(m)}return new a(d)}static extend(d){return{provide:a,useFactory:f=>a.create(d,f||Xa()),deps:[[a,new Ih,new cu]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(f)return f;throw new rt(901,!1)}}return a.\u0275prov=It({token:a,providedIn:"root",factory:Xa}),a})();const cD=QT(null,"core",[]);let MO=(()=>{class a{constructor(d){}}return a.\u0275fac=function(d){return new(d||a)(Qt(nb))},a.\u0275mod=xe({type:a}),a.\u0275inj=Mn({}),a})();function lD(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(jn,Tt,Q)=>{Q.d(Tt,{Z:()=>sn});var p=Q(2090),he=Q(4859),ae=Q(9681),Ve=Q(1877);class ut{constructor(rt,vt){this._delegate=rt,this.firebase=vt,(0,ae._addComponent)(rt,new he.wA("app-compat",()=>this,"PUBLIC")),this.container=rt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this._delegate.automaticDataCollectionEnabled=rt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(rt=>{this._delegate.checkDestroyed(),rt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ae.deleteApp)(this._delegate)))}_getService(rt,vt=ae._DEFAULT_ENTRY_NAME){var Dt;this._delegate.checkDestroyed();const Ot=this._delegate.container.getProvider(rt);return!Ot.isInitialized()&&"EXPLICIT"===(null===(Dt=Ot.getComponent())||void 0===Dt?void 0:Dt.instantiationMode)&&Ot.initialize(),Ot.getImmediate({identifier:vt})}_removeServiceInstance(rt,vt=ae._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(rt).clearInstance(vt)}_addComponent(rt){(0,ae._addComponent)(this._delegate,rt)}_addOrOverwriteComponent(rt){(0,ae._addOrOverwriteComponent)(this._delegate,rt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ge=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ie=function dt(){const tn=function it(tn){const rt={},vt={__esModule:!0,initializeApp:function kt(ke,et={}){const mt=ae.initializeApp(ke,et);if((0,p.r3)(rt,mt.name))return rt[mt.name];const Oe=new tn(mt,vt);return rt[mt.name]=Oe,Oe},app:Ot,registerVersion:ae.registerVersion,setLogLevel:ae.setLogLevel,onLog:ae.onLog,apps:null,SDK_VERSION:ae.SDK_VERSION,INTERNAL:{registerComponent:function xt(ke){const et=ke.name,mt=et.replace("-compat","");if(ae._registerComponent(ke)&&"PUBLIC"===ke.type){const Oe=(Te=Ot())=>{if("function"!=typeof Te[mt])throw Ge.create("invalid-app-argument",{appName:et});return Te[mt]()};void 0!==ke.serviceProps&&(0,p.ZB)(Oe,ke.serviceProps),vt[mt]=Oe,tn.prototype[mt]=function(...Te){return this._getService.bind(this,et).apply(this,ke.multipleInstances?Te:[])}}return"PUBLIC"===ke.type?vt[mt]:null},removeApp:function Dt(ke){delete rt[ke]},useAsService:function Yt(ke,et){return"serverAuth"===et?null:et},modularAPIs:ae}};function Ot(ke){if(!(0,p.r3)(rt,ke=ke||ae._DEFAULT_ENTRY_NAME))throw Ge.create("no-app",{appName:ke});return rt[ke]}return vt.default=vt,Object.defineProperty(vt,"apps",{get:function Lt(){return Object.keys(rt).map(ke=>rt[ke])}}),Ot.App=tn,vt}(ut);return tn.INTERNAL=Object.assign(Object.assign({},tn.INTERNAL),{createFirebaseNamespace:dt,extendNamespace:function rt(vt){(0,p.ZB)(tn,vt)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),tn}(),we=new Ve.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){we.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tn=self.firebase.SDK_VERSION;tn&&tn.indexOf("LITE")>=0&&we.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const sn=Ie;!function Rt(tn){(0,ae.registerVersion)("@firebase/app-compat","0.2.0",tn)}()},9681:(jn,Tt,Q)=>{Q.r(Tt),Q.d(Tt,{FirebaseError:()=>Ve.ZR,SDK_VERSION:()=>Pi,_DEFAULT_ENTRY_NAME:()=>cr,_addComponent:()=>Dr,_addOrOverwriteComponent:()=>mi,_apps:()=>On,_clearComponents:()=>Mn,_components:()=>Zn,_getProvider:()=>It,_registerComponent:()=>Qn,_removeServiceInstance:()=>Hn,deleteApp:()=>cn,getApp:()=>Si,getApps:()=>zi,initializeApp:()=>Ci,onLog:()=>bt,registerVersion:()=>Nt,setLogLevel:()=>Nn});var p=Q(5861),he=Q(4859),ae=Q(1877),Ve=Q(2090),ut=Q(8766);class lt{constructor(St){this.container=St}getPlatformInfoString(){return this.container.getProviders().map(fn=>{if(function Ge(Qt){return"VERSION"===Qt.getComponent()?.type}(fn)){const qn=fn.getImmediate();return`${qn.library}/${qn.version}`}return null}).filter(fn=>fn).join(" ")}}const it="@firebase/app",Ie=new ae.Yd("@firebase/app"),cr="[DEFAULT]",Vn={[it]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},On=new Map,Zn=new Map;function Dr(Qt,St){try{Qt.container.addComponent(St)}catch(fn){Ie.debug(`Component ${St.name} failed to register with FirebaseApp ${Qt.name}`,fn)}}function mi(Qt,St){Qt.container.addOrOverwriteComponent(St)}function Qn(Qt){const St=Qt.name;if(Zn.has(St))return Ie.debug(`There were multiple attempts to register component ${St}.`),!1;Zn.set(St,Qt);for(const fn of On.values())Dr(fn,Qt);return!0}function It(Qt,St){const fn=Qt.container.getProvider("heartbeat").getImmediate({optional:!0});return fn&&fn.triggerHeartbeat(),Qt.container.getProvider(St)}function Hn(Qt,St,fn=cr){It(Qt,St).clearInstance(fn)}function Mn(){Zn.clear()}const _r=new Ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Cr{constructor(St,fn,qn){this._isDeleted=!1,this._options=Object.assign({},St),this._config=Object.assign({},fn),this._name=fn.name,this._automaticDataCollectionEnabled=fn.automaticDataCollectionEnabled,this._container=qn,this.container.addComponent(new he.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(St){this.checkDestroyed(),this._automaticDataCollectionEnabled=St}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(St){this._isDeleted=St}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const Pi="9.15.0";function Ci(Qt,St={}){let fn=Qt;"object"!=typeof St&&(St={name:St});const qn=Object.assign({name:cr,automaticDataCollectionEnabled:!1},St),sr=qn.name;if("string"!=typeof sr||!sr)throw _r.create("bad-app-name",{appName:String(sr)});if(fn||(fn=(0,Ve.aH)()),!fn)throw _r.create("no-options");const Mr=On.get(sr);if(Mr){if((0,Ve.vZ)(fn,Mr.options)&&(0,Ve.vZ)(qn,Mr.config))return Mr;throw _r.create("duplicate-app",{appName:sr})}const ve=new he.H0(sr);for(const J of Zn.values())ve.addComponent(J);const me=new Cr(fn,qn,ve);return On.set(sr,me),me}function Si(Qt=cr){const St=On.get(Qt);if(!St&&Qt===cr)return Ci();if(!St)throw _r.create("no-app",{appName:Qt});return St}function zi(){return Array.from(On.values())}function cn(Qt){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,p.Z)(function*(Qt){const St=Qt.name;On.has(St)&&(On.delete(St),yield Promise.all(Qt.container.getProviders().map(fn=>fn.delete())),Qt.isDeleted=!0)})).apply(this,arguments)}function Nt(Qt,St,fn){var qn;let sr=null!==(qn=Vn[Qt])&&void 0!==qn?qn:Qt;fn&&(sr+=`-${fn}`);const Mr=sr.match(/\s|\//),ve=St.match(/\s|\//);if(Mr||ve){const me=[`Unable to register library "${sr}" with version "${St}":`];return Mr&&me.push(`library name "${sr}" contains illegal characters (whitespace or "/")`),Mr&&ve&&me.push("and"),ve&&me.push(`version name "${St}" contains illegal characters (whitespace or "/")`),void Ie.warn(me.join(" "))}Qn(new he.wA(`${sr}-version`,()=>({library:sr,version:St}),"VERSION"))}function bt(Qt,St){if(null!==Qt&&"function"!=typeof Qt)throw _r.create("invalid-log-argument");(0,ae.Am)(Qt,St)}function Nn(Qt){(0,ae.Ub)(Qt)}const jr="firebase-heartbeat-store";let ri=null;function hn(){return ri||(ri=(0,ut.X3)("firebase-heartbeat-database",1,{upgrade:(Qt,St)=>{0===St&&Qt.createObjectStore(jr)}}).catch(Qt=>{throw _r.create("idb-open",{originalErrorMessage:Qt.message})})),ri}function Ln(){return(Ln=(0,p.Z)(function*(Qt){try{return(yield hn()).transaction(jr).objectStore(jr).get(hi(Qt))}catch(St){if(St instanceof Ve.ZR)Ie.warn(St.message);else{const fn=_r.create("idb-get",{originalErrorMessage:St?.message});Ie.warn(fn.message)}}})).apply(this,arguments)}function yr(Qt,St){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,p.Z)(function*(Qt,St){try{const qn=(yield hn()).transaction(jr,"readwrite");return yield qn.objectStore(jr).put(St,hi(Qt)),qn.done}catch(fn){if(fn instanceof Ve.ZR)Ie.warn(fn.message);else{const qn=_r.create("idb-set",{originalErrorMessage:fn?.message});Ie.warn(qn.message)}}})).apply(this,arguments)}function hi(Qt){return`${Qt.name}!${Qt.options.appId}`}class fi{constructor(St){this.container=St,this._heartbeatsCache=null;const fn=this.container.getProvider("app").getImmediate();this._storage=new fr(fn),this._heartbeatsCachePromise=this._storage.read().then(qn=>(this._heartbeatsCache=qn,qn))}triggerHeartbeat(){var St=this;return(0,p.Z)(function*(){const qn=St.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),sr=Yn();if(null===St._heartbeatsCache&&(St._heartbeatsCache=yield St._heartbeatsCachePromise),St._heartbeatsCache.lastSentHeartbeatDate!==sr&&!St._heartbeatsCache.heartbeats.some(Mr=>Mr.date===sr))return St._heartbeatsCache.heartbeats.push({date:sr,agent:qn}),St._heartbeatsCache.heartbeats=St._heartbeatsCache.heartbeats.filter(Mr=>{const ve=new Date(Mr.date).valueOf();return Date.now()-ve<=2592e6}),St._storage.overwrite(St._heartbeatsCache)})()}getHeartbeatsHeader(){var St=this;return(0,p.Z)(function*(){if(null===St._heartbeatsCache&&(yield St._heartbeatsCachePromise),null===St._heartbeatsCache||0===St._heartbeatsCache.heartbeats.length)return"";const fn=Yn(),{heartbeatsToSend:qn,unsentEntries:sr}=function ys(Qt,St=1024){const fn=[];let qn=Qt.slice();for(const sr of Qt){const Mr=fn.find(ve=>ve.agent===sr.agent);if(Mr){if(Mr.dates.push(sr.date),As(fn)>St){Mr.dates.pop();break}}else if(fn.push({agent:sr.agent,dates:[sr.date]}),As(fn)>St){fn.pop();break}qn=qn.slice(1)}return{heartbeatsToSend:fn,unsentEntries:qn}}(St._heartbeatsCache.heartbeats),Mr=(0,Ve.L)(JSON.stringify({version:2,heartbeats:qn}));return St._heartbeatsCache.lastSentHeartbeatDate=fn,sr.length>0?(St._heartbeatsCache.heartbeats=sr,yield St._storage.overwrite(St._heartbeatsCache)):(St._heartbeatsCache.heartbeats=[],St._storage.overwrite(St._heartbeatsCache)),Mr})()}}function Yn(){return(new Date).toISOString().substring(0,10)}class fr{constructor(St){this.app=St,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Ve.hl)()&&(0,Ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var St=this;return(0,p.Z)(function*(){return(yield St._canUseIndexedDBPromise)&&(yield function an(Qt){return Ln.apply(this,arguments)}(St.app))||{heartbeats:[]}})()}overwrite(St){var fn=this;return(0,p.Z)(function*(){var qn;if(yield fn._canUseIndexedDBPromise){const Mr=yield fn.read();return yr(fn.app,{lastSentHeartbeatDate:null!==(qn=St.lastSentHeartbeatDate)&&void 0!==qn?qn:Mr.lastSentHeartbeatDate,heartbeats:St.heartbeats})}})()}add(St){var fn=this;return(0,p.Z)(function*(){var qn;if(yield fn._canUseIndexedDBPromise){const Mr=yield fn.read();return yr(fn.app,{lastSentHeartbeatDate:null!==(qn=St.lastSentHeartbeatDate)&&void 0!==qn?qn:Mr.lastSentHeartbeatDate,heartbeats:[...Mr.heartbeats,...St.heartbeats]})}})()}}function As(Qt){return(0,Ve.L)(JSON.stringify({version:2,heartbeats:Qt})).length}!function Ri(Qt){Qn(new he.wA("platform-logger",St=>new lt(St),"PRIVATE")),Qn(new he.wA("heartbeat",St=>new fi(St),"PRIVATE")),Nt(it,"0.9.0",Qt),Nt(it,"0.9.0","esm2017"),Nt("fire-js","")}("")},4859:(jn,Tt,Q)=>{Q.d(Tt,{H0:()=>it,wA:()=>ae,zt:()=>ut});var p=Q(5861),he=Q(2090);class ae{constructor(Ie,we,Ae){this.name=Ie,this.instanceFactory=we,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ie){return this.instantiationMode=Ie,this}setMultipleInstances(Ie){return this.multipleInstances=Ie,this}setServiceProps(Ie){return this.serviceProps=Ie,this}setInstanceCreatedCallback(Ie){return this.onInstanceCreated=Ie,this}}const Ve="[DEFAULT]";class ut{constructor(Ie,we){this.name=Ie,this.container=we,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ie){const we=this.normalizeInstanceIdentifier(Ie);if(!this.instancesDeferred.has(we)){const Ae=new he.BH;if(this.instancesDeferred.set(we,Ae),this.isInitialized(we)||this.shouldAutoInitialize())try{const Pt=this.getOrInitializeService({instanceIdentifier:we});Pt&&Ae.resolve(Pt)}catch{}}return this.instancesDeferred.get(we).promise}getImmediate(Ie){var we;const Ae=this.normalizeInstanceIdentifier(Ie?.identifier),Pt=null!==(we=Ie?.optional)&&void 0!==we&&we;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(Pt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Rt){if(Pt)return null;throw Rt}}getComponent(){return this.component}setComponent(Ie){if(Ie.name!==this.name)throw Error(`Mismatching Component ${Ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ie,this.shouldAutoInitialize()){if(function Ge(dt){return"EAGER"===dt.instantiationMode}(Ie))try{this.getOrInitializeService({instanceIdentifier:Ve})}catch{}for(const[we,Ae]of this.instancesDeferred.entries()){const Pt=this.normalizeInstanceIdentifier(we);try{const Rt=this.getOrInitializeService({instanceIdentifier:Pt});Ae.resolve(Rt)}catch{}}}}clearInstance(Ie=Ve){this.instancesDeferred.delete(Ie),this.instancesOptions.delete(Ie),this.instances.delete(Ie)}delete(){var Ie=this;return(0,p.Z)(function*(){const we=Array.from(Ie.instances.values());yield Promise.all([...we.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...we.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ie=Ve){return this.instances.has(Ie)}getOptions(Ie=Ve){return this.instancesOptions.get(Ie)||{}}initialize(Ie={}){const{options:we={}}=Ie,Ae=this.normalizeInstanceIdentifier(Ie.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pt=this.getOrInitializeService({instanceIdentifier:Ae,options:we});for(const[Rt,sn]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Rt)&&sn.resolve(Pt);return Pt}onInit(Ie,we){var Ae;const Pt=this.normalizeInstanceIdentifier(we),Rt=null!==(Ae=this.onInitCallbacks.get(Pt))&&void 0!==Ae?Ae:new Set;Rt.add(Ie),this.onInitCallbacks.set(Pt,Rt);const sn=this.instances.get(Pt);return sn&&Ie(sn,Pt),()=>{Rt.delete(Ie)}}invokeOnInitCallbacks(Ie,we){const Ae=this.onInitCallbacks.get(we);if(Ae)for(const Pt of Ae)try{Pt(Ie,we)}catch{}}getOrInitializeService({instanceIdentifier:Ie,options:we={}}){let Ae=this.instances.get(Ie);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(dt=Ie,dt===Ve?void 0:dt),options:we}),this.instances.set(Ie,Ae),this.instancesOptions.set(Ie,we),this.invokeOnInitCallbacks(Ae,Ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ie,Ae)}catch{}var dt;return Ae||null}normalizeInstanceIdentifier(Ie=Ve){return this.component?this.component.multipleInstances?Ie:Ve:Ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class it{constructor(Ie){this.name=Ie,this.providers=new Map}addComponent(Ie){const we=this.getProvider(Ie.name);if(we.isComponentSet())throw new Error(`Component ${Ie.name} has already been registered with ${this.name}`);we.setComponent(Ie)}addOrOverwriteComponent(Ie){this.getProvider(Ie.name).isComponentSet()&&this.providers.delete(Ie.name),this.addComponent(Ie)}getProvider(Ie){if(this.providers.has(Ie))return this.providers.get(Ie);const we=new ut(Ie,this);return this.providers.set(Ie,we),we}getProviders(){return Array.from(this.providers.values())}}},2833:(jn,Tt,Q)=>{var p=Q(5861),he=Q(9681),ae=Q(4859),Ve=Q(2090),ut=Q(8766);const lt="@firebase/installations",dt="w:0.6.0",Ie="FIS_v2",tn=new Ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rt(xe){return xe instanceof Ve.ZR&&xe.code.includes("request-failed")}function vt({projectId:xe}){return`https://firebaseinstallations.googleapis.com/v1/projects/${xe}/installations`}function Dt(xe){return{token:xe.token,requestStatus:2,expiresIn:et(xe.expiresIn),creationTime:Date.now()}}function Ot(xe,at){return kt.apply(this,arguments)}function kt(){return(kt=(0,p.Z)(function*(xe,at){const Gn=(yield at.json()).error;return tn.create("request-failed",{requestName:xe,serverCode:Gn.code,serverMessage:Gn.message,serverStatus:Gn.status})})).apply(this,arguments)}function Lt({apiKey:xe}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":xe})}function xt(xe,{refreshToken:at}){const Zt=Lt(xe);return Zt.append("Authorization",function mt(xe){return`${Ie} ${xe}`}(at)),Zt}function Yt(xe){return ke.apply(this,arguments)}function ke(){return(ke=(0,p.Z)(function*(xe){const at=yield xe();return at.status>=500&&at.status<600?xe():at})).apply(this,arguments)}function et(xe){return Number(xe.replace("s","000"))}function Oe(xe,at){return Te.apply(this,arguments)}function Te(){return(Te=(0,p.Z)(function*({appConfig:xe,heartbeatServiceProvider:at},{fid:Zt}){const Gn=vt(xe),yi=Lt(xe),Kn=at.getImmediate({optional:!0});if(Kn){const ki=yield Kn.getHeartbeatsHeader();ki&&yi.append("x-firebase-client",ki)}const vi={method:"POST",headers:yi,body:JSON.stringify({fid:Zt,authVersion:Ie,appId:xe.appId,sdkVersion:dt})},So=yield Yt(()=>fetch(Gn,vi));if(So.ok){const ki=yield So.json();return{fid:ki.fid||Zt,registrationStatus:2,refreshToken:ki.refreshToken,authToken:Dt(ki.authToken)}}throw yield Ot("Create Installation",So)})).apply(this,arguments)}function Ye(xe){return new Promise(at=>{setTimeout(at,xe)})}const zt=/^[cdef][\w-]{21}$/;function pn(){try{const xe=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(xe),xe[0]=112+xe[0]%16;const Zt=function Er(xe){return function He(xe){return btoa(String.fromCharCode(...xe)).replace(/\+/g,"-").replace(/\//g,"_")}(xe).substr(0,22)}(xe);return zt.test(Zt)?Zt:""}catch{return""}}function cr(xe){return`${xe.appName}!${xe.appId}`}const Vn=new Map;function On(xe,at){const Zt=cr(xe);mi(Zt,at),function Qn(xe,at){const Zt=function Hn(){return!It&&"BroadcastChannel"in self&&(It=new BroadcastChannel("[Firebase] FID Change"),It.onmessage=xe=>{mi(xe.data.key,xe.data.fid)}),It}();Zt&&Zt.postMessage({key:xe,fid:at}),function Mn(){0===Vn.size&&It&&(It.close(),It=null)}()}(Zt,at)}function mi(xe,at){const Zt=Vn.get(xe);if(Zt)for(const Gn of Zt)Gn(at)}let It=null;const Cr="firebase-installations-store";let Pi=null;function Ci(){return Pi||(Pi=(0,ut.X3)("firebase-installations-database",1,{upgrade:(xe,at)=>{0===at&&xe.createObjectStore(Cr)}})),Pi}function Si(xe,at){return zi.apply(this,arguments)}function zi(){return(zi=(0,p.Z)(function*(xe,at){const Zt=cr(xe),yi=(yield Ci()).transaction(Cr,"readwrite"),Kn=yi.objectStore(Cr),Bn=yield Kn.get(Zt);return yield Kn.put(at,Zt),yield yi.done,(!Bn||Bn.fid!==at.fid)&&On(xe,at.fid),at})).apply(this,arguments)}function cn(xe){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,p.Z)(function*(xe){const at=cr(xe),Gn=(yield Ci()).transaction(Cr,"readwrite");yield Gn.objectStore(Cr).delete(at),yield Gn.done})).apply(this,arguments)}function Nt(xe,at){return bt.apply(this,arguments)}function bt(){return(bt=(0,p.Z)(function*(xe,at){const Zt=cr(xe),yi=(yield Ci()).transaction(Cr,"readwrite"),Kn=yi.objectStore(Cr),Bn=yield Kn.get(Zt),vi=at(Bn);return void 0===vi?yield Kn.delete(Zt):yield Kn.put(vi,Zt),yield yi.done,vi&&(!Bn||Bn.fid!==vi.fid)&&On(xe,vi.fid),vi})).apply(this,arguments)}function Nn(xe){return ur.apply(this,arguments)}function ur(){return(ur=(0,p.Z)(function*(xe){let at;const Zt=yield Nt(xe.appConfig,Gn=>{const yi=rr(Gn),Kn=jr(xe,yi);return at=Kn.registrationPromise,Kn.installationEntry});return""===Zt.fid?{installationEntry:yield at}:{installationEntry:Zt,registrationPromise:at}})).apply(this,arguments)}function rr(xe){return Hr(xe||{fid:pn(),registrationStatus:0})}function jr(xe,at){if(0===at.registrationStatus){if(!navigator.onLine)return{installationEntry:at,registrationPromise:Promise.reject(tn.create("app-offline"))};const Zt={fid:at.fid,registrationStatus:1,registrationTime:Date.now()},Gn=function ri(xe,at){return hn.apply(this,arguments)}(xe,Zt);return{installationEntry:Zt,registrationPromise:Gn}}return 1===at.registrationStatus?{installationEntry:at,registrationPromise:an(xe)}:{installationEntry:at}}function hn(){return(hn=(0,p.Z)(function*(xe,at){try{const Zt=yield Oe(xe,at);return Si(xe.appConfig,Zt)}catch(Zt){throw rt(Zt)&&409===Zt.customData.serverCode?yield cn(xe.appConfig):yield Si(xe.appConfig,{fid:at.fid,registrationStatus:0}),Zt}})).apply(this,arguments)}function an(xe){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,p.Z)(function*(xe){let at=yield yr(xe.appConfig);for(;1===at.registrationStatus;)yield Ye(100),at=yield yr(xe.appConfig);if(0===at.registrationStatus){const{installationEntry:Zt,registrationPromise:Gn}=yield Nn(xe);return Gn||Zt}return at})).apply(this,arguments)}function yr(xe){return Nt(xe,at=>{if(!at)throw tn.create("installation-not-found");return Hr(at)})}function Hr(xe){return function hi(xe){return 1===xe.registrationStatus&&xe.registrationTime+1e4<Date.now()}(xe)?{fid:xe.fid,registrationStatus:0}:xe}function Xi(xe,at){return si.apply(this,arguments)}function si(){return(si=(0,p.Z)(function*({appConfig:xe,heartbeatServiceProvider:at},Zt){const Gn=fi(xe,Zt),yi=xt(xe,Zt),Kn=at.getImmediate({optional:!0});if(Kn){const ki=yield Kn.getHeartbeatsHeader();ki&&yi.append("x-firebase-client",ki)}const vi={method:"POST",headers:yi,body:JSON.stringify({installation:{sdkVersion:dt,appId:xe.appId}})},So=yield Yt(()=>fetch(Gn,vi));if(So.ok)return Dt(yield So.json());throw yield Ot("Generate Auth Token",So)})).apply(this,arguments)}function fi(xe,{fid:at}){return`${vt(xe)}/${at}/authTokens:generate`}function Yn(xe){return ys.apply(this,arguments)}function ys(){return(ys=(0,p.Z)(function*(xe,at=!1){let Zt;const Gn=yield Nt(xe.appConfig,Kn=>{if(!fn(Kn))throw tn.create("not-registered");const Bn=Kn.authToken;if(!at&&qn(Bn))return Kn;if(1===Bn.requestStatus)return Zt=fr(xe,at),Kn;{if(!navigator.onLine)throw tn.create("app-offline");const vi=Mr(Kn);return Zt=Qt(xe,vi),vi}});return Zt?yield Zt:Gn.authToken})).apply(this,arguments)}function fr(xe,at){return As.apply(this,arguments)}function As(){return(As=(0,p.Z)(function*(xe,at){let Zt=yield Ri(xe.appConfig);for(;1===Zt.authToken.requestStatus;)yield Ye(100),Zt=yield Ri(xe.appConfig);const Gn=Zt.authToken;return 0===Gn.requestStatus?Yn(xe,at):Gn})).apply(this,arguments)}function Ri(xe){return Nt(xe,at=>{if(!fn(at))throw tn.create("not-registered");return function ve(xe){return 1===xe.requestStatus&&xe.requestTime+1e4<Date.now()}(at.authToken)?Object.assign(Object.assign({},at),{authToken:{requestStatus:0}}):at})}function Qt(xe,at){return St.apply(this,arguments)}function St(){return(St=(0,p.Z)(function*(xe,at){try{const Zt=yield Xi(xe,at),Gn=Object.assign(Object.assign({},at),{authToken:Zt});return yield Si(xe.appConfig,Gn),Zt}catch(Zt){if(!rt(Zt)||401!==Zt.customData.serverCode&&404!==Zt.customData.serverCode){const Gn=Object.assign(Object.assign({},at),{authToken:{requestStatus:0}});yield Si(xe.appConfig,Gn)}else yield cn(xe.appConfig);throw Zt}})).apply(this,arguments)}function fn(xe){return void 0!==xe&&2===xe.registrationStatus}function qn(xe){return 2===xe.requestStatus&&!function sr(xe){const at=Date.now();return at<xe.creationTime||xe.creationTime+xe.expiresIn<at+36e5}(xe)}function Mr(xe){const at={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},xe),{authToken:at})}function J(){return(J=(0,p.Z)(function*(xe){const at=xe,{installationEntry:Zt,registrationPromise:Gn}=yield Nn(at);return Gn?Gn.catch(console.error):Yn(at).catch(console.error),Zt.fid})).apply(this,arguments)}function j(){return(j=(0,p.Z)(function*(xe,at=!1){const Zt=xe;return yield ee(Zt),(yield Yn(Zt,at)).token})).apply(this,arguments)}function ee(xe){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,p.Z)(function*(xe){const{registrationPromise:at}=yield Nn(xe);at&&(yield at)})).apply(this,arguments)}function _i(xe){return tn.create("missing-app-config-values",{valueName:xe})}const Le="installations",wn=xe=>{const at=xe.getProvider("app").getImmediate(),Zt=function or(xe){if(!xe||!xe.options)throw _i("App Configuration");if(!xe.name)throw _i("App Name");const at=["projectId","apiKey","appId"];for(const Zt of at)if(!xe.options[Zt])throw _i(Zt);return{appName:xe.name,projectId:xe.options.projectId,apiKey:xe.options.apiKey,appId:xe.options.appId}}(at);return{app:at,appConfig:Zt,heartbeatServiceProvider:(0,he._getProvider)(at,"heartbeat"),_delete:()=>Promise.resolve()}},Pn=xe=>{const at=xe.getProvider("app").getImmediate(),Zt=(0,he._getProvider)(at,Le).getImmediate();return{getId:()=>function me(xe){return J.apply(this,arguments)}(Zt),getToken:yi=>function K(xe){return j.apply(this,arguments)}(Zt,yi)}};(function Xn(){(0,he._registerComponent)(new ae.wA(Le,wn,"PUBLIC")),(0,he._registerComponent)(new ae.wA("installations-internal",Pn,"PRIVATE"))})(),(0,he.registerVersion)(lt,"0.6.0"),(0,he.registerVersion)(lt,"0.6.0","esm2017")},1877:(jn,Tt,Q)=>{Q.d(Tt,{Am:()=>dt,Ub:()=>it,Yd:()=>Ge,in:()=>he});const p=[];var he=(()=>{return(Ie=he||(he={}))[Ie.DEBUG=0]="DEBUG",Ie[Ie.VERBOSE=1]="VERBOSE",Ie[Ie.INFO=2]="INFO",Ie[Ie.WARN=3]="WARN",Ie[Ie.ERROR=4]="ERROR",Ie[Ie.SILENT=5]="SILENT",he;var Ie})();const ae={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},Ve=he.INFO,ut={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},lt=(Ie,we,...Ae)=>{if(we<Ie.logLevel)return;const Pt=(new Date).toISOString(),Rt=ut[we];if(!Rt)throw new Error(`Attempted to log a message with an invalid logType (value: ${we})`);console[Rt](`[${Pt}]  ${Ie.name}:`,...Ae)};class Ge{constructor(we){this.name=we,this._logLevel=Ve,this._logHandler=lt,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(we){if(!(we in he))throw new TypeError(`Invalid value "${we}" assigned to \`logLevel\``);this._logLevel=we}setLogLevel(we){this._logLevel="string"==typeof we?ae[we]:we}get logHandler(){return this._logHandler}set logHandler(we){if("function"!=typeof we)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=we}get userLogHandler(){return this._userLogHandler}set userLogHandler(we){this._userLogHandler=we}debug(...we){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...we),this._logHandler(this,he.DEBUG,...we)}log(...we){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...we),this._logHandler(this,he.VERBOSE,...we)}info(...we){this._userLogHandler&&this._userLogHandler(this,he.INFO,...we),this._logHandler(this,he.INFO,...we)}warn(...we){this._userLogHandler&&this._userLogHandler(this,he.WARN,...we),this._logHandler(this,he.WARN,...we)}error(...we){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...we),this._logHandler(this,he.ERROR,...we)}}function it(Ie){p.forEach(we=>{we.setLogLevel(Ie)})}function dt(Ie,we){for(const Ae of p){let Pt=null;we&&we.level&&(Pt=ae[we.level]),Ae.userLogHandler=null===Ie?null:(Rt,sn,...tn)=>{const rt=tn.map(vt=>{if(null==vt)return null;if("string"==typeof vt)return vt;if("number"==typeof vt||"boolean"==typeof vt)return vt.toString();if(vt instanceof Error)return vt.message;try{return JSON.stringify(vt)}catch{return null}}).filter(vt=>vt).join(" ");sn>=(Pt??Rt.logLevel)&&Ie({level:he[sn].toLowerCase(),message:rt,args:tn,type:Rt.name})}}}},3008:(jn,Tt,Q)=>{Q.d(Tt,{IH:()=>fi,Gb:()=>ys,Kz:()=>qn,Iv:()=>Ri});var p=Q(5861),he=Q(9681),ae=Q(1877),Ve=Q(2090),ut=Q(4859);Q(2833);const Ge="analytics",it="firebase_id",we="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ae="https://www.googletagmanager.com/gtag/js",Pt=new ae.Yd("@firebase/analytics");function Rt(J){return Promise.all(J.map(K=>K.catch(j=>j)))}function sn(J,K){const j=document.createElement("script");j.src=`${Ae}?l=${J}&id=${K}`,j.async=!0,document.head.appendChild(j)}function rt(J,K,j,ee,Ce,tt){return vt.apply(this,arguments)}function vt(){return(vt=(0,p.Z)(function*(J,K,j,ee,Ce,tt){const $t=ee[Ce];try{if($t)yield K[$t];else{const gn=(yield Rt(j)).find(un=>un.measurementId===Ce);gn&&(yield K[gn.appId])}}catch(Bt){Pt.error(Bt)}J("config",Ce,tt)})).apply(this,arguments)}function Dt(J,K,j,ee,Ce){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,p.Z)(function*(J,K,j,ee,Ce){try{let tt=[];if(Ce&&Ce.send_to){let $t=Ce.send_to;Array.isArray($t)||($t=[$t]);const Bt=yield Rt(j);for(const gn of $t){const un=Bt.find(pi=>pi.measurementId===gn),Gr=un&&K[un.appId];if(!Gr){tt=[];break}tt.push(Gr)}}0===tt.length&&(tt=Object.values(K)),yield Promise.all(tt),J("event",ee,Ce||{})}catch(tt){Pt.error(tt)}})).apply(this,arguments)}function xt(J){const K=window.document.getElementsByTagName("script");for(const j of Object.values(K))if(j.src&&j.src.includes(Ae)&&j.src.includes(J))return j;return null}const ke=new Ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Te=new class Oe{constructor(K={},j=1e3){this.throttleMetadata=K,this.intervalMillis=j}getThrottleMetadata(K){return this.throttleMetadata[K]}setThrottleMetadata(K,j){this.throttleMetadata[K]=j}deleteThrottleMetadata(K){delete this.throttleMetadata[K]}};function Ye(J){return new Headers({Accept:"application/json","x-goog-api-key":J})}function He(J){return zt.apply(this,arguments)}function zt(){return(zt=(0,p.Z)(function*(J){var K;const{appId:j,apiKey:ee}=J,Ce={method:"GET",headers:Ye(ee)},tt=we.replace("{app-id}",j),$t=yield fetch(tt,Ce);if(200!==$t.status&&304!==$t.status){let Bt="";try{const gn=yield $t.json();null!==(K=gn.error)&&void 0!==K&&K.message&&(Bt=gn.error.message)}catch{}throw ke.create("config-fetch-failed",{httpStatus:$t.status,responseMessage:Bt})}return $t.json()})).apply(this,arguments)}function jt(J){return pn.apply(this,arguments)}function pn(){return(pn=(0,p.Z)(function*(J,K=Te,j){const{appId:ee,apiKey:Ce,measurementId:tt}=J.options;if(!ee)throw ke.create("no-app-id");if(!Ce){if(tt)return{measurementId:tt,appId:ee};throw ke.create("no-api-key")}const $t=K.getThrottleMetadata(ee)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Bt=new Zn;return setTimeout((0,p.Z)(function*(){Bt.abort()}),void 0!==j?j:6e4),Er({appId:ee,apiKey:Ce,measurementId:tt},$t,Bt,K)})).apply(this,arguments)}function Er(J,K,j){return cr.apply(this,arguments)}function cr(){return(cr=(0,p.Z)(function*(J,{throttleEndTimeMillis:K,backoffCount:j},ee,Ce=Te){var tt;const{appId:$t,measurementId:Bt}=J;try{yield Vn(ee,K)}catch(gn){if(Bt)return Pt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bt} provided in the "measurementId" field in the local Firebase config. [${gn?.message}]`),{appId:$t,measurementId:Bt};throw gn}try{const gn=yield He(J);return Ce.deleteThrottleMetadata($t),gn}catch(gn){const un=gn;if(!On(un)){if(Ce.deleteThrottleMetadata($t),Bt)return Pt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Bt} provided in the "measurementId" field in the local Firebase config. [${un?.message}]`),{appId:$t,measurementId:Bt};throw gn}const Gr=503===Number(null===(tt=un?.customData)||void 0===tt?void 0:tt.httpStatus)?(0,Ve.$s)(j,Ce.intervalMillis,30):(0,Ve.$s)(j,Ce.intervalMillis),pi={throttleEndTimeMillis:Date.now()+Gr,backoffCount:j+1};return Ce.setThrottleMetadata($t,pi),Pt.debug(`Calling attemptFetch again in ${Gr} millis`),Er(J,pi,ee,Ce)}})).apply(this,arguments)}function Vn(J,K){return new Promise((j,ee)=>{const Ce=Math.max(K-Date.now(),0),tt=setTimeout(j,Ce);J.addEventListener(()=>{clearTimeout(tt),ee(ke.create("fetch-throttle",{throttleEndTimeMillis:K}))})})}function On(J){if(!(J instanceof Ve.ZR&&J.customData))return!1;const K=Number(J.customData.httpStatus);return 429===K||500===K||503===K||504===K}class Zn{constructor(){this.listeners=[]}addEventListener(K){this.listeners.push(K)}abort(){this.listeners.forEach(K=>K())}}let Dr,Si;function Qn(){return(Qn=(0,p.Z)(function*(J,K,j,ee,Ce){if(Ce&&Ce.global)J("event",j,ee);else{const tt=yield K;J("event",j,Object.assign(Object.assign({},ee),{send_to:tt}))}})).apply(this,arguments)}function vr(){return(vr=(0,p.Z)(function*(J,K,j,ee){if(ee&&ee.global)return J("set",{user_id:j}),Promise.resolve();J("config",yield K,{update:!0,user_id:j})})).apply(this,arguments)}function zi(J){Si=J}function cn(J){Dr=J}function Ke(){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,p.Z)(function*(){if(!(0,Ve.hl)())return Pt.warn(ke.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ve.eu)()}catch(J){return Pt.warn(ke.create("indexeddb-unavailable",{errorInfo:J?.toString()}).message),!1}return!0})).apply(this,arguments)}function Nn(){return(Nn=(0,p.Z)(function*(J,K,j,ee,Ce,tt,$t){var Bt;const gn=jt(J);gn.then(_i=>{j[_i.measurementId]=_i.appId,J.options.measurementId&&_i.measurementId!==J.options.measurementId&&Pt.warn(`The measurement ID in the local Firebase config (${J.options.measurementId}) does not match the measurement ID fetched from the server (${_i.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_i=>Pt.error(_i)),K.push(gn);const un=Ke().then(_i=>{if(_i)return ee.getId()}),[Gr,pi]=yield Promise.all([gn,un]);xt(tt)||sn(tt,Gr.measurementId),Si&&(Ce("consent","default",Si),zi(void 0)),Ce("js",new Date);const or=null!==(Bt=$t?.config)&&void 0!==Bt?Bt:{};return or.origin="firebase",or.update=!0,null!=pi&&(or[it]=pi),Ce("config",Gr.measurementId,or),Dr&&(Ce("set",Dr),cn(void 0)),Gr.measurementId})).apply(this,arguments)}class ur{constructor(K){this.app=K}_delete(){return delete rr[this.app.options.appId],Promise.resolve()}}let rr={},jr=[];const ri={};let Ln,yr,hn="dataLayer",Hr=!1;function si(J,K,j){!function Xi(){const J=[];if((0,Ve.ru)()&&J.push("This is a browser extension environment."),(0,Ve.zI)()||J.push("Cookies are not available."),J.length>0){const K=J.map((ee,Ce)=>`(${Ce+1}) ${ee}`).join(" "),j=ke.create("invalid-analytics-context",{errorInfo:K});Pt.warn(j.message)}}();const ee=J.options.appId;if(!ee)throw ke.create("no-app-id");if(!J.options.apiKey){if(!J.options.measurementId)throw ke.create("no-api-key");Pt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${J.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=rr[ee])throw ke.create("already-exists",{id:ee});if(!Hr){!function tn(J){let K=[];Array.isArray(window[J])?K=window[J]:window[J]=K}(hn);const{wrappedGtag:tt,gtagCore:$t}=function Lt(J,K,j,ee,Ce){let tt=function(...$t){window[ee].push(arguments)};return window[Ce]&&"function"==typeof window[Ce]&&(tt=window[Ce]),window[Ce]=function kt(J,K,j,ee){function tt(){return(tt=(0,p.Z)(function*($t,Bt,gn){try{"event"===$t?yield Dt(J,K,j,Bt,gn):"config"===$t?yield rt(J,K,j,ee,Bt,gn):"consent"===$t?J("consent","update",gn):J("set",Bt)}catch(un){Pt.error(un)}})).apply(this,arguments)}return function Ce($t,Bt,gn){return tt.apply(this,arguments)}}(tt,J,K,j),{gtagCore:tt,wrappedGtag:window[Ce]}}(rr,jr,ri,hn,"gtag");yr=tt,Ln=$t,Hr=!0}return rr[ee]=function bt(J,K,j,ee,Ce,tt,$t){return Nn.apply(this,arguments)}(J,jr,ri,K,Ln,hn,j),new ur(J)}function fi(J=(0,he.getApp)()){J=(0,Ve.m9)(J);const K=(0,he._getProvider)(J,Ge);return K.isInitialized()?K.getImmediate():function Yn(J,K={}){const j=(0,he._getProvider)(J,Ge);if(j.isInitialized()){const Ce=j.getImmediate();if((0,Ve.vZ)(K,j.getOptions()))return Ce;throw ke.create("already-initialized")}return j.initialize({options:K})}(J)}function ys(){return fr.apply(this,arguments)}function fr(){return(fr=(0,p.Z)(function*(){if((0,Ve.ru)()||!(0,Ve.zI)()||!(0,Ve.hl)())return!1;try{return yield(0,Ve.eu)()}catch{return!1}})).apply(this,arguments)}function Ri(J,K,j){J=(0,Ve.m9)(J),function Mn(J,K,j,ee){return vr.apply(this,arguments)}(yr,rr[J.app.options.appId],K,j).catch(ee=>Pt.error(ee))}function qn(J,K,j,ee){J=(0,Ve.m9)(J),function mi(J,K,j,ee,Ce){return Qn.apply(this,arguments)}(yr,rr[J.app.options.appId],K,j,ee).catch(Ce=>Pt.error(Ce))}const Mr="@firebase/analytics";!function me(){(0,he._registerComponent)(new ut.wA(Ge,(K,{options:j})=>si(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),j),"PUBLIC")),(0,he._registerComponent)(new ut.wA("analytics-internal",function J(K){try{const j=K.getProvider(Ge).getImmediate();return{logEvent:(ee,Ce,tt)=>qn(j,ee,Ce,tt)}}catch(j){throw ke.create("interop-component-reg-failed",{reason:j})}},"PRIVATE")),(0,he.registerVersion)(Mr,"0.9.0"),(0,he.registerVersion)(Mr,"0.9.0","esm2017")}()},259:(jn,Tt,Q)=>{Q.d(Tt,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=Q(9681);(0,p.registerVersion)("firebase","9.15.0","app")},9260:(jn,Tt,Q)=>{Q.d(Tt,{Z:()=>p.Z});var p=Q(3942);p.Z.registerVersion("firebase","9.15.0","app-compat")},9568:(jn,Tt,Q)=>{Q.r(Tt);var p=Q(5861),he=Q(3942),ae=Q(552),Ve=Q(2090),Ge=(Q(9681),Q(1877),Q(4859));function it(){return window}function we(){return(we=(0,p.Z)(function*(K,j,ee){var Ce;const{BuildInfo:tt}=it();(0,ae.ap)(j.sessionId,"AuthEvent did not contain a session ID");const $t=yield vt(j.sessionId),Bt={};return(0,ae.aq)()?Bt.ibi=tt.packageName:(0,ae.ar)()?Bt.apn=tt.packageName:(0,ae.as)(K,"operation-not-supported-in-this-environment"),tt.displayName&&(Bt.appDisplayName=tt.displayName),Bt.sessionId=$t,(0,ae.at)(K,ee,j.type,void 0,null!==(Ce=j.eventId)&&void 0!==Ce?Ce:void 0,Bt)})).apply(this,arguments)}function Pt(){return(Pt=(0,p.Z)(function*(K){const{BuildInfo:j}=it(),ee={};(0,ae.aq)()?ee.iosBundleId=j.packageName:(0,ae.ar)()?ee.androidPackageName=j.packageName:(0,ae.as)(K,"operation-not-supported-in-this-environment"),yield(0,ae.au)(K,ee)})).apply(this,arguments)}function tn(){return(tn=(0,p.Z)(function*(K,j,ee){const{cordova:Ce}=it();let tt=()=>{};try{yield new Promise(($t,Bt)=>{let gn=null;function un(){var or;$t();const _i=null===(or=Ce.plugins.browsertab)||void 0===or?void 0:or.close;"function"==typeof _i&&_i(),"function"==typeof ee?.close&&ee.close()}function Gr(){gn||(gn=window.setTimeout(()=>{Bt((0,ae.aw)(K,"redirect-cancelled-by-user"))},2e3))}function pi(){"visible"===document?.visibilityState&&Gr()}j.addPassiveListener(un),document.addEventListener("resume",Gr,!1),(0,ae.ar)()&&document.addEventListener("visibilitychange",pi,!1),tt=()=>{j.removePassiveListener(un),document.removeEventListener("resume",Gr,!1),document.removeEventListener("visibilitychange",pi,!1),gn&&window.clearTimeout(gn)}})}finally{tt()}})).apply(this,arguments)}function vt(K){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,p.Z)(function*(K){const j=Ot(K),ee=yield crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array(ee)).map(tt=>tt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ot(K){if((0,ae.ap)(/[0-9a-zA-Z]+/.test(K),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(K);const j=new ArrayBuffer(K.length),ee=new Uint8Array(j);for(let Ce=0;Ce<K.length;Ce++)ee[Ce]=K.charCodeAt(Ce);return ee}class Lt extends ae.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(j=>{this.resolveInialized=j})}addPassiveListener(j){this.passiveListeners.add(j)}removePassiveListener(j){this.passiveListeners.delete(j)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(j){return this.resolveInialized(),this.passiveListeners.forEach(ee=>ee(j)),super.onEvent(j)}initialized(){var j=this;return(0,p.Z)(function*(){yield j.initPromise})()}}function ke(K){return et.apply(this,arguments)}function et(){return(et=(0,p.Z)(function*(K){const j=yield Te()._get(Ye(K));return j&&(yield Te()._remove(Ye(K))),j})).apply(this,arguments)}function Oe(){const K=[],j="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ee=0;ee<20;ee++){const Ce=Math.floor(Math.random()*j.length);K.push(j.charAt(Ce))}return K.join("")}function Te(){return(0,ae.az)(ae.b)}function Ye(K){return(0,ae.aA)("authEvent",K.config.apiKey,K.name)}function jt(K){if(!K?.includes("?"))return{};const[j,...ee]=K.split("?");return(0,Ve.zd)(ee.join("?"))}const cr=class Er{constructor(){this._redirectPersistence=ae.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ae.aB,this._overrideRedirectResult=ae.aC}_initialize(j){var ee=this;return(0,p.Z)(function*(){const Ce=j._key();let tt=ee.eventManagers.get(Ce);return tt||(tt=new Lt(j),ee.eventManagers.set(Ce,tt),ee.attachCallbackListeners(j,tt)),tt})()}_openPopup(j){(0,ae.as)(j,"operation-not-supported-in-this-environment")}_openRedirect(j,ee,Ce,tt){var $t=this;return(0,p.Z)(function*(){!function rt(K){var j,ee,Ce,tt,$t,Bt,gn,un,Gr,pi;const or=it();(0,ae.ax)("function"==typeof(null===(j=or?.universalLinks)||void 0===j?void 0:j.subscribe),K,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,ae.ax)(typeof(null===(ee=or?.BuildInfo)||void 0===ee?void 0:ee.packageName)<"u",K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,ae.ax)("function"==typeof(null===($t=null===(tt=null===(Ce=or?.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===$t?void 0:$t.openUrl),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ae.ax)("function"==typeof(null===(un=null===(gn=null===(Bt=or?.cordova)||void 0===Bt?void 0:Bt.plugins)||void 0===gn?void 0:gn.browsertab)||void 0===un?void 0:un.isAvailable),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ae.ax)("function"==typeof(null===(pi=null===(Gr=or?.cordova)||void 0===Gr?void 0:Gr.InAppBrowser)||void 0===pi?void 0:pi.open),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(j);const Bt=yield $t._initialize(j);yield Bt.initialized(),Bt.resetRedirect(),(0,ae.aD)(),yield $t._originValidation(j);const gn=function xt(K,j,ee=null){return{type:j,eventId:ee,urlResponse:null,sessionId:Oe(),postBody:null,tenantId:K.tenantId,error:(0,ae.aw)(K,"no-auth-event")}}(j,Ce,tt);yield function Yt(K,j){return Te()._set(Ye(K),j)}(j,gn);const un=yield function Ie(K,j,ee){return we.apply(this,arguments)}(j,gn,ee),Gr=yield function Rt(K){const{cordova:j}=it();return new Promise(ee=>{j.plugins.browsertab.isAvailable(Ce=>{let tt=null;Ce?j.plugins.browsertab.openUrl(K):tt=j.InAppBrowser.open(K,(0,ae.av)()?"_blank":"_system","location=yes"),ee(tt)})})}(un);return function sn(K,j,ee){return tn.apply(this,arguments)}(j,Bt,Gr)})()}_isIframeWebStorageSupported(j,ee){throw new Error("Method not implemented.")}_originValidation(j){const ee=j._key();return this.originValidationPromises[ee]||(this.originValidationPromises[ee]=function Ae(K){return Pt.apply(this,arguments)}(j)),this.originValidationPromises[ee]}attachCallbackListeners(j,ee){const{universalLinks:Ce,handleOpenURL:tt,BuildInfo:$t}=it(),Bt=setTimeout((0,p.Z)(function*(){yield ke(j),ee.onEvent(Vn())}),500),gn=function(){var pi=(0,p.Z)(function*(or){clearTimeout(Bt);const _i=yield ke(j);let Le=null;_i&&or?.url&&(Le=function mt(K,j){var ee,Ce;const tt=function zt(K){const j=jt(K),ee=j.link?decodeURIComponent(j.link):void 0,Ce=jt(ee).link,tt=j.deep_link_id?decodeURIComponent(j.deep_link_id):void 0;return jt(tt).link||tt||Ce||ee||K}(j);if(tt.includes("/__/auth/callback")){const $t=jt(tt),Bt=$t.firebaseError?function He(K){try{return JSON.parse(K)}catch{return null}}(decodeURIComponent($t.firebaseError)):null,gn=null===(Ce=null===(ee=Bt?.code)||void 0===ee?void 0:ee.split("auth/"))||void 0===Ce?void 0:Ce[1],un=gn?(0,ae.aw)(gn):null;return un?{type:K.type,eventId:K.eventId,tenantId:K.tenantId,error:un,urlResponse:null,sessionId:null,postBody:null}:{type:K.type,eventId:K.eventId,tenantId:K.tenantId,sessionId:K.sessionId,urlResponse:tt,postBody:null}}return null}(_i,or.url)),ee.onEvent(Le||Vn())});return function(_i){return pi.apply(this,arguments)}}();typeof Ce<"u"&&"function"==typeof Ce.subscribe&&Ce.subscribe(null,gn);const un=tt,Gr=`${$t.packageName.toLowerCase()}://`;it().handleOpenURL=function(){var pi=(0,p.Z)(function*(or){if(or.toLowerCase().startsWith(Gr)&&gn({url:or}),"function"==typeof un)try{un(or)}catch(_i){console.error(_i)}});return function(or){return pi.apply(this,arguments)}}()}};function Vn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,ae.aw)("no-auth-event")}}function Qn(){var K;return(null===(K=self?.location)||void 0===K?void 0:K.protocol)||null}function Hn(K=(0,Ve.z$)()){return!("file:"!==Qn()&&"ionic:"!==Qn()&&"capacitor:"!==Qn()||!K.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pi(){try{const K=self.localStorage,j=ae.aI();if(K)return K.setItem(j,"1"),K.removeItem(j),!function Cr(K=(0,Ve.z$)()){return function vr(){return(0,Ve.w1)()&&11===document?.documentMode}()||function _r(K=(0,Ve.z$)()){return/Edge\/\d+/.test(K)}(K)}()||(0,Ve.hl)()}catch{return Ci()&&(0,Ve.hl)()}return!1}function Ci(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Si(){return(function It(){return"http:"===Qn()||"https:"===Qn()}()||(0,Ve.ru)()||Hn())&&!function Mn(){return(0,Ve.b$)()||(0,Ve.UG)()}()&&Pi()&&!Ci()}function zi(){return Hn()&&typeof document<"u"}function Ke(){return(Ke=(0,p.Z)(function*(){return!!zi()&&new Promise(K=>{const j=setTimeout(()=>{K(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(j),K(!0)})})})).apply(this,arguments)}const bt={LOCAL:"local",NONE:"none",SESSION:"session"},Nn=ae.ax,ur="persistence";function jr(K){return ri.apply(this,arguments)}function ri(){return(ri=(0,p.Z)(function*(K){yield K._initializationPromise;const j=an(),ee=ae.aA(ur,K.config.apiKey,K.name);j&&j.setItem(ee,K._getPersistence())})).apply(this,arguments)}function an(){var K;try{return(null===(K=function Nt(){return typeof window<"u"?window:null}())||void 0===K?void 0:K.sessionStorage)||null}catch{return null}}const Ln=ae.ax;class yr{constructor(){this.browserResolver=ae.az(ae.k),this.cordovaResolver=ae.az(cr),this.underlyingResolver=null,this._redirectPersistence=ae.a,this._completeRedirectFn=ae.aB,this._overrideRedirectResult=ae.aC}_initialize(j){var ee=this;return(0,p.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._initialize(j)})()}_openPopup(j,ee,Ce,tt){var $t=this;return(0,p.Z)(function*(){return yield $t.selectUnderlyingResolver(),$t.assertedUnderlyingResolver._openPopup(j,ee,Ce,tt)})()}_openRedirect(j,ee,Ce,tt){var $t=this;return(0,p.Z)(function*(){return yield $t.selectUnderlyingResolver(),$t.assertedUnderlyingResolver._openRedirect(j,ee,Ce,tt)})()}_isIframeWebStorageSupported(j,ee){this.assertedUnderlyingResolver._isIframeWebStorageSupported(j,ee)}_originValidation(j){return this.assertedUnderlyingResolver._originValidation(j)}get _shouldInitProactively(){return zi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ln(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var j=this;return(0,p.Z)(function*(){if(j.underlyingResolver)return;const ee=yield function cn(){return Ke.apply(this,arguments)}();j.underlyingResolver=ee?j.cordovaResolver:j.browserResolver})()}}function Hr(K){return K.unwrap()}function Xi(K){return fi(K)}function fi(K){const{_tokenResponse:j}=K instanceof Ve.ZR?K.customData:K;if(!j)return null;if(!(K instanceof Ve.ZR)&&"temporaryProof"in j&&"phoneNumber"in j)return ae.P.credentialFromResult(K);const ee=j.providerId;if(!ee||ee===ae.o.PASSWORD)return null;let Ce;switch(ee){case ae.o.GOOGLE:Ce=ae.Q;break;case ae.o.FACEBOOK:Ce=ae.N;break;case ae.o.GITHUB:Ce=ae.T;break;case ae.o.TWITTER:Ce=ae.W;break;default:const{oauthIdToken:tt,oauthAccessToken:$t,oauthTokenSecret:Bt,pendingToken:gn,nonce:un}=j;return $t||Bt||tt||gn?gn?ee.startsWith("saml.")?ae.aL._create(ee,gn):ae.J._fromParams({providerId:ee,signInMethod:ee,pendingToken:gn,idToken:tt,accessToken:$t}):new ae.U(ee).credential({idToken:tt,accessToken:$t,rawNonce:un}):null}return K instanceof Ve.ZR?Ce.credentialFromError(K):Ce.credentialFromResult(K)}function Yn(K,j){return j.catch(ee=>{throw ee instanceof Ve.ZR&&function si(K,j){var ee;const Ce=null===(ee=j.customData)||void 0===ee?void 0:ee._tokenResponse;if("auth/multi-factor-auth-required"===j?.code)j.resolver=new As(K,ae.an(K,j));else if(Ce){const tt=fi(j),$t=j;tt&&($t.credential=tt,$t.tenantId=Ce.tenantId||void 0,$t.email=Ce.email||void 0,$t.phoneNumber=Ce.phoneNumber||void 0)}}(K,ee),ee}).then(ee=>{const tt=ee.user;return{operationType:ee.operationType,credential:Xi(ee),additionalUserInfo:ae.al(ee),user:Ri.getOrCreate(tt)}})}function ys(K,j){return fr.apply(this,arguments)}function fr(){return(fr=(0,p.Z)(function*(K,j){const ee=yield j;return{verificationId:ee.verificationId,confirm:Ce=>Yn(K,ee.confirm(Ce))}})).apply(this,arguments)}class As{constructor(j,ee){this.resolver=ee,this.auth=function hi(K){return K.wrapped()}(j)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(j){return Yn(Hr(this.auth),this.resolver.resolveSignIn(j))}}class Ri{constructor(j){this._delegate=j,this.multiFactor=ae.ao(j)}static getOrCreate(j){return Ri.USER_MAP.has(j)||Ri.USER_MAP.set(j,new Ri(j)),Ri.USER_MAP.get(j)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(j){return this._delegate.getIdTokenResult(j)}getIdToken(j){return this._delegate.getIdToken(j)}linkAndRetrieveDataWithCredential(j){return this.linkWithCredential(j)}linkWithCredential(j){var ee=this;return(0,p.Z)(function*(){return Yn(ee.auth,ae.Z(ee._delegate,j))})()}linkWithPhoneNumber(j,ee){var Ce=this;return(0,p.Z)(function*(){return ys(Ce.auth,ae.l(Ce._delegate,j,ee))})()}linkWithPopup(j){var ee=this;return(0,p.Z)(function*(){return Yn(ee.auth,ae.d(ee._delegate,j,yr))})()}linkWithRedirect(j){var ee=this;return(0,p.Z)(function*(){return yield jr(ae.aE(ee.auth)),ae.g(ee._delegate,j,yr)})()}reauthenticateAndRetrieveDataWithCredential(j){return this.reauthenticateWithCredential(j)}reauthenticateWithCredential(j){var ee=this;return(0,p.Z)(function*(){return Yn(ee.auth,ae._(ee._delegate,j))})()}reauthenticateWithPhoneNumber(j,ee){return ys(this.auth,ae.r(this._delegate,j,ee))}reauthenticateWithPopup(j){return Yn(this.auth,ae.e(this._delegate,j,yr))}reauthenticateWithRedirect(j){var ee=this;return(0,p.Z)(function*(){return yield jr(ae.aE(ee.auth)),ae.h(ee._delegate,j,yr)})()}sendEmailVerification(j){return ae.ab(this._delegate,j)}unlink(j){var ee=this;return(0,p.Z)(function*(){return yield ae.ak(ee._delegate,j),ee})()}updateEmail(j){return ae.ag(this._delegate,j)}updatePassword(j){return ae.ah(this._delegate,j)}updatePhoneNumber(j){return ae.u(this._delegate,j)}updateProfile(j){return ae.af(this._delegate,j)}verifyBeforeUpdateEmail(j,ee){return ae.ac(this._delegate,j,ee)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ri.USER_MAP=new WeakMap;const Qt=ae.ax;let St=(()=>{class K{constructor(ee,Ce){if(this.app=ee,Ce.isInitialized())return this._delegate=Ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:tt}=ee.options;Qt(tt,"invalid-api-key",{appName:ee.name}),Qt(tt,"invalid-api-key",{appName:ee.name});const $t=typeof window<"u"?yr:void 0;this._delegate=Ce.initialize({options:{persistence:qn(tt,ee.name),popupRedirectResolver:$t}}),this._delegate._updateErrorMap(ae.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ri.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ee){this._delegate.languageCode=ee}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ee){this._delegate.tenantId=ee}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ee,Ce){ae.G(this._delegate,ee,Ce)}applyActionCode(ee){return ae.a2(this._delegate,ee)}checkActionCode(ee){return ae.a3(this._delegate,ee)}confirmPasswordReset(ee,Ce){return ae.a1(this._delegate,ee,Ce)}createUserWithEmailAndPassword(ee,Ce){var tt=this;return(0,p.Z)(function*(){return Yn(tt._delegate,ae.a5(tt._delegate,ee,Ce))})()}fetchProvidersForEmail(ee){return this.fetchSignInMethodsForEmail(ee)}fetchSignInMethodsForEmail(ee){return ae.aa(this._delegate,ee)}isSignInWithEmailLink(ee){return ae.a8(this._delegate,ee)}getRedirectResult(){var ee=this;return(0,p.Z)(function*(){Qt(Si(),ee._delegate,"operation-not-supported-in-this-environment");const Ce=yield ae.j(ee._delegate,yr);return Ce?Yn(ee._delegate,Promise.resolve(Ce)):{credential:null,user:null}})()}addFrameworkForLogging(ee){!function On(K,j){(0,ae.aE)(K)._logFramework(j)}(this._delegate,ee)}onAuthStateChanged(ee,Ce,tt){const{next:$t,error:Bt,complete:gn}=fn(ee,Ce,tt);return this._delegate.onAuthStateChanged($t,Bt,gn)}onIdTokenChanged(ee,Ce,tt){const{next:$t,error:Bt,complete:gn}=fn(ee,Ce,tt);return this._delegate.onIdTokenChanged($t,Bt,gn)}sendSignInLinkToEmail(ee,Ce){return ae.a7(this._delegate,ee,Ce)}sendPasswordResetEmail(ee,Ce){return ae.a0(this._delegate,ee,Ce||void 0)}setPersistence(ee){var Ce=this;return(0,p.Z)(function*(){let tt;switch(function rr(K,j){Nn(Object.values(bt).includes(j),K,"invalid-persistence-type"),(0,Ve.b$)()?Nn(j!==bt.SESSION,K,"unsupported-persistence-type"):(0,Ve.UG)()?Nn(j===bt.NONE,K,"unsupported-persistence-type"):Ci()?Nn(j===bt.NONE||j===bt.LOCAL&&(0,Ve.hl)(),K,"unsupported-persistence-type"):Nn(j===bt.NONE||Pi(),K,"unsupported-persistence-type")}(Ce._delegate,ee),ee){case bt.SESSION:tt=ae.a;break;case bt.LOCAL:tt=(yield ae.az(ae.i)._isAvailable())?ae.i:ae.b;break;case bt.NONE:tt=ae.L;break;default:return ae.as("argument-error",{appName:Ce._delegate.name})}return Ce._delegate.setPersistence(tt)})()}signInAndRetrieveDataWithCredential(ee){return this.signInWithCredential(ee)}signInAnonymously(){return Yn(this._delegate,ae.X(this._delegate))}signInWithCredential(ee){return Yn(this._delegate,ae.Y(this._delegate,ee))}signInWithCustomToken(ee){return Yn(this._delegate,ae.$(this._delegate,ee))}signInWithEmailAndPassword(ee,Ce){return Yn(this._delegate,ae.a6(this._delegate,ee,Ce))}signInWithEmailLink(ee,Ce){return Yn(this._delegate,ae.a9(this._delegate,ee,Ce))}signInWithPhoneNumber(ee,Ce){return ys(this._delegate,ae.s(this._delegate,ee,Ce))}signInWithPopup(ee){var Ce=this;return(0,p.Z)(function*(){return Qt(Si(),Ce._delegate,"operation-not-supported-in-this-environment"),Yn(Ce._delegate,ae.c(Ce._delegate,ee,yr))})()}signInWithRedirect(ee){var Ce=this;return(0,p.Z)(function*(){return Qt(Si(),Ce._delegate,"operation-not-supported-in-this-environment"),yield jr(Ce._delegate),ae.f(Ce._delegate,ee,yr)})()}updateCurrentUser(ee){return this._delegate.updateCurrentUser(ee)}verifyPasswordResetCode(ee){return ae.a4(this._delegate,ee)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return K.Persistence=bt,K})();function fn(K,j,ee){let Ce=K;"function"!=typeof K&&({next:Ce,error:j,complete:ee}=K);const tt=Ce;return{next:Bt=>tt(Bt&&Ri.getOrCreate(Bt)),error:j,complete:ee}}function qn(K,j){const ee=function hn(K,j){const ee=an();if(!ee)return[];const Ce=ae.aA(ur,K,j);switch(ee.getItem(Ce)){case bt.NONE:return[ae.L];case bt.LOCAL:return[ae.i,ae.a];case bt.SESSION:return[ae.a];default:return[]}}(K,j);if(typeof self<"u"&&!ee.includes(ae.i)&&ee.push(ae.i),typeof window<"u")for(const Ce of[ae.b,ae.a])ee.includes(Ce)||ee.push(Ce);return ee.includes(ae.L)||ee.push(ae.L),ee}class sr{constructor(){this.providerId="phone",this._delegate=new ae.P(Hr(he.Z.auth()))}static credential(j,ee){return ae.P.credential(j,ee)}verifyPhoneNumber(j,ee){return this._delegate.verifyPhoneNumber(j,ee)}unwrap(){return this._delegate}}sr.PHONE_SIGN_IN_METHOD=ae.P.PHONE_SIGN_IN_METHOD,sr.PROVIDER_ID=ae.P.PROVIDER_ID;const Mr=ae.ax;class ve{constructor(j,ee,Ce=he.Z.app()){var tt;Mr(null===(tt=Ce.options)||void 0===tt?void 0:tt.apiKey,"invalid-api-key",{appName:Ce.name}),this._delegate=new ae.R(j,ee,Ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function J(K){K.INTERNAL.registerComponent(new Ge.wA("auth-compat",j=>{const ee=j.getProvider("app-compat").getImmediate(),Ce=j.getProvider("auth");return new St(ee,Ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ae.A.EMAIL_SIGNIN,PASSWORD_RESET:ae.A.PASSWORD_RESET,RECOVER_EMAIL:ae.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ae.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ae.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ae.A.VERIFY_EMAIL}},EmailAuthProvider:ae.M,FacebookAuthProvider:ae.N,GithubAuthProvider:ae.T,GoogleAuthProvider:ae.Q,OAuthProvider:ae.U,SAMLAuthProvider:ae.V,PhoneAuthProvider:sr,PhoneMultiFactorGenerator:ae.m,RecaptchaVerifier:ve,TwitterAuthProvider:ae.W,Auth:St,AuthCredential:ae.H,Error:Ve.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),K.registerVersion("@firebase/auth-compat","0.3.0")}(he.Z)},751:(jn,Tt,Q)=>{Q.d(Tt,{KL:()=>un,Gb:()=>Ce});var p=Q(5861),ae=(Q(2833),Q(4859)),Ve=Q(8766),ut=Q(2090),lt=Q(9681);const Ge="/firebase-messaging-sw.js",it="/firebase-cloud-messaging-push-scope",dt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",we="google.c.a.c_id",Ae="google.c.a.c_l",Pt="google.c.a.ts",Rt="google.c.a.e";var tn=(()=>{return(Le=tn||(tn={})).PUSH_RECEIVED="push-received",Le.NOTIFICATION_CLICKED="notification-clicked",tn;var Le})();function rt(Le){const st=new Uint8Array(Le);return btoa(String.fromCharCode(...st)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vt(Le){const wn=(Le+"=".repeat((4-Le.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Pn=atob(wn),Xn=new Uint8Array(Pn.length);for(let xe=0;xe<Pn.length;++xe)Xn[xe]=Pn.charCodeAt(xe);return Xn}const Dt="fcm_token_details_db",kt="fcm_token_object_Store";function Lt(Le){return xt.apply(this,arguments)}function xt(){return xt=(0,p.Z)(function*(Le){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(xe=>xe.name).includes(Dt))return null;let st=null;return(yield(0,Ve.X3)(Dt,5,{upgrade:(Pn=(0,p.Z)(function*(Xn,xe,at,Zt){var Gn;if(xe<2||!Xn.objectStoreNames.contains(kt))return;const yi=Zt.objectStore(kt),Kn=yield yi.index("fcmSenderId").get(Le);if(yield yi.clear(),Kn)if(2===xe){const Bn=Kn;if(!Bn.auth||!Bn.p256dh||!Bn.endpoint)return;st={token:Bn.fcmToken,createTime:null!==(Gn=Bn.createTime)&&void 0!==Gn?Gn:Date.now(),subscriptionOptions:{auth:Bn.auth,p256dh:Bn.p256dh,endpoint:Bn.endpoint,swScope:Bn.swScope,vapidKey:"string"==typeof Bn.vapidKey?Bn.vapidKey:rt(Bn.vapidKey)}}}else if(3===xe){const Bn=Kn;st={token:Bn.fcmToken,createTime:Bn.createTime,subscriptionOptions:{auth:rt(Bn.auth),p256dh:rt(Bn.p256dh),endpoint:Bn.endpoint,swScope:Bn.swScope,vapidKey:rt(Bn.vapidKey)}}}else if(4===xe){const Bn=Kn;st={token:Bn.fcmToken,createTime:Bn.createTime,subscriptionOptions:{auth:rt(Bn.auth),p256dh:rt(Bn.p256dh),endpoint:Bn.endpoint,swScope:Bn.swScope,vapidKey:rt(Bn.vapidKey)}}}}),function(xe,at,Zt,Gn){return Pn.apply(this,arguments)})})).close(),yield(0,Ve.Lj)(Dt),yield(0,Ve.Lj)("fcm_vapid_details_db"),yield(0,Ve.Lj)("undefined"),Yt(st)?st:null;var Pn}),xt.apply(this,arguments)}function Yt(Le){if(!Le||!Le.subscriptionOptions)return!1;const{subscriptionOptions:st}=Le;return"number"==typeof Le.createTime&&Le.createTime>0&&"string"==typeof Le.token&&Le.token.length>0&&"string"==typeof st.auth&&st.auth.length>0&&"string"==typeof st.p256dh&&st.p256dh.length>0&&"string"==typeof st.endpoint&&st.endpoint.length>0&&"string"==typeof st.swScope&&st.swScope.length>0&&"string"==typeof st.vapidKey&&st.vapidKey.length>0}const mt="firebase-messaging-store";let Oe=null;function Te(){return Oe||(Oe=(0,Ve.X3)("firebase-messaging-database",1,{upgrade:(Le,st)=>{0===st&&Le.createObjectStore(mt)}})),Oe}function Ye(Le){return He.apply(this,arguments)}function He(){return(He=(0,p.Z)(function*(Le){const st=cr(Le),Pn=yield(yield Te()).transaction(mt).objectStore(mt).get(st);if(Pn)return Pn;{const Xn=yield Lt(Le.appConfig.senderId);if(Xn)return yield zt(Le,Xn),Xn}})).apply(this,arguments)}function zt(Le,st){return jt.apply(this,arguments)}function jt(){return(jt=(0,p.Z)(function*(Le,st){const wn=cr(Le),Xn=(yield Te()).transaction(mt,"readwrite");return yield Xn.objectStore(mt).put(st,wn),yield Xn.done,st})).apply(this,arguments)}function pn(Le){return Er.apply(this,arguments)}function Er(){return(Er=(0,p.Z)(function*(Le){const st=cr(Le),Pn=(yield Te()).transaction(mt,"readwrite");yield Pn.objectStore(mt).delete(st),yield Pn.done})).apply(this,arguments)}function cr({appConfig:Le}){return Le.appId}const On=new ut.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Zn(Le,st){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,p.Z)(function*(Le,st){const wn=yield vr(Le),Pn=Cr(st),Xn={method:"POST",headers:wn,body:JSON.stringify(Pn)};let xe;try{xe=yield(yield fetch(Mn(Le.appConfig),Xn)).json()}catch(at){throw On.create("token-subscribe-failed",{errorInfo:at?.toString()})}if(xe.error)throw On.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw On.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function mi(Le,st){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,p.Z)(function*(Le,st){const wn=yield vr(Le),Pn=Cr(st.subscriptionOptions),Xn={method:"PATCH",headers:wn,body:JSON.stringify(Pn)};let xe;try{xe=yield(yield fetch(`${Mn(Le.appConfig)}/${st.token}`,Xn)).json()}catch(at){throw On.create("token-update-failed",{errorInfo:at?.toString()})}if(xe.error)throw On.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw On.create("token-update-no-token");return xe.token})).apply(this,arguments)}function It(Le,st){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,p.Z)(function*(Le,st){const Pn={method:"DELETE",headers:yield vr(Le)};try{const xe=yield(yield fetch(`${Mn(Le.appConfig)}/${st}`,Pn)).json();if(xe.error)throw On.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(Xn){throw On.create("token-unsubscribe-failed",{errorInfo:Xn?.toString()})}})).apply(this,arguments)}function Mn({projectId:Le}){return`https://fcmregistrations.googleapis.com/v1/projects/${Le}/registrations`}function vr(Le){return _r.apply(this,arguments)}function _r(){return(_r=(0,p.Z)(function*({appConfig:Le,installations:st}){const wn=yield st.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Le.apiKey,"x-goog-firebase-installations-auth":`FIS ${wn}`})})).apply(this,arguments)}function Cr({p256dh:Le,auth:st,endpoint:wn,vapidKey:Pn}){const Xn={web:{endpoint:wn,auth:st,p256dh:Le}};return Pn!==dt&&(Xn.web.applicationPubKey=Pn),Xn}const Pi=6048e5;function Ci(Le){return Si.apply(this,arguments)}function Si(){return(Si=(0,p.Z)(function*(Le){const st=yield ur(Le.swRegistration,Le.vapidKey),wn={vapidKey:Le.vapidKey,swScope:Le.swRegistration.scope,endpoint:st.endpoint,auth:rt(st.getKey("auth")),p256dh:rt(st.getKey("p256dh"))},Pn=yield Ye(Le.firebaseDependencies);if(Pn){if(jr(Pn.subscriptionOptions,wn))return Date.now()>=Pn.createTime+Pi?Ke(Le,{token:Pn.token,createTime:Date.now(),subscriptionOptions:wn}):Pn.token;try{yield It(Le.firebaseDependencies,Pn.token)}catch(Xn){console.warn(Xn)}return bt(Le.firebaseDependencies,wn)}return bt(Le.firebaseDependencies,wn)})).apply(this,arguments)}function zi(Le){return cn.apply(this,arguments)}function cn(){return(cn=(0,p.Z)(function*(Le){const st=yield Ye(Le.firebaseDependencies);st&&(yield It(Le.firebaseDependencies,st.token),yield pn(Le.firebaseDependencies));const wn=yield Le.swRegistration.pushManager.getSubscription();return!wn||wn.unsubscribe()})).apply(this,arguments)}function Ke(Le,st){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,p.Z)(function*(Le,st){try{const wn=yield mi(Le.firebaseDependencies,st),Pn=Object.assign(Object.assign({},st),{token:wn,createTime:Date.now()});return yield zt(Le.firebaseDependencies,Pn),wn}catch(wn){throw yield zi(Le),wn}})).apply(this,arguments)}function bt(Le,st){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,p.Z)(function*(Le,st){const Pn={token:yield Zn(Le,st),createTime:Date.now(),subscriptionOptions:st};return yield zt(Le,Pn),Pn.token})).apply(this,arguments)}function ur(Le,st){return rr.apply(this,arguments)}function rr(){return(rr=(0,p.Z)(function*(Le,st){return(yield Le.pushManager.getSubscription())||Le.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vt(st)})})).apply(this,arguments)}function jr(Le,st){return st.vapidKey===Le.vapidKey&&st.endpoint===Le.endpoint&&st.auth===Le.auth&&st.p256dh===Le.p256dh}function ri(Le){const st={from:Le.from,collapseKey:Le.collapse_key,messageId:Le.fcmMessageId};return function hn(Le,st){if(!st.notification)return;Le.notification={};const wn=st.notification.title;wn&&(Le.notification.title=wn);const Pn=st.notification.body;Pn&&(Le.notification.body=Pn);const Xn=st.notification.image;Xn&&(Le.notification.image=Xn);const xe=st.notification.icon;xe&&(Le.notification.icon=xe)}(st,Le),function an(Le,st){!st.data||(Le.data=st.data)}(st,Le),function Ln(Le,st){var wn,Pn,Xn,xe,at;if(!(st.fcmOptions||null!==(wn=st.notification)&&void 0!==wn&&wn.click_action))return;Le.fcmOptions={};const Zt=null!==(Xn=null===(Pn=st.fcmOptions)||void 0===Pn?void 0:Pn.link)&&void 0!==Xn?Xn:null===(xe=st.notification)||void 0===xe?void 0:xe.click_action;Zt&&(Le.fcmOptions.link=Zt);const Gn=null===(at=st.fcmOptions)||void 0===at?void 0:at.analytics_label;Gn&&(Le.fcmOptions.analyticsLabel=Gn)}(st,Le),st}function yr(Le){return"object"==typeof Le&&!!Le&&we in Le}function Hr(Le,st){const wn=[];for(let Pn=0;Pn<Le.length;Pn++)wn.push(Le.charAt(Pn)),Pn<st.length&&wn.push(st.charAt(Pn));return wn.join("")}function Xi(Le){return On.create("missing-app-config-values",{valueName:Le})}Hr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class si{constructor(st,wn,Pn){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Xn=function hi(Le){if(!Le||!Le.options)throw Xi("App Configuration Object");if(!Le.name)throw Xi("App Name");const st=["projectId","apiKey","appId","messagingSenderId"],{options:wn}=Le;for(const Pn of st)if(!wn[Pn])throw Xi(Pn);return{appName:Le.name,projectId:wn.projectId,apiKey:wn.apiKey,appId:wn.appId,senderId:wn.messagingSenderId}}(st);this.firebaseDependencies={app:st,appConfig:Xn,installations:wn,analyticsProvider:Pn}}_delete(){return Promise.resolve()}}function fi(Le){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,p.Z)(function*(Le){try{Le.swRegistration=yield navigator.serviceWorker.register(Ge,{scope:it}),Le.swRegistration.update().catch(()=>{})}catch(st){throw On.create("failed-service-worker-registration",{browserErrorMessage:st?.message})}})).apply(this,arguments)}function ys(Le,st){return fr.apply(this,arguments)}function fr(){return(fr=(0,p.Z)(function*(Le,st){if(!st&&!Le.swRegistration&&(yield fi(Le)),st||!Le.swRegistration){if(!(st instanceof ServiceWorkerRegistration))throw On.create("invalid-sw-registration");Le.swRegistration=st}})).apply(this,arguments)}function As(Le,st){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,p.Z)(function*(Le,st){st?Le.vapidKey=st:Le.vapidKey||(Le.vapidKey=dt)})).apply(this,arguments)}function St(){return(St=(0,p.Z)(function*(Le,st){if(!navigator)throw On.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw On.create("permission-blocked");return yield As(Le,st?.vapidKey),yield ys(Le,st?.serviceWorkerRegistration),Ci(Le)})).apply(this,arguments)}function fn(Le,st,wn){return qn.apply(this,arguments)}function qn(){return(qn=(0,p.Z)(function*(Le,st,wn){const Pn=sr(st);(yield Le.firebaseDependencies.analyticsProvider.get()).logEvent(Pn,{message_id:wn[we],message_name:wn[Ae],message_time:wn[Pt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function sr(Le){switch(Le){case tn.NOTIFICATION_CLICKED:return"notification_open";case tn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ve(){return(ve=(0,p.Z)(function*(Le,st){const wn=st.data;if(!wn.isFirebaseMessaging)return;Le.onMessageHandler&&wn.messageType===tn.PUSH_RECEIVED&&("function"==typeof Le.onMessageHandler?Le.onMessageHandler(ri(wn)):Le.onMessageHandler.next(ri(wn)));const Pn=wn.data;yr(Pn)&&"1"===Pn[Rt]&&(yield fn(Le,wn.messageType,Pn))})).apply(this,arguments)}const me="@firebase/messaging",J="0.12.0",K=Le=>{const st=new si(Le.getProvider("app").getImmediate(),Le.getProvider("installations-internal").getImmediate(),Le.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",wn=>function Mr(Le,st){return ve.apply(this,arguments)}(st,wn)),st},j=Le=>{const st=Le.getProvider("messaging").getImmediate();return{getToken:Pn=>function Qt(Le,st){return St.apply(this,arguments)}(st,Pn)}};function Ce(){return tt.apply(this,arguments)}function tt(){return(tt=(0,p.Z)(function*(){try{yield(0,ut.eu)()}catch{return!1}return typeof window<"u"&&(0,ut.hl)()&&(0,ut.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function un(Le=(0,lt.getApp)()){return Ce().then(st=>{if(!st)throw On.create("unsupported-browser")},st=>{throw On.create("indexed-db-unsupported")}),(0,lt._getProvider)((0,ut.m9)(Le),"messaging").getImmediate()}!function ee(){(0,lt._registerComponent)(new ae.wA("messaging",K,"PUBLIC")),(0,lt._registerComponent)(new ae.wA("messaging-internal",j,"PRIVATE")),(0,lt.registerVersion)(me,J),(0,lt.registerVersion)(me,J,"esm2017")}()},4880:(jn,Tt,Q)=>{Q.d(Tt,{sN:()=>Dt,Gb:()=>Si});var p=Q(5861),he=Q(9681),ae=Q(2090),Ve=Q(4859),ut=Q(1877);Q(2833);const Ge="@firebase/remote-config",Ie="remote-config",Ae=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function Dt(cn=(0,he.getApp)()){return cn=(0,ae.m9)(cn),(0,he._getProvider)(cn,Ie).getImmediate()}class zt{constructor(Ke,Nt,bt,Nn){this.client=Ke,this.storage=Nt,this.storageCache=bt,this.logger=Nn}isCachedDataFresh(Ke,Nt){if(!Nt)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const bt=Date.now()-Nt,Nn=bt<=Ke;return this.logger.debug(`Config fetch cache check. Cache age millis: ${bt}. Cache max age millis (minimumFetchIntervalMillis setting): ${Ke}. Is cache hit: ${Nn}.`),Nn}fetch(Ke){var Nt=this;return(0,p.Z)(function*(){const[bt,Nn]=yield Promise.all([Nt.storage.getLastSuccessfulFetchTimestampMillis(),Nt.storage.getLastSuccessfulFetchResponse()]);if(Nn&&Nt.isCachedDataFresh(Ke.cacheMaxAgeMillis,bt))return Nn;Ke.eTag=Nn&&Nn.eTag;const ur=yield Nt.client.fetch(Ke),rr=[Nt.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ur.status&&rr.push(Nt.storage.setLastSuccessfulFetchResponse(ur)),yield Promise.all(rr),ur})()}}function jt(cn=navigator){return cn.languages&&cn.languages[0]||cn.language}class pn{constructor(Ke,Nt,bt,Nn,ur,rr){this.firebaseInstallations=Ke,this.sdkVersion=Nt,this.namespace=bt,this.projectId=Nn,this.apiKey=ur,this.appId=rr}fetch(Ke){var Nt=this;return(0,p.Z)(function*(){const[bt,Nn]=yield Promise.all([Nt.firebaseInstallations.getId(),Nt.firebaseInstallations.getToken()]),rr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Nt.projectId}/namespaces/${Nt.namespace}:fetch?key=${Nt.apiKey}`,jr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Ke.eTag||"*"},ri={sdk_version:Nt.sdkVersion,app_instance_id:bt,app_instance_id_token:Nn,app_id:Nt.appId,language_code:jt()},hn={method:"POST",headers:jr,body:JSON.stringify(ri)},an=fetch(rr,hn),Ln=new Promise((fi,Yn)=>{Ke.signal.addEventListener(()=>{const ys=new Error("The operation was aborted.");ys.name="AbortError",Yn(ys)})});let yr;try{yield Promise.race([an,Ln]),yr=yield an}catch(fi){let Yn="fetch-client-network";throw"AbortError"===fi?.name&&(Yn="fetch-timeout"),Ae.create(Yn,{originalErrorMessage:fi?.message})}let Hr=yr.status;const hi=yr.headers.get("ETag")||void 0;let Xi,si;if(200===yr.status){let fi;try{fi=yield yr.json()}catch(Yn){throw Ae.create("fetch-client-parse",{originalErrorMessage:Yn?.message})}Xi=fi.entries,si=fi.state}if("INSTANCE_STATE_UNSPECIFIED"===si?Hr=500:"NO_CHANGE"===si?Hr=304:("NO_TEMPLATE"===si||"EMPTY_CONFIG"===si)&&(Xi={}),304!==Hr&&200!==Hr)throw Ae.create("fetch-status",{httpStatus:Hr});return{status:Hr,eTag:hi,config:Xi}})()}}class Vn{constructor(Ke,Nt){this.client=Ke,this.storage=Nt}fetch(Ke){var Nt=this;return(0,p.Z)(function*(){const bt=(yield Nt.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Nt.attemptFetch(Ke,bt)})()}attemptFetch(Ke,{throttleEndTimeMillis:Nt,backoffCount:bt}){var Nn=this;return(0,p.Z)(function*(){yield function Er(cn,Ke){return new Promise((Nt,bt)=>{const Nn=Math.max(Ke-Date.now(),0),ur=setTimeout(Nt,Nn);cn.addEventListener(()=>{clearTimeout(ur),bt(Ae.create("fetch-throttle",{throttleEndTimeMillis:Ke}))})})}(Ke.signal,Nt);try{const ur=yield Nn.client.fetch(Ke);return yield Nn.storage.deleteThrottleMetadata(),ur}catch(ur){if(!function cr(cn){if(!(cn instanceof ae.ZR&&cn.customData))return!1;const Ke=Number(cn.customData.httpStatus);return 429===Ke||500===Ke||503===Ke||504===Ke}(ur))throw ur;const rr={throttleEndTimeMillis:Date.now()+(0,ae.$s)(bt),backoffCount:bt+1};return yield Nn.storage.setThrottleMetadata(rr),Nn.attemptFetch(Ke,rr)}})()}}class Dr{constructor(Ke,Nt,bt,Nn,ur){this.app=Ke,this._client=Nt,this._storageCache=bt,this._storage=Nn,this._logger=ur,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mi(cn,Ke){const Nt=cn.target.error||void 0;return Ae.create(Ke,{originalErrorMessage:Nt&&Nt?.message})}const Qn="app_namespace_store";class vr{constructor(Ke,Nt,bt,Nn=function Mn(){return new Promise((cn,Ke)=>{try{const Nt=indexedDB.open("firebase_remote_config",1);Nt.onerror=bt=>{Ke(mi(bt,"storage-open"))},Nt.onsuccess=bt=>{cn(bt.target.result)},Nt.onupgradeneeded=bt=>{0===bt.oldVersion&&bt.target.result.createObjectStore(Qn,{keyPath:"compositeKey"})}}catch(Nt){Ke(Ae.create("storage-open",{originalErrorMessage:Nt?.message}))}})}()){this.appId=Ke,this.appName=Nt,this.namespace=bt,this.openDbPromise=Nn}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Ke){return this.set("last_fetch_status",Ke)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Ke){return this.set("last_successful_fetch_timestamp_millis",Ke)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Ke){return this.set("last_successful_fetch_response",Ke)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Ke){return this.set("active_config",Ke)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Ke){return this.set("active_config_etag",Ke)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Ke){return this.set("throttle_metadata",Ke)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Ke){var Nt=this;return(0,p.Z)(function*(){const bt=yield Nt.openDbPromise;return new Promise((Nn,ur)=>{const jr=bt.transaction([Qn],"readonly").objectStore(Qn),ri=Nt.createCompositeKey(Ke);try{const hn=jr.get(ri);hn.onerror=an=>{ur(mi(an,"storage-get"))},hn.onsuccess=an=>{const Ln=an.target.result;Nn(Ln?Ln.value:void 0)}}catch(hn){ur(Ae.create("storage-get",{originalErrorMessage:hn?.message}))}})})()}set(Ke,Nt){var bt=this;return(0,p.Z)(function*(){const Nn=yield bt.openDbPromise;return new Promise((ur,rr)=>{const ri=Nn.transaction([Qn],"readwrite").objectStore(Qn),hn=bt.createCompositeKey(Ke);try{const an=ri.put({compositeKey:hn,value:Nt});an.onerror=Ln=>{rr(mi(Ln,"storage-set"))},an.onsuccess=()=>{ur()}}catch(an){rr(Ae.create("storage-set",{originalErrorMessage:an?.message}))}})})()}delete(Ke){var Nt=this;return(0,p.Z)(function*(){const bt=yield Nt.openDbPromise;return new Promise((Nn,ur)=>{const jr=bt.transaction([Qn],"readwrite").objectStore(Qn),ri=Nt.createCompositeKey(Ke);try{const hn=jr.delete(ri);hn.onerror=an=>{ur(mi(an,"storage-delete"))},hn.onsuccess=()=>{Nn()}}catch(hn){ur(Ae.create("storage-delete",{originalErrorMessage:hn?.message}))}})})()}createCompositeKey(Ke){return[this.appId,this.appName,this.namespace,Ke].join()}}class _r{constructor(Ke){this.storage=Ke}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Ke=this;return(0,p.Z)(function*(){const Nt=Ke.storage.getLastFetchStatus(),bt=Ke.storage.getLastSuccessfulFetchTimestampMillis(),Nn=Ke.storage.getActiveConfig(),ur=yield Nt;ur&&(Ke.lastFetchStatus=ur);const rr=yield bt;rr&&(Ke.lastSuccessfulFetchTimestampMillis=rr);const jr=yield Nn;jr&&(Ke.activeConfig=jr)})()}setLastFetchStatus(Ke){return this.lastFetchStatus=Ke,this.storage.setLastFetchStatus(Ke)}setLastSuccessfulFetchTimestampMillis(Ke){return this.lastSuccessfulFetchTimestampMillis=Ke,this.storage.setLastSuccessfulFetchTimestampMillis(Ke)}setActiveConfig(Ke){return this.activeConfig=Ke,this.storage.setActiveConfig(Ke)}}function Si(){return zi.apply(this,arguments)}function zi(){return(zi=(0,p.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Cr(){(0,he._registerComponent)(new Ve.wA(Ie,function cn(Ke,{instanceIdentifier:Nt}){const bt=Ke.getProvider("app").getImmediate(),Nn=Ke.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ae.create("registration-window");if(!(0,ae.hl)())throw Ae.create("indexed-db-unavailable");const{projectId:ur,apiKey:rr,appId:jr}=bt.options;if(!ur)throw Ae.create("registration-project-id");if(!rr)throw Ae.create("registration-api-key");if(!jr)throw Ae.create("registration-app-id");const ri=new vr(jr,bt.name,Nt=Nt||"firebase"),hn=new _r(ri),an=new ut.Yd(Ge);an.logLevel=ut.in.ERROR;const Ln=new pn(Nn,he.SDK_VERSION,Nt,ur,rr,jr),yr=new Vn(Ln,ri),Hr=new zt(yr,ri,hn,an),hi=new Dr(bt,Hr,hn,ri,an);return function Lt(cn){const Ke=(0,ae.m9)(cn);Ke._initializePromise||(Ke._initializePromise=Ke._storageCache.loadFromStorage().then(()=>{Ke._isInitializationComplete=!0}))}(hi),hi},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(Ge,"0.4.0"),(0,he.registerVersion)(Ge,"0.4.0","esm2017")}()},8766:(jn,Tt,Q)=>{Q.d(Tt,{Lj:()=>kt,X3:()=>Ot});var p=Q(5861);let ae,Ve;const Ge=new WeakMap,it=new WeakMap,dt=new WeakMap,Ie=new WeakMap,we=new WeakMap;let Rt={get(et,mt,Oe){if(et instanceof IDBTransaction){if("done"===mt)return it.get(et);if("objectStoreNames"===mt)return et.objectStoreNames||dt.get(et);if("store"===mt)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return vt(et[mt])},set:(et,mt,Oe)=>(et[mt]=Oe,!0),has:(et,mt)=>et instanceof IDBTransaction&&("done"===mt||"store"===mt)||mt in et};function rt(et){return"function"==typeof et?function tn(et){return et!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lt(){return Ve||(Ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(et)?function(...mt){return et.apply(Dt(this),mt),vt(Ge.get(this))}:function(...mt){return vt(et.apply(Dt(this),mt))}:function(mt,...Oe){const Te=et.call(Dt(this),mt,...Oe);return dt.set(Te,mt.sort?mt.sort():[mt]),vt(Te)}}(et):(et instanceof IDBTransaction&&function Pt(et){if(it.has(et))return;const mt=new Promise((Oe,Te)=>{const Ye=()=>{et.removeEventListener("complete",He),et.removeEventListener("error",zt),et.removeEventListener("abort",zt)},He=()=>{Oe(),Ye()},zt=()=>{Te(et.error||new DOMException("AbortError","AbortError")),Ye()};et.addEventListener("complete",He),et.addEventListener("error",zt),et.addEventListener("abort",zt)});it.set(et,mt)}(et),((et,mt)=>mt.some(Oe=>et instanceof Oe))(et,function ut(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(et,Rt):et)}function vt(et){if(et instanceof IDBRequest)return function Ae(et){const mt=new Promise((Oe,Te)=>{const Ye=()=>{et.removeEventListener("success",He),et.removeEventListener("error",zt)},He=()=>{Oe(vt(et.result)),Ye()},zt=()=>{Te(et.error),Ye()};et.addEventListener("success",He),et.addEventListener("error",zt)});return mt.then(Oe=>{Oe instanceof IDBCursor&&Ge.set(Oe,et)}).catch(()=>{}),we.set(mt,et),mt}(et);if(Ie.has(et))return Ie.get(et);const mt=rt(et);return mt!==et&&(Ie.set(et,mt),we.set(mt,et)),mt}const Dt=et=>we.get(et);function Ot(et,mt,{blocked:Oe,upgrade:Te,blocking:Ye,terminated:He}={}){const zt=indexedDB.open(et,mt),jt=vt(zt);return Te&&zt.addEventListener("upgradeneeded",pn=>{Te(vt(zt.result),pn.oldVersion,pn.newVersion,vt(zt.transaction))}),Oe&&zt.addEventListener("blocked",()=>Oe()),jt.then(pn=>{He&&pn.addEventListener("close",()=>He()),Ye&&pn.addEventListener("versionchange",()=>Ye())}).catch(()=>{}),jt}function kt(et,{blocked:mt}={}){const Oe=indexedDB.deleteDatabase(et);return mt&&Oe.addEventListener("blocked",()=>mt()),vt(Oe).then(()=>{})}const Lt=["get","getKey","getAll","getAllKeys","count"],xt=["put","add","delete","clear"],Yt=new Map;function ke(et,mt){if(!(et instanceof IDBDatabase)||mt in et||"string"!=typeof mt)return;if(Yt.get(mt))return Yt.get(mt);const Oe=mt.replace(/FromIndex$/,""),Te=mt!==Oe,Ye=xt.includes(Oe);if(!(Oe in(Te?IDBIndex:IDBObjectStore).prototype)||!Ye&&!Lt.includes(Oe))return;const He=function(){var zt=(0,p.Z)(function*(jt,...pn){const Er=this.transaction(jt,Ye?"readwrite":"readonly");let cr=Er.store;return Te&&(cr=cr.index(pn.shift())),(yield Promise.all([cr[Oe](...pn),Ye&&Er.done]))[0]});return function(pn){return zt.apply(this,arguments)}}();return Yt.set(mt,He),He}!function sn(et){Rt=et(Rt)}(et=>({...et,get:(mt,Oe,Te)=>ke(mt,Oe)||et.get(mt,Oe,Te),has:(mt,Oe)=>!!ke(mt,Oe)||et.has(mt,Oe)}))},5861:(jn,Tt,Q)=>{function p(ae,Ve,ut,lt,Ge,it,dt){try{var Ie=ae[it](dt),we=Ie.value}catch(Ae){return void ut(Ae)}Ie.done?Ve(we):Promise.resolve(we).then(lt,Ge)}function he(ae){return function(){var Ve=this,ut=arguments;return new Promise(function(lt,Ge){var it=ae.apply(Ve,ut);function dt(we){p(it,lt,Ge,dt,Ie,"next",we)}function Ie(we){p(it,lt,Ge,dt,Ie,"throw",we)}dt(void 0)})}}Q.d(Tt,{Z:()=>he})}},jn=>{jn(jn.s=1894)}]);